{"version":3,"sources":["webpack:///40.200197dca04f05abe3f2.js","webpack:///./public/stylesheets/auth.less?9289","webpack:///./public/stylesheets/auth.less","webpack:///./src/pages/LoginPage.jsx","webpack:///./src/pages/LoadingPage.jsx?e975"],"names":["webpackJsonp","1104","module","exports","__webpack_require__","dispose","refs","content","i","use","ref","locals","unuse","unref","1186","push","1393","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_react","_react2","_reflux","_reflux2","_reactBootstrap","_common","_bootstrap","_LoadingPage","_LoadingPage2","_StoreProvider","_StoreProvider2","_ActionsProvider","_ActionsProvider2","_disconnected","_disconnected2","_auth","_auth2","SessionStore","getStore","SessionActions","getActions","LoginPage","createClass","displayName","mixins","connect","ListenerMethods","getInitialState","loading","componentDidMount","validate","componentWillUnmount","onSignInClicked","event","_this","this","preventDefault","resetLastError","setState","username","getValue","password","location","document","host","promise","login","triggerPromise","catch","error","additional","status","lastError","message","finally","isMounted","formatLastError","createElement","className","Alert","bsStyle","onClick","undefined","render","state","validatingSession","alert","DocumentTitle","title","id","Row","onSubmit","Input","type","placeholder","autoFocus","FormGroup","Button","disabled","1466","component","React","desc","loadComponent","callback","e","then","bind","oe","Mixin"],"mappings":"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","file":"40.200197dca04f05abe3f2.js","sourcesContent":["webpackJsonp([40],{\n\n/***/ 1104:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar refs = 0;\nvar dispose;\nvar content = __webpack_require__(1186);\nif(typeof content === 'string') content = [[module.i, content, '']];\nexports.use = exports.ref = function() {\n\tif(!(refs++)) {\n\t\texports.locals = content.locals;\n\t\tdispose = __webpack_require__(20)(content, {});\n\t}\n\treturn exports;\n};\nexports.unuse = exports.unref = function() {\n\tif(!(--refs)) {\n\t\tdispose();\n\t\tdispose = null;\n\t}\n};\nif(false) {\n\tvar lastRefs = module.hot.data && module.hot.data.refs || 0;\n\tif(lastRefs) {\n\t\texports.ref();\n\t\tif(!content.locals) {\n\t\t\trefs = lastRefs;\n\t\t}\n\t}\n\tif(!content.locals) {\n\t\tmodule.hot.accept();\n\t}\n\tmodule.hot.dispose(function(data) {\n\t\tdata.refs = content.locals ? 0 : refs;\n\t\tif(dispose) {\n\t\t\tdispose();\n\t\t}\n\t});\n}\n\n/***/ }),\n\n/***/ 1186:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(19)();\n// imports\n\n\n// module\nexports.push([module.i, \"body{font-family:Open Sans,sans-serif;background:url(\" + __webpack_require__(276) + \") no-repeat 50% fixed;-moz-background-size:cover;-webkit-background-size:cover;-o-background-size:cover;background-size:cover}#login-box{margin-top:120px}#login-box .form-group{margin-bottom:10px}#login-box-content{background-color:#fff;-moz-box-shadow:0 0 5px #888;-webkit-box-shadow:0 0 5px #888;box-shadow:0 0 40px #000}.well{padding-top:8px;padding-bottom:2px}#login-box form{margin-bottom:10px}.footer{font-size:11px;color:#aaa;margin-top:0;position:relative;top:7px}.login-advanced{margin-top:10px;border-top:1px solid #ccc}.login-advanced label{font-size:12px;width:150px}.login-advanced label input{position:relative;top:-2px;margin-right:3px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 1393:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = __webpack_require__(2);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reflux = __webpack_require__(1);\n\nvar _reflux2 = _interopRequireDefault(_reflux);\n\nvar _reactBootstrap = __webpack_require__(15);\n\nvar _common = __webpack_require__(48);\n\nvar _bootstrap = __webpack_require__(43);\n\nvar _LoadingPage = __webpack_require__(1466);\n\nvar _LoadingPage2 = _interopRequireDefault(_LoadingPage);\n\nvar _StoreProvider = __webpack_require__(18);\n\nvar _StoreProvider2 = _interopRequireDefault(_StoreProvider);\n\nvar _ActionsProvider = __webpack_require__(7);\n\nvar _ActionsProvider2 = _interopRequireDefault(_ActionsProvider);\n\nvar _disconnected = __webpack_require__(272);\n\nvar _disconnected2 = _interopRequireDefault(_disconnected);\n\nvar _auth = __webpack_require__(1104);\n\nvar _auth2 = _interopRequireDefault(_auth);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SessionStore = _StoreProvider2.default.getStore('Session');\n\nvar SessionActions = _ActionsProvider2.default.getActions('Session');\n\nvar LoginPage = _react2.default.createClass({\n  displayName: 'LoginPage',\n\n  mixins: [_reflux2.default.connect(SessionStore), _reflux2.default.ListenerMethods],\n\n  getInitialState: function getInitialState() {\n    return {\n      loading: false\n    };\n  },\n  componentDidMount: function componentDidMount() {\n    _disconnected2.default.use();\n    _auth2.default.use();\n    SessionActions.validate();\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    _disconnected2.default.unuse();\n    _auth2.default.unuse();\n  },\n  onSignInClicked: function onSignInClicked(event) {\n    var _this = this;\n\n    event.preventDefault();\n    this.resetLastError();\n    this.setState({ loading: true });\n    var username = this.refs.username.getValue();\n    var password = this.refs.password.getValue();\n    var location = document.location.host;\n    var promise = SessionActions.login.triggerPromise(username, password, location);\n    promise.catch(function (error) {\n      if (error.additional.status === 401) {\n        _this.setState({ lastError: 'Invalid credentials, please verify them and retry.' });\n      } else {\n        _this.setState({ lastError: 'Error - the server returned: ' + error.additional.status + ' - ' + error.message });\n      }\n    });\n    promise.finally(function () {\n      if (_this.isMounted()) {\n        _this.setState({ loading: false });\n      }\n    });\n  },\n  formatLastError: function formatLastError(error) {\n    if (error) {\n      return _react2.default.createElement(\n        'div',\n        { className: 'form-group' },\n        _react2.default.createElement(\n          _reactBootstrap.Alert,\n          { bsStyle: 'danger' },\n          _react2.default.createElement(\n            'a',\n            { className: 'close', onClick: this.resetLastError },\n            '\\xD7'\n          ),\n          error\n        )\n      );\n    }\n    return null;\n  },\n  resetLastError: function resetLastError() {\n    this.setState({ lastError: undefined });\n  },\n  render: function render() {\n    if (this.state.validatingSession) {\n      return _react2.default.createElement(_LoadingPage2.default, null);\n    }\n\n    var alert = this.formatLastError(this.state.lastError);\n    return _react2.default.createElement(\n      _common.DocumentTitle,\n      { title: 'Sign in' },\n      _react2.default.createElement(\n        'div',\n        null,\n        _react2.default.createElement(\n          'div',\n          { className: 'container', id: 'login-box' },\n          _react2.default.createElement(\n            _reactBootstrap.Row,\n            null,\n            _react2.default.createElement(\n              'form',\n              { className: 'col-md-4 col-md-offset-4 well', id: 'login-box-content', onSubmit: this.onSignInClicked },\n              _react2.default.createElement(\n                'legend',\n                null,\n                _react2.default.createElement('i', { className: 'fa fa-group' }),\n                ' Welcome to Graylog'\n              ),\n              alert,\n              _react2.default.createElement(_bootstrap.Input, { ref: 'username', type: 'text', placeholder: 'Username', autoFocus: true }),\n              _react2.default.createElement(_bootstrap.Input, { ref: 'password', type: 'password', placeholder: 'Password' }),\n              _react2.default.createElement(\n                _reactBootstrap.FormGroup,\n                null,\n                _react2.default.createElement(\n                  _reactBootstrap.Button,\n                  { type: 'submit', bsStyle: 'info', disabled: this.state.loading },\n                  this.state.loading ? 'Signing in...' : 'Sign in'\n                )\n              )\n            )\n          )\n        )\n      )\n    );\n  }\n});\n\nexports.default = LoginPage;\nmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ 1466:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar React = __webpack_require__(2);\nvar component;\nvar desc = {\n\tloadComponent: function(callback) {\n\t\tif(!component) {\n\t\t\t__webpack_require__.e/* require.ensure */(55).then((function() {\n\t\t\t\tcomponent = __webpack_require__(1185);\n\t\t\t\tif(callback) callback(component);\n\t\t\t}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);\n\t\t} else if(callback) callback(component);\n\t\treturn component;\n\t},\n};\nvar mixinReactProxy = __webpack_require__(116);\nmixinReactProxy(React, desc);\nmodule.exports = React.createClass(desc);\nmodule.exports.Mixin = desc;\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 40.200197dca04f05abe3f2.js","var refs = 0;\nvar dispose;\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/less-loader/index.js!./auth.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nexports.use = exports.ref = function() {\n\tif(!(refs++)) {\n\t\texports.locals = content.locals;\n\t\tdispose = require(\"!../../node_modules/style-loader/addStyles.js\")(content, {});\n\t}\n\treturn exports;\n};\nexports.unuse = exports.unref = function() {\n\tif(!(--refs)) {\n\t\tdispose();\n\t\tdispose = null;\n\t}\n};\nif(module.hot) {\n\tvar lastRefs = module.hot.data && module.hot.data.refs || 0;\n\tif(lastRefs) {\n\t\texports.ref();\n\t\tif(!content.locals) {\n\t\t\trefs = lastRefs;\n\t\t}\n\t}\n\tif(!content.locals) {\n\t\tmodule.hot.accept();\n\t}\n\tmodule.hot.dispose(function(data) {\n\t\tdata.refs = content.locals ? 0 : refs;\n\t\tif(dispose) {\n\t\t\tdispose();\n\t\t}\n\t});\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader/useable.js!./~/css-loader!./~/less-loader!./public/stylesheets/auth.less\n// module id = 1104\n// module chunks = 40 44","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"body{font-family:Open Sans,sans-serif;background:url(\" + require(\"../images/auth/loginbg.jpg\") + \") no-repeat 50% fixed;-moz-background-size:cover;-webkit-background-size:cover;-o-background-size:cover;background-size:cover}#login-box{margin-top:120px}#login-box .form-group{margin-bottom:10px}#login-box-content{background-color:#fff;-moz-box-shadow:0 0 5px #888;-webkit-box-shadow:0 0 5px #888;box-shadow:0 0 40px #000}.well{padding-top:8px;padding-bottom:2px}#login-box form{margin-bottom:10px}.footer{font-size:11px;color:#aaa;margin-top:0;position:relative;top:7px}.login-advanced{margin-top:10px;border-top:1px solid #ccc}.login-advanced label{font-size:12px;width:150px}.login-advanced label input{position:relative;top:-2px;margin-right:3px}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/less-loader!./public/stylesheets/auth.less\n// module id = 1186\n// module chunks = 40 44","import React from 'react';\nimport Reflux from 'reflux';\nimport { Row, Button, FormGroup, Alert } from 'react-bootstrap';\nimport { DocumentTitle } from 'components/common';\n\nimport { Input } from 'components/bootstrap';\nimport LoadingPage from './LoadingPage';\n\nimport StoreProvider from 'injection/StoreProvider';\nconst SessionStore = StoreProvider.getStore('Session');\nimport ActionsProvider from 'injection/ActionsProvider';\nconst SessionActions = ActionsProvider.getActions('Session');\n\nimport disconnectedStyle from '!style/useable!css!less!stylesheets/disconnected.less';\nimport authStyle from '!style/useable!css!less!stylesheets/auth.less';\n\nconst LoginPage = React.createClass({\n  mixins: [Reflux.connect(SessionStore), Reflux.ListenerMethods],\n\n  getInitialState() {\n    return {\n      loading: false,\n    };\n  },\n\n  componentDidMount() {\n    disconnectedStyle.use();\n    authStyle.use();\n    SessionActions.validate();\n  },\n  componentWillUnmount() {\n    disconnectedStyle.unuse();\n    authStyle.unuse();\n  },\n\n  onSignInClicked(event) {\n    event.preventDefault();\n    this.resetLastError();\n    this.setState({ loading: true });\n    const username = this.refs.username.getValue();\n    const password = this.refs.password.getValue();\n    const location = document.location.host;\n    const promise = SessionActions.login.triggerPromise(username, password, location);\n    promise.catch((error) => {\n      if (error.additional.status === 401) {\n        this.setState({ lastError: 'Invalid credentials, please verify them and retry.' });\n      } else {\n        this.setState({ lastError: `Error - the server returned: ${error.additional.status} - ${error.message}` });\n      }\n    });\n    promise.finally(() => {\n      if (this.isMounted()) {\n        this.setState({ loading: false });\n      }\n    });\n  },\n  formatLastError(error) {\n    if (error) {\n      return (\n        <div className=\"form-group\">\n          <Alert bsStyle=\"danger\">\n            <a className=\"close\" onClick={this.resetLastError}>×</a>{error}\n          </Alert>\n        </div>\n      );\n    }\n    return null;\n  },\n  resetLastError() {\n    this.setState({ lastError: undefined });\n  },\n  render() {\n    if (this.state.validatingSession) {\n      return (\n        <LoadingPage />\n      );\n    }\n\n    const alert = this.formatLastError(this.state.lastError);\n    return (\n      <DocumentTitle title=\"Sign in\">\n        <div>\n          <div className=\"container\" id=\"login-box\">\n            <Row>\n              <form className=\"col-md-4 col-md-offset-4 well\" id=\"login-box-content\" onSubmit={this.onSignInClicked}>\n                <legend><i className=\"fa fa-group\" /> Welcome to Graylog</legend>\n\n                {alert}\n\n                <Input ref=\"username\" type=\"text\" placeholder=\"Username\" autoFocus />\n\n                <Input ref=\"password\" type=\"password\" placeholder=\"Password\" />\n\n                <FormGroup>\n                  <Button type=\"submit\" bsStyle=\"info\" disabled={this.state.loading}>\n                    {this.state.loading ? 'Signing in...' : 'Sign in'}\n                  </Button>\n                </FormGroup>\n\n              </form>\n            </Row>\n          </div>\n        </div>\n      </DocumentTitle>\n    );\n  },\n});\n\nexport default LoginPage;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/LoginPage.jsx","var React = require(\"react\");\nvar component;\nvar desc = {\n\tloadComponent: function(callback) {\n\t\tif(!component) {\n\t\t\trequire.ensure([], function() {\n\t\t\t\tcomponent = require(\"!!../../node_modules/babel-loader/lib/index.js??ref--1!./LoadingPage.jsx\");\n\t\t\t\tif(callback) callback(component);\n\t\t\t});\n\t\t} else if(callback) callback(component);\n\t\treturn component;\n\t},\n};\nvar mixinReactProxy = require(\"../../node_modules/react-proxy-loader/mixinReactProxy.js\");\nmixinReactProxy(React, desc);\nmodule.exports = React.createClass(desc);\nmodule.exports.Mixin = desc;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/LoadingPage.jsx\n// module id = 1466\n// module chunks = 40"],"sourceRoot":""}