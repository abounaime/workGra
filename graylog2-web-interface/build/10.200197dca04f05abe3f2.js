webpackJsonp([10],{1e3:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),i=n(a),r=t(15),l=t(48),o=t(49),s=n(o),d=t(954),u=i.default.createClass({displayName:"IndexSummary",propTypes:{children:i.default.PropTypes.node.isRequired,index:i.default.PropTypes.object.isRequired,indexRange:i.default.PropTypes.object,isDeflector:i.default.PropTypes.bool.isRequired,name:i.default.PropTypes.string.isRequired},getInitialState:function(){return{showDetails:this.props.isDeflector}},_formatLabels:function(e){var t=[];return e.is_deflector&&t.push(i.default.createElement(r.Label,{key:this.props.name+"-deflector-label",bsStyle:"primary"},"active write index")),e.is_closed&&t.push(i.default.createElement(r.Label,{key:this.props.name+"-closed-label",bsStyle:"warning"},"closed")),e.is_reopened&&t.push(i.default.createElement(r.Label,{key:this.props.name+"-reopened-label",bsStyle:"success"},"reopened")),i.default.createElement("span",{className:"index-label"},t)},_formatIndexRange:function(){if(this.props.isDeflector)return i.default.createElement("span",null,"Contains messages up to ",i.default.createElement(l.Timestamp,{dateTime:(new s.default).toISOString(),relative:!0}));var e=this.props.index.size;if(e){var t=e.events,n=e.deleted;if(0===t||t-n==0)return"Index does not contain any messages."}return this.props.indexRange?0===this.props.indexRange.begin?i.default.createElement("span",null,"Contains messages up to ",i.default.createElement(l.Timestamp,{dateTime:this.props.indexRange.end,relative:!0})):i.default.createElement("span",null,"Contains messages from ",i.default.createElement(l.Timestamp,{dateTime:this.props.indexRange.begin,relative:!0})," up to"," ",i.default.createElement(l.Timestamp,{dateTime:this.props.indexRange.end,relative:!0})):"Time range of index is unknown, because index range is not available. Please recalculate index ranges manually."},_formatShowDetailsLink:function(){return this.state.showDetails?i.default.createElement("span",{className:"index-more-actions"},i.default.createElement("i",{className:"fa fa-caret-down"})," Hide Details / Actions"):i.default.createElement("span",{className:"index-more-actions"},i.default.createElement("i",{className:"fa fa-caret-right"})," Show Details / Actions")},_toggleShowDetails:function(e){e.preventDefault(),this.setState({showDetails:!this.state.showDetails})},render:function(){var e=this.props.index;return i.default.createElement("span",null,i.default.createElement("h2",null,this.props.name," ",i.default.createElement("small",null,this._formatLabels(e)," ",this._formatIndexRange(e)," ",i.default.createElement(d.IndexSizeSummary,{index:e}),i.default.createElement("a",{onClick:this._toggleShowDetails,href:"#"},this._formatShowDetailsLink()))),i.default.createElement("div",{className:"index-info-holder"},this.state.showDetails&&this.props.children))}});exports.default=u,e.exports=exports.default},1001:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),i=n(a),r=t(15),l=t(258),o=t(993),s=n(o);t(970),t(969);var d=t(982),u=i.default.createClass({displayName:"IndicesConfiguration",propTypes:{indexSet:i.default.PropTypes.object.isRequired},componentDidMount:function(){d.use()},componentWillUnmount:function(){d.unuse()},render:function(){if(!this.props.indexSet.writable)return i.default.createElement(r.Row,null,i.default.createElement(r.Col,{md:12},"Index set is not writable and will not be included in index rotation and retention. It is also not possible to assign it to a stream."));var e={strategy:this.props.indexSet.rotation_strategy_class,config:this.props.indexSet.rotation_strategy},t={strategy:this.props.indexSet.retention_strategy_class,config:this.props.indexSet.retention_strategy};return i.default.createElement(r.Row,null,i.default.createElement(r.Col,{md:6},i.default.createElement(s.default,{config:e,pluginExports:l.PluginStore.exports("indexRotationConfig")})),i.default.createElement(r.Col,{md:6},i.default.createElement(s.default,{config:t,pluginExports:l.PluginStore.exports("indexRetentionConfig")})))}});exports.default=u,e.exports=exports.default},1002:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),i=n(a),r=t(15),l=t(7),o=n(l),s=t(18),d=n(s),u=o.default.getActions("Deflector"),f=o.default.getActions("IndexRanges"),c=(d.default.getStore("Deflector"),i.default.createClass({displayName:"IndicesMaintenanceDropdown",propTypes:{indexSetId:i.default.PropTypes.string.isRequired,indexSet:i.default.PropTypes.object},_onRecalculateIndexRange:function(){window.confirm("This will recalculate index ranges for this index set using a background system job. Do you want to proceed?")&&f.recalculate(this.props.indexSetId)},_onCycleDeflector:function(){var e=this;window.confirm("This will manually cycle the current active write index on this index set. Do you want to proceed?")&&u.cycle(this.props.indexSetId).then(function(){u.list(e.props.indexSetId)})},render:function(){var e=void 0;return this.props.indexSet&&this.props.indexSet.writable&&(e=i.default.createElement(r.MenuItem,{eventKey:"2",onClick:this._onCycleDeflector},"Rotate active write index")),i.default.createElement(r.ButtonGroup,null,i.default.createElement(r.DropdownButton,{bsStyle:"info",title:"Maintenance",id:"indices-maintenance-actions",pullRight:!0},i.default.createElement(r.MenuItem,{eventKey:"1",onClick:this._onRecalculateIndexRange},"Recalculate index ranges"),e))}}));exports.default=c,e.exports=exports.default},1003:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),i=n(a),r=t(15),l=t(951),o=n(l),s=t(954),d=i.default.createClass({displayName:"IndicesOverview",propTypes:{closedIndices:i.default.PropTypes.array.isRequired,deflector:i.default.PropTypes.object.isRequired,indexDetails:i.default.PropTypes.object.isRequired,indices:i.default.PropTypes.object.isRequired,indexSetId:i.default.PropTypes.string.isRequired},_formatIndex:function(e,t){var n=this.props.indices[e],a=n&&n.range?n.range:null;return i.default.createElement(r.Row,{key:"index-summary-"+e,className:"content index-description"},i.default.createElement(r.Col,{md:12},i.default.createElement(s.IndexSummary,{index:t,name:e,count:n.size,indexRange:a,isDeflector:n.is_deflector},i.default.createElement("span",null,i.default.createElement(s.IndexDetails,{index:this.props.indexDetails[e],indexName:e,indexRange:a,indexSetId:this.props.indexSetId,isDeflector:n.is_deflector})))))},_formatClosedIndex:function(e,t){var n=t.range;return i.default.createElement(r.Row,{key:"index-summary-"+e,className:"content index-description"},i.default.createElement(r.Col,{md:12},i.default.createElement(s.IndexSummary,{index:t,name:e,indexRange:n,isDeflector:t.is_deflector},i.default.createElement("span",null,i.default.createElement(s.ClosedIndexDetails,{indexName:e,indexRange:n})))))},render:function(){var e=this,t=Object.keys(this.props.indices).map(function(t){return e.props.indices[t].is_closed?e._formatClosedIndex(t,e.props.indices[t]):e._formatIndex(t,e.props.indices[t])});return i.default.createElement("span",null,t.sort(function(e,t){return(0,o.default)(t.key,e.key)}))}});exports.default=d,e.exports=exports.default},1004:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),i=n(a),r=t(115),l=n(r),o=t(34),s=n(o),d=i.default.createClass({displayName:"ShardMeter",propTypes:{title:i.default.PropTypes.string.isRequired,shardMeter:i.default.PropTypes.object.isRequired},_formatMeter:function(e){var t=i.default.createElement("span",null,(0,l.default)(e.total).format("0,0")," ops");return e.total>0?i.default.createElement("span",null,t," ",i.default.createElement("span",{title:e.time_seconds+"s"},"(took ",s.default.duration(e.time_seconds,"seconds").humanize(),")")):t},render:function(){var e=this.props.shardMeter;return i.default.createElement("span",null,i.default.createElement("h3",{style:{display:"inline"}},this.props.title),i.default.createElement("dl",null,i.default.createElement("dt",null,"Index:"),i.default.createElement("dd",null,this._formatMeter(e.index)),i.default.createElement("dt",null,"Flush:"),i.default.createElement("dd",null,this._formatMeter(e.flush)),i.default.createElement("dt",null,"Merge:"),i.default.createElement("dd",null,this._formatMeter(e.merge)),i.default.createElement("dt",null,"Query:"),i.default.createElement("dd",null,this._formatMeter(e.search_query)),i.default.createElement("dt",null,"Fetch:"),i.default.createElement("dd",null,this._formatMeter(e.search_fetch)),i.default.createElement("dt",null,"Get:"),i.default.createElement("dd",null,this._formatMeter(e.get)),i.default.createElement("dt",null,"Refresh:"),i.default.createElement("dd",null,this._formatMeter(e.refresh))))}});exports.default=d,e.exports=exports.default},1005:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),i=n(a),r=t(67),l=n(r),o=t(15),s=i.default.createClass({displayName:"ShardRouting",propTypes:{route:i.default.PropTypes.object.isRequired},render:function(){var e=this.props.route,t=i.default.createElement(o.Tooltip,{id:"shard-route-state-tooltip"},"State: ",i.default.createElement("i",null,e.state)," on ",e.node_hostname," (",e.node_name,")");return i.default.createElement("li",{className:(0,l.default)("shard","shard-"+e.state,{"shard-primary":e.primary})},i.default.createElement(o.OverlayTrigger,{placement:"top",overlay:t},i.default.createElement("span",{className:"id"},"S",e.id)))}});exports.default=s,e.exports=exports.default},1006:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),i=n(a),r=t(954),l=t(951),o=n(l),s=i.default.createClass({displayName:"ShardRoutingOverview",propTypes:{routing:i.default.PropTypes.array.isRequired,indexName:i.default.PropTypes.string.isRequired},render:function(){var e=this.props,t=e.indexName,n=e.routing;return i.default.createElement("div",{className:"shard-routing"},i.default.createElement("h3",null,"Shard routing"),i.default.createElement("ul",{className:"shards"},n.sort(function(e,t){return(0,o.default)(e.id,t.id)}).map(function(e){return i.default.createElement(r.ShardRouting,{key:t+"-shard-route-"+e.node_id+"-"+e.id,route:e})})),i.default.createElement("br",{style:{clear:"both"}}),i.default.createElement("div",{className:"description"},"Bold shards are primaries, others are replicas. Replicas are elected to primaries automatically when primaries leave the cluster. Size and document counts only reflect primary shards and no possible replica duplication."))}});exports.default=s,e.exports=exports.default},1007:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=t(2),a=function(e){return e&&e.__esModule?e:{default:e}}(n),i=t(43),r=a.default.createClass({displayName:"ClosingRetentionStrategyConfiguration",propTypes:{config:a.default.PropTypes.object.isRequired,jsonSchema:a.default.PropTypes.object.isRequired,updateConfig:a.default.PropTypes.func.isRequired},getInitialState:function(){return{max_number_of_indices:this.props.config.max_number_of_indices}},_onInputUpdate:function(e){var t=this;return function(n){var a={};a[e]=n.target.value,t.setState(a),t.props.updateConfig(a)}},render:function(){return a.default.createElement("div",null,a.default.createElement("fieldset",null,a.default.createElement(i.Input,{type:"number",id:"max-number-of-indices",label:"Max number of indices",onChange:this._onInputUpdate("max_number_of_indices"),value:this.state.max_number_of_indices,help:a.default.createElement("span",null,"Maximum number of indices to keep before ",a.default.createElement("strong",null,"closing")," the oldest ones"),required:!0})))}});exports.default=r,e.exports=exports.default},1008:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=t(2),a=function(e){return e&&e.__esModule?e:{default:e}}(n),i=a.default.createClass({displayName:"ClosingRetentionStrategySummary",propTypes:{config:a.default.PropTypes.object.isRequired},render:function(){return a.default.createElement("div",null,a.default.createElement("dl",null,a.default.createElement("dt",null,"Index retention strategy:"),a.default.createElement("dd",null,"Close"),a.default.createElement("dt",null,"Max number of indices:"),a.default.createElement("dd",null,this.props.config.max_number_of_indices)))}});exports.default=i,e.exports=exports.default},1009:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=t(2),a=function(e){return e&&e.__esModule?e:{default:e}}(n),i=t(43),r=a.default.createClass({displayName:"DeletionRetentionStrategyConfiguration",propTypes:{config:a.default.PropTypes.object.isRequired,jsonSchema:a.default.PropTypes.object.isRequired,updateConfig:a.default.PropTypes.func.isRequired},getInitialState:function(){return{max_number_of_indices:this.props.config.max_number_of_indices}},_onInputUpdate:function(e){var t=this;return function(n){var a={};a[e]=n.target.value,t.setState(a),t.props.updateConfig(a)}},render:function(){return a.default.createElement("div",null,a.default.createElement("fieldset",null,a.default.createElement(i.Input,{type:"number",id:"max-number-of-indices",label:"Max number of indices",onChange:this._onInputUpdate("max_number_of_indices"),value:this.state.max_number_of_indices,help:a.default.createElement("span",null,"Maximum number of indices to keep before ",a.default.createElement("strong",null,"deleting")," the oldest ones"),required:!0})))}});exports.default=r,e.exports=exports.default},1010:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=t(2),a=function(e){return e&&e.__esModule?e:{default:e}}(n),i=a.default.createClass({displayName:"DeletionRetentionStrategySummary",propTypes:{config:a.default.PropTypes.object.isRequired},render:function(){return a.default.createElement("div",null,a.default.createElement("dl",null,a.default.createElement("dt",null,"Index retention strategy:"),a.default.createElement("dd",null,"Delete"),a.default.createElement("dt",null,"Max number of indices:"),a.default.createElement("dd",null,this.props.config.max_number_of_indices)))}});exports.default=i,e.exports=exports.default},1011:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=t(2),a=function(e){return e&&e.__esModule?e:{default:e}}(n),i=t(15),r=a.default.createClass({displayName:"NoopRetentionStrategyConfiguration",render:function(){return a.default.createElement(i.Alert,null,"This retention strategy is not configurable because it does not do anything.")}});exports.default=r,e.exports=exports.default},1012:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=t(2),a=function(e){return e&&e.__esModule?e:{default:e}}(n),i=a.default.createClass({displayName:"NoopRetentionStrategySummary",render:function(){return a.default.createElement("div",null,a.default.createElement("dl",null,a.default.createElement("dt",null,"Index retention strategy:"),a.default.createElement("dd",null,"Do nothing")))}});exports.default=i,e.exports=exports.default},1013:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=t(2),a=function(e){return e&&e.__esModule?e:{default:e}}(n),i=t(43),r=a.default.createClass({displayName:"MessageCountRotationStrategyConfiguration",propTypes:{config:a.default.PropTypes.object.isRequired,jsonSchema:a.default.PropTypes.object.isRequired,updateConfig:a.default.PropTypes.func.isRequired},getInitialState:function(){return{max_docs_per_index:this.props.config.max_docs_per_index}},_onInputUpdate:function(e){var t=this;return function(n){var a={};a[e]=n.target.value,t.setState(a),t.props.updateConfig(a)}},render:function(){return a.default.createElement("div",null,a.default.createElement("fieldset",null,a.default.createElement(i.Input,{type:"number",id:"max-docs-per-index",label:"Max documents per index",onChange:this._onInputUpdate("max_docs_per_index"),value:this.state.max_docs_per_index,help:"Maximum number of documents in an index before it gets rotated",required:!0})))}});exports.default=r,e.exports=exports.default},1014:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=t(2),a=function(e){return e&&e.__esModule?e:{default:e}}(n),i=a.default.createClass({displayName:"MessageCountRotationStrategySummary",propTypes:{config:a.default.PropTypes.object.isRequired},render:function(){return a.default.createElement("div",null,a.default.createElement("dl",null,a.default.createElement("dt",null,"Index rotation strategy:"),a.default.createElement("dd",null,"Message Count"),a.default.createElement("dt",null,"Max docs per index:"),a.default.createElement("dd",null,this.props.config.max_docs_per_index)))}});exports.default=i,e.exports=exports.default},1015:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),i=n(a),r=t(43),l=t(117),o=n(l),s=i.default.createClass({displayName:"SizeBasedRotationStrategyConfiguration",propTypes:{config:i.default.PropTypes.object.isRequired,jsonSchema:i.default.PropTypes.object.isRequired,updateConfig:i.default.PropTypes.func.isRequired},getInitialState:function(){return{max_size:this.props.config.max_size}},_onInputUpdate:function(e){var t=this;return function(n){var a={};a[e]=n.target.value,t.setState(a),t.props.updateConfig(a)}},_formatSize:function(){return o.default.formatBytes(this.state.max_size)},render:function(){return i.default.createElement("div",null,i.default.createElement("fieldset",null,i.default.createElement(r.Input,{type:"number",id:"max-size",label:"Max size per index (in bytes)",onChange:this._onInputUpdate("max_size"),value:this.state.max_size,help:"Maximum size of an index before it gets rotated",addonAfter:this._formatSize(),required:!0})))}});exports.default=s,e.exports=exports.default},1016:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),i=n(a),r=t(117),l=n(r),o=i.default.createClass({displayName:"SizeBasedRotationStrategySummary",propTypes:{config:i.default.PropTypes.object.isRequired},render:function(){return i.default.createElement("div",null,i.default.createElement("dl",null,i.default.createElement("dt",null,"Index rotation strategy:"),i.default.createElement("dd",null,"Index Size"),i.default.createElement("dt",null,"Max index size:"),i.default.createElement("dd",null,this.props.config.max_size," bytes (",l.default.formatBytes(this.props.config.max_size),")")))}});exports.default=o,e.exports=exports.default},1017:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),i=n(a),r=t(43),l=t(34),o=n(l),s=i.default.createClass({displayName:"TimeBasedRotationStrategyConfiguration",propTypes:{config:i.default.PropTypes.object.isRequired,jsonSchema:i.default.PropTypes.object.isRequired,updateConfig:i.default.PropTypes.func.isRequired},getInitialState:function(){return{rotation_period:this.props.config.rotation_period}},_onPeriodUpdate:function(e){var t=this;return function(){var n={},a=t.refs[e].getValue().toUpperCase();a.startsWith("P")||(a="P"+a),n[e]=a,t.setState(n),t._isValidPeriod(n[e])&&t.props.updateConfig(n)}},_isValidPeriod:function(e){var t=e||this.state.rotation_period;return o.default.duration(t).asMilliseconds()>=36e5},_validationState:function(){if(!this._isValidPeriod())return"error"},_formatDuration:function(){return this._isValidPeriod()?o.default.duration(this.state.rotation_period).humanize():"invalid (min 1 hour)"},render:function(){return i.default.createElement("div",null,i.default.createElement(r.Input,{type:"text",ref:"rotation_period",label:"Rotation period (ISO8601 Duration)",onChange:this._onPeriodUpdate("rotation_period"),value:this.state.rotation_period,help:'How long an index gets written to before it is rotated. (i.e. "P1D" for 1 day, "PT6H" for 6 hours)',addonAfter:this._formatDuration(),bsStyle:this._validationState(),required:!0}))}});exports.default=s,e.exports=exports.default},1018:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),i=n(a),r=t(34),l=n(r);t(264);var o=i.default.createClass({displayName:"TimeBasedRotationStrategySummary",propTypes:{config:i.default.PropTypes.object.isRequired},_humanizedPeriod:function(){var e=l.default.duration(this.props.config.rotation_period);return e.format()+", "+e.humanize()},render:function(){return i.default.createElement("div",null,i.default.createElement("dl",null,i.default.createElement("dt",null,"Index rotation strategy:"),i.default.createElement("dd",null,"Index Time"),i.default.createElement("dt",null,"Rotation period:"),i.default.createElement("dd",null,this.props.config.rotation_period," (",this._humanizedPeriod(),")")))}});exports.default=o,e.exports=exports.default},1033:function(e,exports,t){exports=e.exports=t(19)(),exports.push([e.i,".index-set-details dt{float:left;width:160px;overflow:hidden;clear:left;text-align:left;text-overflow:ellipsis;white-space:nowrap}.index-set-details dd{margin-left:180px}.index-set-details dl{margin-bottom:0}",""])},1034:function(e,exports,t){var n,a=0,i=t(1033);"string"==typeof i&&(i=[[e.i,i,""]]),exports.use=exports.ref=function(){return a++||(exports.locals=i.locals,n=t(20)(i,{})),exports},exports.unuse=exports.unref=function(){--a||(n(),n=null)}},1382:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),i=n(a),r=t(1),l=n(r),o=t(949),s=t(15),d=t(48),u=t(954),f=t(960),c=t(86),p=n(c),m=t(952),g=n(m),h=t(75),x=n(h),y=p.default.get("IndexSets"),_=y.IndexSetsStore,S=y.IndexSetsActions,E=p.default.get("IndicesConfiguration"),v=E.IndicesConfigurationStore,b=E.IndicesConfigurationActions,C=i.default.createClass({displayName:"IndexSetConfigurationPage",propTypes:{params:i.default.PropTypes.object.isRequired,location:i.default.PropTypes.object.isRequired},mixins:[l.default.connect(_),l.default.connect(v)],getInitialState:function(){return{indexSet:void 0}},componentDidMount:function(){S.get(this.props.params.indexSetId),b.loadRotationStrategies(),b.loadRetentionStrategies()},_formCancelLink:function(){return"details"===this.props.location.query.from?x.default.SYSTEM.INDEX_SETS.SHOW(this.state.indexSet.id):x.default.SYSTEM.INDICES.LIST},_saveConfiguration:function(e){var t=this;S.update(e).then(function(){t.props.history.pushState(null,x.default.SYSTEM.INDICES.LIST)})},_isLoading:function(){return!this.state.indexSet||!this.state.rotationStrategies||!this.state.retentionStrategies},render:function(){if(this._isLoading())return i.default.createElement(d.Spinner,null);var e=this.state.indexSet;return i.default.createElement(d.DocumentTitle,{title:"Configure Index Set"},i.default.createElement("div",null,i.default.createElement(d.PageHeader,{title:"Configure Index Set"},i.default.createElement("span",null,"Modify the current configuration for this index set, allowing you to customize the retention, sharding, and replication of messages coming from one or more streams."),i.default.createElement("span",null,"You can learn more about the index model in the"," ",i.default.createElement(f.DocumentationLink,{page:g.default.PAGES.INDEX_MODEL,text:"documentation"})),i.default.createElement("span",null,i.default.createElement(o.LinkContainer,{to:x.default.SYSTEM.INDICES.LIST},i.default.createElement(s.Button,{bsStyle:"info"},"Index sets overview")))),i.default.createElement(s.Row,{className:"content"},i.default.createElement(s.Col,{md:12},i.default.createElement(u.IndexSetConfigurationForm,{indexSet:e,rotationStrategies:this.state.rotationStrategies,retentionStrategies:this.state.retentionStrategies,cancelLink:this._formCancelLink(),onUpdate:this._saveConfiguration})))))}});exports.default=C,e.exports=exports.default},954:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(990);Object.defineProperty(exports,"ClosedIndexDetails",{enumerable:!0,get:function(){return n(a).default}});var i=t(991);Object.defineProperty(exports,"IndexDetails",{enumerable:!0,get:function(){return n(i).default}});var r=t(994);Object.defineProperty(exports,"IndexRangeSummary",{enumerable:!0,get:function(){return n(r).default}});var l=t(995);Object.defineProperty(exports,"IndexSetConfigurationForm",{enumerable:!0,get:function(){return n(l).default}});var o=t(996);Object.defineProperty(exports,"IndexSetDeletionForm",{enumerable:!0,get:function(){return n(o).default}});var s=t(997);Object.defineProperty(exports,"IndexSetDetails",{enumerable:!0,get:function(){return n(s).default}});var d=t(998);Object.defineProperty(exports,"IndexSetsComponent",{enumerable:!0,get:function(){return n(d).default}});var u=t(1e3);Object.defineProperty(exports,"IndexSummary",{enumerable:!0,get:function(){return n(u).default}});var f=t(999);Object.defineProperty(exports,"IndexSizeSummary",{enumerable:!0,get:function(){return n(f).default}});var c=t(1002);Object.defineProperty(exports,"IndicesMaintenanceDropdown",{enumerable:!0,get:function(){return n(c).default}});var p=t(1003);Object.defineProperty(exports,"IndicesOverview",{enumerable:!0,get:function(){return n(p).default}});var m=t(1001);Object.defineProperty(exports,"IndicesConfiguration",{enumerable:!0,get:function(){return n(m).default}});var g=t(1004);Object.defineProperty(exports,"ShardMeter",{enumerable:!0,get:function(){return n(g).default}});var h=t(1005);Object.defineProperty(exports,"ShardRouting",{enumerable:!0,get:function(){return n(h).default}});var x=t(1006);Object.defineProperty(exports,"ShardRoutingOverview",{enumerable:!0,get:function(){return n(x).default}})},969:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=t(258),i=t(1009),r=n(i),l=t(1010),o=n(l),s=t(1007),d=n(s),u=t(1008),f=n(u),c=t(1011),p=n(c),m=t(1012),g=n(m);a.PluginStore.register(new a.PluginManifest({},{indexRetentionConfig:[{type:"org.graylog2.indexer.retention.strategies.DeletionRetentionStrategy",displayName:"Delete Index",configComponent:r.default,summaryComponent:o.default},{type:"org.graylog2.indexer.retention.strategies.ClosingRetentionStrategy",displayName:"Close Index",configComponent:d.default,summaryComponent:f.default},{type:"org.graylog2.indexer.retention.strategies.NoopRetentionStrategy",displayName:"Do nothing",configComponent:p.default,summaryComponent:g.default}]}))},970:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=t(258),i=t(1013),r=n(i),l=t(1014),o=n(l),s=t(1015),d=n(s),u=t(1016),f=n(u),c=t(1017),p=n(c),m=t(1018),g=n(m);a.PluginStore.register(new a.PluginManifest({},{indexRotationConfig:[{type:"org.graylog2.indexer.rotation.strategies.MessageCountRotationStrategy",displayName:"Index Message Count",configComponent:r.default,summaryComponent:o.default},{type:"org.graylog2.indexer.rotation.strategies.SizeBasedRotationStrategy",displayName:"Index Size",configComponent:d.default,summaryComponent:f.default},{type:"org.graylog2.indexer.rotation.strategies.TimeBasedRotationStrategy",displayName:"Index Time",configComponent:p.default,summaryComponent:g.default}]}))},978:function(e,exports,t){exports=e.exports=t(19)(),exports.push([e.i,".deflist{margin-top:10px}.deflist dt{float:left;clear:left}.deflist dd{margin-left:160px}.top-margin,hr.separator{margin-top:10px}hr.separator{margin-bottom:5px}",""])},982:function(e,exports,t){var n,a=0,i=t(978);"string"==typeof i&&(i=[[e.i,i,""]]),exports.use=exports.ref=function(){return a++||(exports.locals=i.locals,n=t(20)(i,{})),exports},exports.unuse=exports.unref=function(){--a||(n(),n=null)}},990:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),i=n(a),r=t(15),l=t(7),o=n(l),s=t(954),d=o.default.getActions("Indices"),u=i.default.createClass({displayName:"ClosedIndexDetails",propTypes:{indexName:i.default.PropTypes.string.isRequired,indexRange:i.default.PropTypes.object},_onReopen:function(){d.reopen(this.props.indexName)},_onDeleteIndex:function(){window.confirm("Really delete index "+this.props.indexName+"?")&&d.delete(this.props.indexName)},render:function(){var e=this.props.indexRange;return i.default.createElement("div",{className:"index-info"},i.default.createElement(s.IndexRangeSummary,{indexRange:e}),i.default.createElement(r.Alert,{bsStyle:"info"},i.default.createElement("i",{className:"fa fa-info-circle"})," This index is closed. Index information is not available"," ","at the moment, please reopen the index and try again."),i.default.createElement("hr",{style:{marginBottom:"5",marginTop:"10"}}),i.default.createElement(r.Button,{bsStyle:"warning",bsSize:"xs",onClick:this._onReopen},"Reopen index")," ",i.default.createElement(r.Button,{bsStyle:"danger",bsSize:"xs",onClick:this._onDeleteIndex},"Delete index"))}});exports.default=u,e.exports=exports.default},991:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),i=n(a),r=t(15),l=t(48),o=t(7),s=n(o),d=t(18),u=n(d),f=t(954),c=s.default.getActions("Indices"),p=s.default.getActions("IndexRanges");u.default.getStore("IndexRanges");var m=i.default.createClass({displayName:"IndexDetails",propTypes:{index:i.default.PropTypes.object.isRequired,indexName:i.default.PropTypes.string.isRequired,indexRange:i.default.PropTypes.object.isRequired,indexSetId:i.default.PropTypes.string.isRequired,isDeflector:i.default.PropTypes.bool.isRequired},componentDidMount:function(){c.subscribe(this.props.indexName)},componentWillUnmount:function(){c.unsubscribe(this.props.indexName)},_formatActionButtons:function(){return this.props.isDeflector?i.default.createElement("span",null,i.default.createElement(r.Button,{bsStyle:"warning",bsSize:"xs",disabled:!0},"Active write index cannot be closed")," ",i.default.createElement(r.Button,{bsStyle:"danger",bsSize:"xs",disabled:!0},"Active write index cannot be deleted")):i.default.createElement("span",null,i.default.createElement(r.Button,{bsStyle:"warning",bsSize:"xs",onClick:this._onRecalculateIndex},"Recalculate index ranges")," ",i.default.createElement(r.Button,{bsStyle:"warning",bsSize:"xs",onClick:this._onCloseIndex},"Close index")," ",i.default.createElement(r.Button,{bsStyle:"danger",bsSize:"xs",onClick:this._onDeleteIndex},"Delete index"))},_onRecalculateIndex:function(){var e=this;window.confirm("Really recalculate the index ranges for index "+this.props.indexName+"?")&&p.recalculateIndex(this.props.indexName).then(function(){c.list(e.props.indexSetId)})},_onCloseIndex:function(){var e=this;window.confirm("Really close index "+this.props.indexName+"?")&&c.close(this.props.indexName).then(function(){c.list(e.props.indexSetId)})},_onDeleteIndex:function(){var e=this;window.confirm("Really delete index "+this.props.indexName+"?")&&c.delete(this.props.indexName).then(function(){c.list(e.props.indexSetId)})},render:function(){if(!this.props.index||!this.props.index.all_shards)return i.default.createElement(l.Spinner,null);var e=this.props,t=e.index,n=e.indexRange,a=e.indexName;return i.default.createElement("div",{className:"index-info"},i.default.createElement(f.IndexRangeSummary,{indexRange:n})," ",t.all_shards.segments," segments,"," ",t.all_shards.open_search_contexts," open search contexts,"," ",t.all_shards.documents.deleted," deleted messages",i.default.createElement(r.Row,{style:{marginBottom:"10"}},i.default.createElement(r.Col,{md:4,className:"shard-meters"},i.default.createElement(f.ShardMeter,{title:"Primary shard operations",shardMeter:t.primary_shards})),i.default.createElement(r.Col,{md:4,className:"shard-meters"},i.default.createElement(f.ShardMeter,{title:"Total shard operations",shardMeter:t.all_shards}))),i.default.createElement(f.ShardRoutingOverview,{routing:t.routing,indexName:a}),i.default.createElement("hr",{style:{marginBottom:"5",marginTop:"10"}}),this._formatActionButtons())}});exports.default=m,e.exports=exports.default},992:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=t(2),a=function(e){return e&&e.__esModule?e:{default:e}}(n),i=t(43),r=t(48),l=a.default.createClass({displayName:"IndexMaintenanceStrategiesConfiguration",propTypes:{title:a.default.PropTypes.string.isRequired,description:a.default.PropTypes.string.isRequired,selectPlaceholder:a.default.PropTypes.string.isRequired,pluginExports:a.default.PropTypes.array.isRequired,strategies:a.default.PropTypes.array.isRequired,activeConfig:a.default.PropTypes.object.isRequired,updateState:a.default.PropTypes.func.isRequired},getInitialState:function(){return{activeStrategy:this.props.activeConfig.strategy,activeConfig:this.props.activeConfig.config,newStrategy:this.props.activeConfig.strategy,newConfig:this.props.activeConfig.config}},_getDefaultStrategyConfig:function(e){var t=this.props.strategies.filter(function(t){return t.type===e})[0];return t?t.default_config:void 0},_getStrategyJsonSchema:function(e){var t=this.props.strategies.filter(function(t){return t.type===e})[0];return t?t.json_schema:void 0},_getStrategyConfig:function(e){return this.state.activeStrategy===e?this.state.activeConfig:this._getDefaultStrategyConfig(e)},_onSelect:function(e){if(!e||e.length<1)return void this.setState({newStrategy:void 0});var t=this._getStrategyConfig(e);this.setState({newStrategy:e,newConfig:t}),this.props.updateState(e,t)},_addConfigType:function(e,t){var n=this.props.strategies.filter(function(t){return t.type===e})[0],a=t;return n&&(a.type=n.default_config.type),a},_onConfigUpdate:function(e){var t=this._addConfigType(this.state.newStrategy,e);this.setState({newConfig:t}),this.props.updateState(this.state.newStrategy,t)},_availableSelectOptions:function(){return this.props.pluginExports.map(function(e){return{value:e.type,label:e.displayName}})},_getConfigurationComponent:function(e){if(!e||e.length<1)return null;var t=this.props.pluginExports.filter(function(t){return t.type===e})[0];if(!t)return null;var n=this._getStrategyConfig(e),i=a.default.createElement(t.configComponent,{config:n,jsonSchema:this._getStrategyJsonSchema(e),updateConfig:this._onConfigUpdate});return a.default.createElement("span",{key:t.type},i)},_activeSelection:function(){return this.state.newStrategy},render:function(){return a.default.createElement("span",null,a.default.createElement("h3",null,this.props.title),a.default.createElement("p",{className:"description"},this.props.description),a.default.createElement(i.Input,{label:this.props.selectPlaceholder},a.default.createElement(r.Select,{placeholder:this.props.selectPlaceholder,options:this._availableSelectOptions(),matchProp:"value",value:this._activeSelection(),onValueChange:this._onSelect})),this._getConfigurationComponent(this._activeSelection()))}});exports.default=l,e.exports=exports.default},993:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),i=n(a),r=t(15),l=t(260),o=n(l),s=i.default.createClass({displayName:"IndexMaintenanceStrategiesSummary",propTypes:{config:i.default.PropTypes.object.isRequired,pluginExports:i.default.PropTypes.array.isRequired},render:function(){if(!this.props.config)return i.default.createElement(o.default,null);var e=this.props.config.strategy,t=this.props.pluginExports.filter(function(t){return t.type===e})[0];if(!t||!t.summaryComponent)return i.default.createElement(r.Alert,{bsStyle:"danger"},"Summary for strategy ",e," not found!");var n=i.default.createElement(t.summaryComponent,{config:this.props.config.config});return i.default.createElement("span",{key:t.type},n)}});exports.default=s,e.exports=exports.default},994:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=t(2),a=function(e){return e&&e.__esModule?e:{default:e}}(n),i=t(48),r=a.default.createClass({displayName:"IndexRangeSummary",propTypes:{indexRange:a.default.PropTypes.object},render:function(){var e=this.props.indexRange;return e?a.default.createElement("span",null,"Range re-calculated"," ",a.default.createElement("span",{title:e.calculated_at},a.default.createElement(i.Timestamp,{dateTime:e.calculated_at,relative:!0}))," ","in ",e.took_ms,"ms."):a.default.createElement("span",null,a.default.createElement("i",null,"No index range available."))}});exports.default=r,e.exports=exports.default},995:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),i=n(a),r=t(949),l=t(15),o=t(43),s=t(48),d=t(258),u=t(992),f=n(u);t(970),t(969);var c=i.default.createClass({displayName:"IndexSetConfigurationForm",propTypes:{indexSet:i.default.PropTypes.object.isRequired,rotationStrategies:i.default.PropTypes.array.isRequired,retentionStrategies:i.default.PropTypes.array.isRequired,create:i.default.PropTypes.bool,onUpdate:i.default.PropTypes.func.isRequired,cancelLink:i.default.PropTypes.string.isRequired},getInitialState:function(){return{indexSet:this.props.indexSet,validationErrors:{}}},_updateConfig:function(e,t){var n=this.state.indexSet;n[e]=t,this.setState({indexSet:n})},_validateIndexPrefix:function(e){var t=e.target.value;if(t.match(/^[a-z0-9][a-z0-9_\-+]*$/)){if(this.state.validationErrors[e.target.name]){var n=Object.assign({},this.state.validationErrors);delete n[e.target.name],this.setState({validationErrors:n})}}else{var a=Object.assign({},this.state.validationErrors);0===t.length?a[e.target.name]="Invalid index prefix: cannot be empty":0===t.indexOf("_")||0===t.indexOf("-")||0===t.indexOf("+")?a[e.target.name]="Invalid index prefix: must start with a letter or number":t.toLowerCase()!==t?a[e.target.name]="Invalid index prefix: must be lower case":a[e.target.name]="Invalid index prefix: must only contain letters, numbers, '_', '-' and '+'",this.setState({validationErrors:a})}this._onInputChange(e)},_onInputChange:function(e){this._updateConfig(e.target.name,e.target.value)},_onDisableOptimizationClick:function(e){this._updateConfig(e.target.name,e.target.checked)},_saveConfiguration:function(e){e.preventDefault();var t=Object.keys(this.state.validationErrors);if(0!==t.length)return void document.getElementsByName(t[0])[0].focus();this.props.onUpdate(this.state.indexSet)},_updateRotationConfigState:function(e,t){this._updateConfig("rotation_strategy_class",e),this._updateConfig("rotation_strategy",t)},_updateRetentionConfigState:function(e,t){this._updateConfig("retention_strategy_class",e),this._updateConfig("retention_strategy",t)},render:function(){var e=this.props.indexSet,t=this.state.validationErrors,n=void 0;if(this.props.rotationStrategies){var a={config:this.props.indexSet.rotation_strategy,strategy:this.props.indexSet.rotation_strategy_class};n=i.default.createElement(f.default,{title:"Index Rotation Configuration",description:"Graylog uses multiple indices to store documents in. You can configure the strategy it uses to determine when to rotate the currently active write index.",selectPlaceholder:"Select rotation strategy",pluginExports:d.PluginStore.exports("indexRotationConfig"),strategies:this.props.rotationStrategies,activeConfig:a,updateState:this._updateRotationConfigState})}else n=i.default.createElement(s.Spinner,null);var u=void 0;if(this.props.retentionStrategies){var c={config:this.props.indexSet.retention_strategy,strategy:this.props.indexSet.retention_strategy_class};u=i.default.createElement(f.default,{title:"Index Retention Configuration",description:"Graylog uses a retention strategy to clean up old indices.",selectPlaceholder:"Select retention strategy",pluginExports:d.PluginStore.exports("indexRetentionConfig"),strategies:this.props.retentionStrategies,activeConfig:c,updateState:this._updateRetentionConfigState})}else u=i.default.createElement(s.Spinner,null);var p=void 0;if(this.props.create){var m=i.default.createElement("span",null,"A ",i.default.createElement("strong",null,"unique")," prefix used in Elasticsearch indices belonging to this index set. The prefix must start with a letter or number, and can only contain letters, numbers, '_', '-' and '+'.");p=i.default.createElement("span",null,i.default.createElement(o.Input,{type:"text",id:"index-set-index-prefix",label:"Index prefix",name:"index_prefix",onChange:this._validateIndexPrefix,value:e.index_prefix,help:t.index_prefix?t.index_prefix:m,bsStyle:t.index_prefix?"error":null,required:!0}),i.default.createElement(o.Input,{type:"text",id:"index-set-index-analyzer",label:"Analyzer",name:"index_analyzer",onChange:this._onInputChange,value:e.index_analyzer,help:"Elasticsearch analyzer for this index set.",required:!0}))}return i.default.createElement(l.Row,null,i.default.createElement(l.Col,{md:8},i.default.createElement("form",{className:"form",onSubmit:this._saveConfiguration},i.default.createElement(l.Row,null,i.default.createElement(l.Col,{md:12},i.default.createElement(o.Input,{type:"text",id:"index-set-title",label:"Title",name:"title",onChange:this._onInputChange,value:e.title,help:"Descriptive name of the index set.",autoFocus:!0,required:!0}),i.default.createElement(o.Input,{type:"text",id:"index-set-description",label:"Description",name:"description",onChange:this._onInputChange,value:e.description,help:"Add a description of this index set.",required:!0}),p,i.default.createElement(o.Input,{type:"number",id:"index-set-shards",label:"Index shards",name:"shards",onChange:this._onInputChange,value:e.shards,help:"Number of Elasticsearch shards used per index in this index set.",required:!0}),i.default.createElement(o.Input,{type:"number",id:"index-set-replicas",label:"Index replicas",name:"replicas",onChange:this._onInputChange,value:e.replicas,help:"Number of Elasticsearch replicas used per index in this index set.",required:!0}),i.default.createElement(o.Input,{type:"number",id:"index-set-max-num-segments",label:"Max. number of segments",name:"index_optimization_max_num_segments",min:"1",onChange:this._onInputChange,value:e.index_optimization_max_num_segments,help:"Maximum number of segments per Elasticsearch index after optimization (force merge).",required:!0}),i.default.createElement(o.Input,{type:"checkbox",id:"index-set-disable-optimization",label:"Disable index optimization after rotation",name:"index_optimization_disabled",onChange:this._onDisableOptimizationClick,checked:e.index_optimization_disabled,help:"Disable Elasticsearch index optimization (force merge) after rotation."}))),i.default.createElement(l.Row,null,i.default.createElement(l.Col,{md:12},e.writable&&n)),i.default.createElement(l.Row,null,i.default.createElement(l.Col,{md:12},e.writable&&u)),i.default.createElement(l.Row,null,i.default.createElement(l.Col,{md:12},i.default.createElement(l.Button,{type:"submit",bsStyle:"primary",style:{marginRight:10}},"Save"),i.default.createElement(r.LinkContainer,{to:this.props.cancelLink},i.default.createElement(l.Button,{bsStyle:"default"},"Cancel")))))))}});exports.default=c,e.exports=exports.default},996:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),i=n(a),r=t(15),l=t(43),o=t(48),s=t(261),d=n(s),u=t(951),f=n(u),c=t(86),p=n(c),m=p.default.get("Streams"),g=m.StreamsStore,h=i.default.createClass({displayName:"IndexSetDeletionForm",propTypes:{indexSet:i.default.PropTypes.object.isRequired,onDelete:i.default.PropTypes.func.isRequired},getInitialState:function(){return{assignedStreams:void 0,deleteIndices:!0}},_onModalOpen:function(){var e=this;g.load(function(t){var n=[];t.forEach(function(t){t.index_set_id===e.props.indexSet.id&&n.push({id:t.id,title:t.title})}),e.setState({assignedStreams:n})})},_onRemoveClick:function(e){this.setState({deleteIndices:e.target.checked})},open:function(){this.refs["index-set-deletion-modal-"+this.props.indexSet.id].open()},close:function(){this.refs["index-set-deletion-modal-"+this.props.indexSet.id].close()},_isLoading:function(){return!this.state.assignedStreams},_isDeletable:function(){return!this._isLoading()&&this.state.assignedStreams.length<1&&!this.props.indexSet.default},_modalContent:function(){if(this._isLoading())return i.default.createElement(o.Spinner,{text:"Loading assigned streams..."});if(this.props.indexSet.default)return i.default.createElement(r.Row,null,i.default.createElement(r.Col,{md:12},i.default.createElement(r.Alert,{bsStyle:"danger"},"Unable to delete the index set because it is the default index set!")));if(!this._isDeletable()){var e=this.state.assignedStreams.sort(function(e,t){return(0,f.default)(e.title,t.title)}).map(function(e){return i.default.createElement("li",{key:"stream-id-"+e.id},e.title)});return i.default.createElement("div",null,i.default.createElement(r.Row,null,i.default.createElement(r.Col,{md:12},i.default.createElement(r.Alert,{bsStyle:"danger"},"Unable to delete the index set because it has assigned streams. Remove stream assignments to be able to delete this index set."))),i.default.createElement(r.Row,null,i.default.createElement(r.Col,{md:12},i.default.createElement("h4",null,"Assigned streams:"),i.default.createElement("ul",null,e))))}return i.default.createElement(r.Row,null,i.default.createElement(r.Col,{md:12},i.default.createElement(l.Input,{type:"checkbox",label:"Remove all data for this index set?",help:i.default.createElement("span",null,"All indices related to this index set will be deleted from Elasticsearch."),checked:this.state.deleteIndices,onChange:this._onRemoveClick})))},_onDelete:function(e){e.preventDefault(),this._isDeletable()&&this.props.onDelete(this.props.indexSet,this.state.deleteIndices)},render:function(){return i.default.createElement(d.default,{ref:"index-set-deletion-modal-"+this.props.indexSet.id,title:'Delete index set "'+this.props.indexSet.title+'"?',onModalOpen:this._onModalOpen,onSubmitForm:this._onDelete,submitButtonText:"Delete",submitButtonDisabled:!this._isDeletable()},this._modalContent())}});exports.default=h,e.exports=exports.default},997:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=t(2),a=function(e){return e&&e.__esModule?e:{default:e}}(n),i=t(15),r=t(954),l=t(1034),o=a.default.createClass({displayName:"IndexSetDetails",propTypes:{indexSet:a.default.PropTypes.object.isRequired},componentDidMount:function(){l.use()},componentWillUnmount:function(){l.unuse()},render:function(){var e=this.props.indexSet;return a.default.createElement(i.Row,{className:"index-set-details"},a.default.createElement(i.Col,{md:3},a.default.createElement("dl",null,a.default.createElement("dt",null,"Index prefix:"),a.default.createElement("dd",null,e.index_prefix),a.default.createElement("dt",null,"Shards:"),a.default.createElement("dd",null,e.shards),a.default.createElement("dt",null,"Replicas:"),a.default.createElement("dd",null,e.replicas))),a.default.createElement(i.Col,{md:6},a.default.createElement(r.IndicesConfiguration,{indexSet:e})))}});exports.default=o,e.exports=exports.default},998:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),i=n(a),r=t(1),l=n(r),o=t(949),s=t(15),d=t(48),u=t(75),f=n(u),c=t(87),p=n(c),m=t(117),g=n(m),h=t(954),x=t(86),y=n(x),_=y.default.get("IndexSets"),S=_.IndexSetsStore,E=_.IndexSetsActions,v=i.default.createClass({displayName:"IndexSetsComponent",mixins:[l.default.connect(S)],componentDidMount:function(){this.loadData(1,this.PAGE_SIZE)},loadData:function(e,t){this.currentPageNo=e,this.currentPageSize=t,E.listPaginated((e-1)*t,t,!0)},currentPageNo:1,currentPageSize:10,PAGE_SIZE:10,_onChangePaginatedList:function(e,t){this.loadData(e,t)},_onSetDefault:function(e){var t=this;return function(n){n.preventDefault(),E.setDefault(e).then(function(){return t.loadData(t.currentPageNo,t.currentPageSize)})}},_onDelete:function(e){var t=this;return function(n,a){a.preventDefault(),t.refs["index-set-deletion-form-"+e.id].open()}},_deleteIndexSet:function(e,t){var n=this;E.delete(e,t).then(function(){n.loadData(1,n.PAGE_SIZE)})},_formatIndexSet:function(e){var t=i.default.createElement("div",null,i.default.createElement(o.LinkContainer,{to:f.default.SYSTEM.INDEX_SETS.CONFIGURATION(e.id)},i.default.createElement(s.Button,{bsStyle:"info"},"Edit"))," ",i.default.createElement(s.DropdownButton,{title:"More Actions",id:"index-set-dropdown-"+e.id,pullRight:!0},i.default.createElement(s.MenuItem,{onSelect:this._onSetDefault(e),disabled:!e.writable||e.default},"Set as default"),i.default.createElement(s.MenuItem,{divider:!0}),i.default.createElement(s.MenuItem,{onSelect:this._onDelete(e)},"Delete"))),n=i.default.createElement(s.Col,{md:12},i.default.createElement(h.IndexSetDetails,{indexSet:e}),i.default.createElement(h.IndexSetDeletionForm,{ref:"index-set-deletion-form-"+e.id,indexSet:e,onDelete:this._deleteIndexSet})),a=i.default.createElement(o.LinkContainer,{to:f.default.SYSTEM.INDEX_SETS.SHOW(e.id)},i.default.createElement("a",null,e.title)),r=e.default?i.default.createElement(s.Label,{key:"index-set-"+e.id+"-default-label",bsStyle:"primary"},"default"):"",l=e.writable?"":i.default.createElement(s.Label,{key:"index-set-"+e.id+"-readOnly-label",bsStyle:"info"},"read only"),u=e.description;e.default&&(u+=(u.endsWith(".")?"":".")+" Graylog will use this index set by default.");var c=void 0,m=this.state.indexSetStats[e.id];if(m){c=g.default.formatNumber(m.indices)+" "+p.default.pluralize(m.indices,"index","indices")+", "+(g.default.formatNumber(m.documents)+" "+p.default.pluralize(m.documents,"document","documents"))+", "+g.default.formatBytes(m.size)}return i.default.createElement(d.EntityListItem,{key:"index-set-"+e.id,title:a,titleSuffix:i.default.createElement("span",null,c," ",r," ",l),description:u,actions:t,contentRow:n})},_isLoading:function(){return!this.state.indexSets},render:function(){var e=this;return this._isLoading()?i.default.createElement(d.Spinner,null):i.default.createElement("div",null,i.default.createElement(d.PaginatedList,{pageSize:this.PAGE_SIZE,totalItems:this.state.indexSetsCount,onChange:this._onChangePaginatedList,showPageSizeSelect:!1},i.default.createElement(d.EntityList,{bsNoItemsStyle:"info",noItemsText:"There are no index sets to display",items:this.state.indexSets.map(function(t){return e._formatIndexSet(t)})})))}});exports.default=v,e.exports=exports.default},999:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),i=n(a),r=t(115),l=n(r),o=t(117),s=n(o),d=i.default.createClass({displayName:"IndexSizeSummary",propTypes:{index:i.default.PropTypes.object.isRequired},render:function(){var e=this.props.index;return e.size?i.default.createElement("span",null,"(",s.default.formatBytes(e.size.bytes)," ","/ ",(0,l.default)(e.size.events).format("0,0")," messages)"," "):i.default.createElement("span",null)}});exports.default=d,e.exports=exports.default}});
//# sourceMappingURL=10.200197dca04f05abe3f2.js.map