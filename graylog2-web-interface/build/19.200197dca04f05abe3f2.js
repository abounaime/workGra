webpackJsonp([19],{1094:function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(2),r=a(n),l=t(1),s=a(l),o=t(15),i=t(48),u=t(117),d=a(u),m=t(962),c=a(m),f=t(18),p=a(f),g=t(7),h=a(g),E=p.default.getStore("Metrics"),y=h.default.getActions("Metrics"),v=r.default.createClass({displayName:"JvmHeapUsage",propTypes:{nodeId:n.PropTypes.string.isRequired},mixins:[s.default.connect(E)],componentWillMount:function(){var e=this;this.metricNames={usedMemory:"jvm.memory.heap.used",committedMemory:"jvm.memory.heap.committed",maxMemory:"jvm.memory.heap.max"},Object.keys(this.metricNames).forEach(function(t){return y.add(e.props.nodeId,e.metricNames[t])})},componentWillUnmount:function(){var e=this;Object.keys(this.metricNames).forEach(function(t){return y.remove(e.props.nodeId,e.metricNames[t])})},_extractMetricValues:function(){var e=this.props.nodeId,t=this.state.metrics[e],a=c.default.getValuesForNode(t,this.metricNames);return a.usedPercentage=0===a.maxMemory?0:a.usedMemory/a.maxMemory*100,a.committedPercentage=0===a.maxMemory?0:a.committedMemory/a.maxMemory*100,a},render:function(){var e=void 0,t=void 0;if(this.state.metrics){var a=this._extractMetricValues();0===Object.keys(a).length?(e=r.default.createElement("div",{className:"progress"}),t=r.default.createElement("p",null,"Heap information unavailable.")):(e=r.default.createElement(o.ProgressBar,null,r.default.createElement(o.ProgressBar,{className:"used-memory",now:a.usedPercentage}),r.default.createElement(o.ProgressBar,{className:"committed-memory",now:a.committedPercentage-a.usedPercentage})),t=r.default.createElement("p",null,"The JVM is using"," ",r.default.createElement("span",{className:"blob used-memory"}),r.default.createElement("strong",null," ",d.default.formatBytes(a.usedMemory))," ","of"," ",r.default.createElement("span",{className:"blob committed-memory"}),r.default.createElement("strong",null," ",d.default.formatBytes(a.committedMemory))," ","heap space and will not attempt to use more than"," ",r.default.createElement("span",{className:"blob max-memory",style:{border:"1px solid #ccc"}}),r.default.createElement("strong",null," ",d.default.formatBytes(a.maxMemory))))}else e=r.default.createElement(o.ProgressBar,null),t=r.default.createElement("p",null,r.default.createElement(i.Spinner,{text:"Loading heap usage information..."}));return r.default.createElement("div",{className:"graylog-node-heap","data-node-id":this.props.nodeId},e,t)}});exports.default=v,e.exports=exports.default},1097:function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(2),r=a(n),l=t(1),s=a(l),o=t(115),i=a(o),u=t(48),d=t(962),m=a(d),c=t(18),f=a(c),p=t(7),g=a(p),h=f.default.getStore("Metrics"),E=g.default.getActions("Metrics"),y=r.default.createClass({displayName:"NodeThroughput",propTypes:{nodeId:n.PropTypes.string.isRequired,longFormat:n.PropTypes.bool},mixins:[s.default.connect(h)],getDefaultProps:function(){return{longFormat:!1}},componentWillMount:function(){var e=this;this.metricNames={totalIn:"org.graylog2.throughput.input.1-sec-rate",totalOut:"org.graylog2.throughput.output.1-sec-rate"},Object.keys(this.metricNames).forEach(function(t){return E.add(e.props.nodeId,e.metricNames[t])})},componentWillUnmount:function(){var e=this;Object.keys(this.metricNames).forEach(function(t){return E.remove(e.props.nodeId,e.metricNames[t])})},_isLoading:function(){return!this.state.metrics},_formatThroughput:function(e){return this.props.longFormat?r.default.createElement("span",null,"Processing ",r.default.createElement("strong",null,(0,i.default)(e.totalIn).format("0,0"))," incoming and ",r.default.createElement("strong",null,(0,i.default)(e.totalOut).format("0,0"))," outgoing msg/s."):r.default.createElement("span",null,"In ",(0,i.default)(e.totalIn).format("0,0")," / Out ",(0,i.default)(e.totalOut).format("0,0")," msg/s.")},render:function(){if(this._isLoading())return r.default.createElement(u.Spinner,{text:"Loading throughput..."});var e=this.props.nodeId,t=this.state.metrics[e],a=m.default.getValuesForNode(t,this.metricNames);return 0===Object.keys(a).length?r.default.createElement("span",null,"Unable to load throughput."):this._formatThroughput(a)}});exports.default=y,e.exports=exports.default},1151:function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(2),r=a(n),l=t(1),s=a(l),o=t(115),i=(a(o),t(15)),u=t(949),d=t(18),m=a(d),c=t(7),f=a(c),p=t(75),g=a(p),h=t(117),E=a(h),y=t(48),v=m.default.getStore("Metrics"),_=f.default.getActions("Metrics"),b=r.default.createClass({displayName:"BufferUsage",propTypes:{bufferType:r.default.PropTypes.string.isRequired,nodeId:r.default.PropTypes.string.isRequired,title:r.default.PropTypes.node.isRequired},mixins:[s.default.connect(v)],componentWillMount:function(){var e=this,t=this._metricPrefix();[t+".usage",t+".size"].forEach(function(t){return _.add(e.props.nodeId,t)})},_metricPrefix:function(){return"org.graylog2.buffers."+this.props.bufferType},_metricFilter:function(){return"org\\.graylog2\\.buffers\\."+this.props.bufferType+"\\.|"+this.props.bufferType+"buffer"},render:function(){if(!this.state.metrics)return r.default.createElement(y.Spinner,null);var e=this.props.nodeId,t=this._metricPrefix(),a=this.state.metrics[e][t+".usage"],n=a?a.metric.value:NaN,l=this.state.metrics[e][t+".size"],s=l?l.metric.value:NaN,o=isNaN(n)||isNaN(s)?0:n/s,d=E.default.formatPercentage(o);return r.default.createElement("div",null,r.default.createElement(u.LinkContainer,{to:g.default.filtered_metrics(e,this._metricFilter())},r.default.createElement(i.Button,{bsSize:"xsmall",className:"pull-right"},"Metrics")),r.default.createElement("h3",null,this.props.title),r.default.createElement("div",{className:"node-buffer-usage"},r.default.createElement(i.ProgressBar,{now:100*o,bsStyle:"warning",label:d})),r.default.createElement("span",null,r.default.createElement("strong",null,n," messages")," in ",this.props.title.toLowerCase(),", ",d," utilized."))}});exports.default=b,e.exports=exports.default},1152:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=function(e){return e&&e.__esModule?e:{default:e}}(a),r=t(15),l=t(48),s=n.default.createClass({displayName:"InputTypesDataTable",propTypes:{inputDescriptions:a.PropTypes.object},_headerCellFormatter:function(e){return n.default.createElement("th",null,e)},_inputTypeFormatter:function(e){return n.default.createElement("tr",{key:e.type},n.default.createElement("td",{className:"limited"},e.name),n.default.createElement("td",{className:"limited"},e.type),n.default.createElement("td",{className:"limited",style:{width:150}},e.link_to_docs&&n.default.createElement("a",{href:e.link_to_docs,target:"_blank"},n.default.createElement("i",{className:"fa fa-external-link"})," Documentation")))},render:function(){var e=this;if(!this.props.inputDescriptions)return n.default.createElement(l.Spinner,{text:"Loading input types..."});if(0===Object.keys(this.props.inputDescriptions).length)return n.default.createElement(r.Alert,{bsStyle:"warning"},n.default.createElement("i",{className:"fa fa-exclamation-triangle"}),"  Input types are unavailable.");var t=["Name","Type","Documentation"],a=Object.keys(this.props.inputDescriptions).map(function(t){return e.props.inputDescriptions[t]});return n.default.createElement(l.DataTable,{id:"input-types-list",rowClassName:"row-sm",className:"table-hover table-condensed table-striped",headers:t,headerCellFormatter:this._headerCellFormatter,sortByKey:"name",rows:a,dataRowFormatter:this._inputTypeFormatter,filterLabel:"Filter",filterKeys:[]})}});exports.default=s,e.exports=exports.default},1153:function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(2),r=a(n),l=t(1),s=a(l),o=t(949),i=t(15),u=t(115),d=a(u),m=t(34),c=a(m);t(264);var f=t(962),p=a(f),g=t(7),h=a(g),E=t(18),y=a(E),v=t(48),_=t(117),b=a(_),N=t(75),M=a(N),P=h.default.getActions("Metrics"),I=y.default.getStore("Metrics"),T=y.default.getStore("Journal"),j=r.default.createClass({displayName:"JournalDetails",propTypes:{nodeId:n.PropTypes.string.isRequired},mixins:[s.default.connect(I)],getInitialState:function(){return{journalInformation:void 0}},componentDidMount:function(){var e=this;T.get(this.props.nodeId).then(function(t){e.setState({journalInformation:t},e._listenToMetrics)})},componentWillUnmount:function(){var e=this;this.metricNames&&Object.keys(this.metricNames).forEach(function(t){return P.remove(e.props.nodeId,e.metricNames[t])})},_listenToMetrics:function(){var e=this;this.state.journalInformation.enabled&&(this.metricNames={append:"org.graylog2.journal.append.1-sec-rate",read:"org.graylog2.journal.read.1-sec-rate",segments:"org.graylog2.journal.segments",entriesUncommitted:"org.graylog2.journal.entries-uncommitted",utilizationRatio:"org.graylog2.journal.utilization-ratio",oldestSegment:"org.graylog2.journal.oldest-segment"},Object.keys(this.metricNames).forEach(function(t){return P.add(e.props.nodeId,e.metricNames[t])}))},_isLoading:function(){return!(this.state.metrics&&this.state.journalInformation)},render:function(){if(this._isLoading())return r.default.createElement(v.Spinner,{text:"Loading journal metrics..."});var e=this.props.nodeId,t=this.state.metrics[e],a=this.state.journalInformation;if(!a.enabled)return r.default.createElement(i.Alert,{bsStyle:"warning"},r.default.createElement("i",{className:"fa fa-exclamation-triangle"}),"  The disk journal is disabled on this node.");var n=this.metricNames?p.default.getValuesForNode(t,this.metricNames):{};if(0===Object.keys(n).length)return r.default.createElement(i.Alert,{bsStyle:"warning"},r.default.createElement("i",{className:"fa fa-exclamation-triangle"}),"  Journal metrics unavailable.");var l=(0,c.default)(n.oldestSegment),s=void 0;return n.utilizationRatio>=1&&(s=r.default.createElement("span",null,r.default.createElement("strong",null,"Warning!")," The journal utilization is exceeding the maximum size defined."," ",r.default.createElement(o.LinkContainer,{to:M.default.SYSTEM.OVERVIEW},r.default.createElement("a",null,"Click here"))," for more information.",r.default.createElement("br",null))),r.default.createElement(i.Row,{className:"row-sm"},r.default.createElement(i.Col,{md:6},r.default.createElement("h3",null,"Configuration"),r.default.createElement("dl",{className:"system-journal"},r.default.createElement("dt",null,"Path:"),r.default.createElement("dd",null,a.journal_config.directory),r.default.createElement("dt",null,"Earliest entry:"),r.default.createElement("dd",null,r.default.createElement(v.Timestamp,{dateTime:l,relative:!0})),r.default.createElement("dt",null,"Maximum size:"),r.default.createElement("dd",null,b.default.formatBytes(a.journal_config.max_size)),r.default.createElement("dt",null,"Maximum age:"),r.default.createElement("dd",null,c.default.duration(a.journal_config.max_age).format("d [days] h [hours] m [minutes]")),r.default.createElement("dt",null,"Flush policy:"),r.default.createElement("dd",null,"Every ",(0,d.default)(a.journal_config.flush_interval).format("0,0")," messages"," ","or ",c.default.duration(a.journal_config.flush_age).format("h [hours] m [minutes] s [seconds]")))),r.default.createElement(i.Col,{md:6,className:"journal-details-usage"},r.default.createElement("h3",null,"Utilization"),r.default.createElement(i.ProgressBar,{now:100*n.utilizationRatio,label:b.default.formatPercentage(n.utilizationRatio)}),s,r.default.createElement("strong",null,(0,d.default)(n.entriesUncommitted).format("0,0")," unprocessed messages")," ","are currently in the journal, in ",n.segments," segments.",r.default.createElement("br",null),r.default.createElement("strong",null,(0,d.default)(n.append).format("0,0")," messages")," ","have been appended in the last second,"," ",r.default.createElement("strong",null,(0,d.default)(n.read).format("0,0")," messages")," have been read in the last second."))}});exports.default=j,e.exports=exports.default},1154:function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(2),r=a(n),l=t(1),s=a(l),o=t(115),i=a(o),u=t(48),d=t(962),m=a(d),c=t(18),f=a(c),p=t(7),g=a(p),h=f.default.getStore("Metrics"),E=g.default.getActions("Metrics"),y=r.default.createClass({displayName:"JournalState",propTypes:{nodeId:n.PropTypes.string.isRequired},mixins:[s.default.connect(h)],componentWillMount:function(){var e=this;this.metricNames={append:"org.graylog2.journal.append.1-sec-rate",read:"org.graylog2.journal.read.1-sec-rate",segments:"org.graylog2.journal.segments",entriesUncommitted:"org.graylog2.journal.entries-uncommitted"},Object.keys(this.metricNames).forEach(function(t){return E.add(e.props.nodeId,e.metricNames[t])})},componentWillUnmount:function(){var e=this;Object.keys(this.metricNames).forEach(function(t){return E.remove(e.props.nodeId,e.metricNames[t])})},_isLoading:function(){return!this.state.metrics},render:function(){if(this._isLoading())return r.default.createElement(u.Spinner,{text:"Loading journal metrics..."});var e=this.props.nodeId,t=this.state.metrics[e],a=m.default.getValuesForNode(t,this.metricNames);return 0===Object.keys(a).length?r.default.createElement("span",null,"Journal metrics unavailable."):r.default.createElement("span",null,"The journal contains ",r.default.createElement("strong",null,(0,i.default)(a.entriesUncommitted).format("0,0")," unprocessed messages")," in ",a.segments," ",r.default.createElement(u.Pluralize,{value:a.segments,singular:"segment",plural:"segments"}),"."," ",r.default.createElement("strong",null,(0,i.default)(a.append).format("0,0")," messages")," appended, ",r.default.createElement("strong",null,(0,i.default)(a.read).format("0,0")," messages")," read in the last second.")}});exports.default=y,e.exports=exports.default},1155:function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(2),r=a(n),l=t(15),s=t(48),o=t(1158),i=a(o),u=t(1164),d=a(u),m=t(1094),c=a(m),f=t(1154),p=a(f),g=t(1097),h=a(g),E=r.default.createClass({displayName:"NodeListItem",propTypes:{node:n.PropTypes.object.isRequired,systemOverview:n.PropTypes.object},render:function(){var e=this.props.node,t=r.default.createElement(s.LinkToNode,{nodeId:e.node_id});if(!this.props.systemOverview)return r.default.createElement(s.EntityListItem,{key:"entry-list-"+e.node_id,title:t,description:"System information is currently unavailable."});var a=r.default.createElement(h.default,{nodeId:e.node_id}),n=r.default.createElement(p.default,{nodeId:e.node_id}),o=r.default.createElement(i.default,{node:e,systemOverview:this.props.systemOverview}),u=r.default.createElement("div",null,r.default.createElement(l.Col,{md:3},r.default.createElement(d.default,{information:this.props.systemOverview})),r.default.createElement(l.Col,{md:9},r.default.createElement(c.default,{nodeId:this.props.node.node_id})));return r.default.createElement(s.EntityListItem,{key:"entry-list-"+e.node_id,title:t,titleSuffix:a,description:n,actions:o,contentRow:u})}});exports.default=E,e.exports=exports.default},1156:function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(2),r=a(n),l=t(949),s=t(15),o=t(88),i=a(o),u=t(48),d=t(75),m=a(d),c=r.default.createClass({displayName:"NodeMaintenanceDropdown",propTypes:{node:n.PropTypes.object.isRequired},render:function(){var e=new i.default(this.props.node.transport_address+"/api-browser").normalizePathname().toString();return r.default.createElement(s.ButtonGroup,null,r.default.createElement(s.DropdownButton,{bsStyle:"info",bsSize:"lg",title:"Actions",id:"node-maintenance-actions",pullRight:!0},r.default.createElement(u.IfPermitted,{permissions:"threads:dump"},r.default.createElement(l.LinkContainer,{to:m.default.SYSTEM.THREADDUMP(this.props.node.node_id)},r.default.createElement(s.MenuItem,null,"Get thread dump"))),r.default.createElement(l.LinkContainer,{to:m.default.SYSTEM.METRICS(this.props.node.node_id)},r.default.createElement(s.MenuItem,null,"Metrics")),r.default.createElement(u.IfPermitted,{permissions:"loggers:read"},r.default.createElement(l.LinkContainer,{to:m.default.SYSTEM.LOGGING},r.default.createElement(s.MenuItem,null,"Configure internal logging"))),r.default.createElement(s.MenuItem,{href:e,target:"_blank"},"API Browser ",r.default.createElement("i",{className:"fa fa-external-link"}))))}});exports.default=c,e.exports=exports.default},1157:function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(2),r=a(n),l=t(949),s=t(15),o=t(1151),i=a(o),u=t(1163),d=a(u),m=t(1094),c=a(m),f=t(1153),p=a(f),g=t(1162),h=a(g),E=t(1161),y=a(E),v=t(1160),_=a(v),b=t(1152),N=a(b),M=t(75),P=a(M),I=r.default.createClass({displayName:"NodeOverview",propTypes:{node:n.PropTypes.object.isRequired,systemOverview:n.PropTypes.object.isRequired,jvmInformation:n.PropTypes.object,plugins:n.PropTypes.array,inputDescriptions:n.PropTypes.object,inputStates:n.PropTypes.array},render:function(){var e=this.props.node,t=this.props.systemOverview,a=void 0;this.props.plugins&&(a=this.props.plugins.length+" plugins installed");var n=void 0;if(this.props.inputStates){n=this.props.inputStates.filter(function(e){return"RUNNING"===e.state.toUpperCase()}).length+" inputs running on this node"}return r.default.createElement("div",null,r.default.createElement(s.Row,{className:"content"},r.default.createElement(s.Col,{md:12},r.default.createElement(d.default,{node:e,information:t}))),r.default.createElement(s.Row,{className:"content"},r.default.createElement(s.Col,{md:12},r.default.createElement("h2",{style:{marginBottom:5}},"Memory/Heap usage"),r.default.createElement(c.default,{nodeId:e.node_id}))),r.default.createElement(s.Row,{className:"content"},r.default.createElement(s.Col,{md:12},r.default.createElement("h2",null,"Buffers"),r.default.createElement("p",{className:"description"},"Buffers are built to cache small amounts of messages for a very short time (usually milliseconds) on their way through the different processors."),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{md:4},r.default.createElement(i.default,{nodeId:e.node_id,title:"Input buffer",bufferType:"input"})),r.default.createElement(s.Col,{md:4},r.default.createElement(i.default,{nodeId:e.node_id,title:"Process buffer",bufferType:"process"})),r.default.createElement(s.Col,{md:4},r.default.createElement(i.default,{nodeId:e.node_id,title:"Output buffer",bufferType:"output"}))))),r.default.createElement(s.Row,{className:"content"},r.default.createElement(s.Col,{md:12},r.default.createElement("h2",null,"Disk Journal"),r.default.createElement("p",{className:"description"},"Incoming messages are written to the disk journal to ensure they are kept safe in case of a server failure. The journal also helps keeping Graylog working if any of the outputs is too slow to keep up with the message rate or whenever there is a peak in incoming messages. It makes sure that Graylog does not buffer all of those messages in main memory and avoids overly long garbage collection pauses that way."),r.default.createElement(p.default,{nodeId:e.node_id}))),r.default.createElement(s.Row,{className:"content"},r.default.createElement(s.Col,{md:6},r.default.createElement("h2",null,"System"),r.default.createElement(h.default,{node:e,systemInformation:t,jvmInformation:this.props.jvmInformation})),r.default.createElement(s.Col,{md:6},r.default.createElement("h2",null,"REST API"),r.default.createElement(y.default,{node:e}))),r.default.createElement(s.Row,{className:"content"},r.default.createElement(s.Col,{md:12},r.default.createElement("h2",null,"Installed plugins ",r.default.createElement("small",null,a)),r.default.createElement(_.default,{plugins:this.props.plugins}))),r.default.createElement(s.Row,{className:"content"},r.default.createElement(s.Col,{md:12},r.default.createElement("span",{className:"pull-right"},r.default.createElement(l.LinkContainer,{to:P.default.node_inputs(e.node_id)},r.default.createElement(s.Button,{bsStyle:"success",bsSize:"small"},"Manage inputs"))),r.default.createElement("h2",{style:{marginBottom:15}},"Available input types ",r.default.createElement("small",null,n)),r.default.createElement(N.default,{inputDescriptions:this.props.inputDescriptions}))))}});exports.default=I,e.exports=exports.default},1158:function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(2),r=a(n),l=t(949),s=t(15),o=t(88),i=a(o),u=t(48),d=t(18),m=a(d),c=t(75),f=a(c),p=m.default.getStore("SystemProcessing"),g=m.default.getStore("SystemLoadBalancer"),h=m.default.getStore("SystemShutdown"),E=r.default.createClass({displayName:"NodesActions",propTypes:{node:n.PropTypes.object.isRequired,systemOverview:n.PropTypes.object.isRequired},_toggleMessageProcessing:function(){confirm("You are about to "+(this.props.systemOverview.is_processing?"pause":"resume")+" message processing in this node. Are you sure?")&&(this.props.systemOverview.is_processing?p.pause(this.props.node.node_id):p.resume(this.props.node.node_id))},_changeLBStatus:function(e){var t=this;return function(){confirm("You are about to change the load balancer status for this node to "+e+". Are you sure?")&&g.override(t.props.node.node_id,e)}},_shutdown:function(){"SHUTDOWN"===prompt('Do you really want to shutdown this node? Confirm by typing "SHUTDOWN".')&&h.shutdown(this.props.node.node_id)},render:function(){var e=new i.default(this.props.node.transport_address+"/api-browser").normalizePathname().toString();return r.default.createElement("div",{className:"item-actions"},r.default.createElement(l.LinkContainer,{to:f.default.SYSTEM.NODES.SHOW(this.props.node.node_id)},r.default.createElement(s.Button,{bsStyle:"info"},"Details")),r.default.createElement(l.LinkContainer,{to:f.default.SYSTEM.METRICS(this.props.node.node_id)},r.default.createElement(s.Button,{bsStyle:"info"},"Metrics")),r.default.createElement(s.Button,{bsStyle:"info",href:e,target:"_blank"},r.default.createElement("i",{className:"fa fa-external-link"}),"  API browser"),r.default.createElement(s.DropdownButton,{title:"More actions",id:"more-actions-dropdown-"+this.props.node.node_id,pullRight:!0},r.default.createElement(u.IfPermitted,{permissions:"processing:changestate"},r.default.createElement(s.MenuItem,{onSelect:this._toggleMessageProcessing},this.props.systemOverview.is_processing?"Pause":"Resume"," message processing")),r.default.createElement(u.IfPermitted,{permissions:"lbstatus:change"},r.default.createElement("li",{className:"dropdown-submenu left-submenu"},r.default.createElement("a",{href:"#"},"Override LB status"),r.default.createElement("ul",{className:"dropdown-menu"},r.default.createElement(s.MenuItem,{onSelect:this._changeLBStatus("ALIVE")},"ALIVE"),r.default.createElement(s.MenuItem,{onSelect:this._changeLBStatus("DEAD")},"DEAD")))),r.default.createElement(u.IfPermitted,{permissions:"node:shutdown"},r.default.createElement(s.MenuItem,{onSelect:this._shutdown},"Graceful shutdown")),r.default.createElement(u.IfPermitted,{permissions:["processing:changestate","lbstatus:change","node:shutdown"],anyPermissions:!0},r.default.createElement(u.IfPermitted,{permissions:["inputs:read","threads:dump"],anyPermissions:!0},r.default.createElement(s.MenuItem,{divider:!0}))),r.default.createElement(u.IfPermitted,{permissions:"inputs:read"},r.default.createElement(l.LinkContainer,{to:f.default.node_inputs(this.props.node.node_id)},r.default.createElement(s.MenuItem,null,"Local message inputs"))),r.default.createElement(u.IfPermitted,{permissions:"threads:dump"},r.default.createElement(l.LinkContainer,{to:f.default.SYSTEM.THREADDUMP(this.props.node.node_id)},r.default.createElement(s.MenuItem,null,"Get thread dump")))))}});exports.default=E,e.exports=exports.default},1159:function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(2),r=a(n),l=t(1),s=a(l),o=t(15),i=t(1155),u=a(i),d=t(48),m=t(18),c=a(m),f=c.default.getStore("Nodes"),p=c.default.getStore("ClusterOverview"),g=r.default.createClass({displayName:"NodesList",propTypes:{permissions:n.PropTypes.array.isRequired},mixins:[s.default.connect(f),s.default.connect(p)],_isLoading:function(){return!(this.state.nodes&&this.state.clusterOverview)},_formatNodes:function(e,t){return Object.keys(e).map(function(a){return r.default.createElement(u.default,{key:a,node:e[a],systemOverview:t[a]})})},render:function(){if(this._isLoading())return r.default.createElement(d.Spinner,null);var e=Object.keys(this.state.nodes).length;return r.default.createElement(o.Row,{className:"content"},r.default.createElement(o.Col,{md:12},r.default.createElement("h2",null,"There ",r.default.createElement(d.Pluralize,{value:e,singular:"is",plural:"are"})," ",e," active ",r.default.createElement(d.Pluralize,{value:e,singular:"node",plural:"nodes"})),r.default.createElement(d.EntityList,{bsNoItemsStyle:"info",noItemsText:"There are no active nodes.",items:this._formatNodes(this.state.nodes,this.state.clusterOverview)})))}});exports.default=g,e.exports=exports.default},1160:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=function(e){return e&&e.__esModule?e:{default:e}}(a),r=t(15),l=t(48),s=n.default.createClass({displayName:"PluginsDataTable",propTypes:{plugins:a.PropTypes.array},_headerCellFormatter:function(e){return n.default.createElement("th",null,e)},_pluginInfoFormatter:function(e){return n.default.createElement("tr",{key:e.name},n.default.createElement("td",{className:"limited"},e.name),n.default.createElement("td",{className:"limited"},e.version),n.default.createElement("td",{className:"limited"},e.author),n.default.createElement("td",{className:"limited",style:{width:"50%"}},e.description," ",n.default.createElement("a",{href:e.url,target:"_blank",style:{marginLeft:10}},n.default.createElement("i",{className:"fa fa-external-link"})," Website")))},render:function(){if(!this.props.plugins)return n.default.createElement(l.Spinner,{text:"Loading plugins on this node..."});if(0===this.props.plugins.length)return n.default.createElement(r.Alert,{bsStyle:"info"},n.default.createElement("i",{className:"fa fa-info-circle"}),"  This node has not any installed plugins.");var e=["Name","Version","Author","Description"];return n.default.createElement(l.DataTable,{id:"plugin-list",rowClassName:"row-sm",className:"table-hover table-condensed table-striped",headers:e,headerCellFormatter:this._headerCellFormatter,sortByKey:"name",rows:this.props.plugins,dataRowFormatter:this._pluginInfoFormatter,filterLabel:"Filter",filterKeys:[]})}});exports.default=s,e.exports=exports.default},1161:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=function(e){return e&&e.__esModule?e:{default:e}}(a),r=t(48),l=n.default.createClass({displayName:"RestApiOverview",propTypes:{node:a.PropTypes.object.isRequired},render:function(){return n.default.createElement("dl",{className:"system-rest"},n.default.createElement("dt",null,"Transport address:"),n.default.createElement("dd",null,this.props.node.transport_address),n.default.createElement("dt",null,"Last seen:"),n.default.createElement("dd",null,n.default.createElement(r.Timestamp,{dateTime:this.props.node.last_seen,relative:!0})))}});exports.default=l,e.exports=exports.default},1162:function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(2),r=a(n),l=t(34),s=a(l),o=t(48),i=t(49),u=a(i),d=r.default.createClass({displayName:"SystemInformation",propTypes:{node:n.PropTypes.object.isRequired,systemInformation:n.PropTypes.object.isRequired,jvmInformation:n.PropTypes.object},getInitialState:function(){return{time:(0,s.default)()}},componentDidMount:function(){var e=this;this.interval=setInterval(function(){return e.setState(e.getInitialState())},1e3)},componentWillUnmount:function(){clearTimeout(this.interval)},render:function(){var e=this.props.systemInformation,t=void 0;return t=this.props.jvmInformation?r.default.createElement("span",null,"PID ",this.props.jvmInformation.pid,", ",this.props.jvmInformation.info):r.default.createElement("span",null,"JMV information for this node is unavailable."),r.default.createElement("dl",{className:"system-system"},r.default.createElement("dt",null,"Hostname:"),r.default.createElement("dd",null,e.hostname),r.default.createElement("dt",null,"Node ID:"),r.default.createElement("dd",null,this.props.node.node_id),r.default.createElement("dt",null,"Version:"),r.default.createElement("dd",null,e.version,", codename ",r.default.createElement("em",null,e.codename)),r.default.createElement("dt",null,"JVM:"),r.default.createElement("dd",null,t),r.default.createElement("dt",null,"Time:"),r.default.createElement("dd",null,r.default.createElement(o.Timestamp,{dateTime:this.state.time,format:u.default.Formats.DATETIME_TZ,tz:e.timezone})))}});exports.default=d,e.exports=exports.default},1163:function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(2),r=a(n),l=t(15),s=t(48),o=t(960),i=t(1097),u=a(i),d=t(952),m=a(d),c=t(87),f=a(c),p=t(18),g=a(p),h=g.default.getStore("SystemProcessing"),E=r.default.createClass({displayName:"SystemOverviewDetails",propTypes:{node:n.PropTypes.object.isRequired,information:n.PropTypes.object.isRequired},_toggleMessageProcessing:function(){confirm("You are about to "+(this.props.information.is_processing?"pause":"resume")+" message processing in this node. Are you sure?")&&(this.props.information.is_processing?h.pause(this.props.node.node_id):h.resume(this.props.node.node_id))},render:function(){var e=this.props.information,t=e.lb_status.toUpperCase(),a=void 0;return a=e.is_processing?r.default.createElement("span",null,r.default.createElement("i",{className:"fa fa-info-circle"}),"  ",r.default.createElement(u.default,{nodeId:this.props.node.node_id,longFormat:!0})):r.default.createElement("span",null,r.default.createElement("i",{className:"fa fa-exclamation-triangle"}),"  Node is ",r.default.createElement("strong",null,"not")," processing messages"),r.default.createElement(l.Row,null,r.default.createElement(l.Col,{md:4},r.default.createElement(l.Alert,{bsStyle:"info"},r.default.createElement("span",{className:"pull-right"}," ",r.default.createElement(o.DocumentationLink,{page:m.default.PAGES.LOAD_BALANCERS,text:"What does this mean?"})),r.default.createElement("i",{className:"fa fa-exchange"}),"  Lifecycle state: ",r.default.createElement("strong",null,f.default.capitalizeFirstLetter(this.props.information.lifecycle)))),r.default.createElement(l.Col,{md:4},r.default.createElement(l.Alert,{bsStyle:"ALIVE"===t?"success":"danger"},r.default.createElement("span",{className:"pull-right"}," ",r.default.createElement(o.DocumentationLink,{page:m.default.PAGES.LOAD_BALANCERS,text:"What does this mean?"})),r.default.createElement("i",{className:"fa fa-heart"}),"  Marked as ",r.default.createElement("strong",null,t)," for load balancers")),r.default.createElement(l.Col,{md:4},r.default.createElement(l.Alert,{bsStyle:e.is_processing?"success":"danger"},r.default.createElement(s.IfPermitted,{permissions:"processing:changestate"},r.default.createElement("span",{className:"pull-right"},r.default.createElement(l.Button,{onClick:this._toggleMessageProcessing,bsSize:"xsmall",bsStyle:e.is_processing?"danger":"success"},e.is_processing?"Pause":"Resume"," processing"))),a)))}});exports.default=E,e.exports=exports.default},1164:function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(2),r=a(n),l=t(87),s=a(l),o=r.default.createClass({displayName:"SystemOverviewSummary",propTypes:{information:n.PropTypes.object.isRequired},render:function(){var e=this.props.information.lb_status.toUpperCase();return r.default.createElement("dl",{className:"graylog-node-state"},r.default.createElement("dt",null,"Current lifecycle state:"),r.default.createElement("dd",null,s.default.capitalizeFirstLetter(this.props.information.lifecycle)),r.default.createElement("dt",null,"Message processing:"),r.default.createElement("dd",null,this.props.information.is_processing?"Enabled":"Disabled"),r.default.createElement("dt",null,"Load balancer indication:"),r.default.createElement("dd",{className:"DEAD"===e?"text-danger":""},e))}});exports.default=o,e.exports=exports.default},1165:function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(1159);Object.defineProperty(exports,"NodesList",{enumerable:!0,get:function(){return a(n).default}});var r=t(1156);Object.defineProperty(exports,"NodeMaintenanceDropdown",{enumerable:!0,get:function(){return a(r).default}});var l=t(1157);Object.defineProperty(exports,"NodeOverview",{enumerable:!0,get:function(){return a(l).default}})},1397:function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(2),r=a(n),l=t(1),s=a(l),o=t(18),i=a(o),u=t(48),d=t(1165),m=i.default.getStore("CurrentUser"),c=r.default.createClass({displayName:"NodesPage",mixins:[s.default.connect(m)],render:function(){return r.default.createElement(u.DocumentTitle,{title:"Nodes"},r.default.createElement("div",null,r.default.createElement(u.PageHeader,{title:"Nodes"},r.default.createElement("span",null,"This page provides a real-time overview of the nodes in your Graylog cluster."),r.default.createElement("span",null,"You can pause message processing at any time. The process buffers will not accept any new messages until you resume it. If the message journal is enabled for a node, which it is by default, incoming messages will be persisted to disk, even when processing is disabled.")),r.default.createElement(d.NodesList,{permissions:this.state.currentUser.permissions})))}});exports.default=c,e.exports=exports.default},962:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var a={getValuesForNode:function(e,t){if(null===e||void 0===e||0===Object.keys(e).length)return{};var a={};return Object.keys(t).forEach(function(n){var r=t[n],l=e[r];l&&("gauge"===l.type?a[n]=l.metric.value:"counter"===l.type?a[n]=l.metric.count:"meter"===l.type?a[n]=l.metric.rate.total:"timer"===l.type?a[n]=l.metric.rate.total:a[n]=null)}),a}};exports.default=a,e.exports=exports.default}});
//# sourceMappingURL=19.200197dca04f05abe3f2.js.map