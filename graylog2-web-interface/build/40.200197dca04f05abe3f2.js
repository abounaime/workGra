webpackJsonp([40],{1104:function(e,exports,t){var n,o=0,a=t(1186);"string"==typeof a&&(a=[[e.i,a,""]]),exports.use=exports.ref=function(){return o++||(exports.locals=a.locals,n=t(20)(a,{})),exports},exports.unuse=exports.unref=function(){--o||(n(),n=null)}},1186:function(e,exports,t){exports=e.exports=t(19)(),exports.push([e.i,"body{font-family:Open Sans,sans-serif;background:url("+t(276)+") no-repeat 50% fixed;-moz-background-size:cover;-webkit-background-size:cover;-o-background-size:cover;background-size:cover}#login-box{margin-top:120px}#login-box .form-group{margin-bottom:10px}#login-box-content{background-color:#fff;-moz-box-shadow:0 0 5px #888;-webkit-box-shadow:0 0 5px #888;box-shadow:0 0 40px #000}.well{padding-top:8px;padding-bottom:2px}#login-box form{margin-bottom:10px}.footer{font-size:11px;color:#aaa;margin-top:0;position:relative;top:7px}.login-advanced{margin-top:10px;border-top:1px solid #ccc}.login-advanced label{font-size:12px;width:150px}.login-advanced label input{position:relative;top:-2px;margin-right:3px}",""])},1393:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var o=t(2),a=n(o),r=t(1),l=n(r),i=t(15),s=t(48),u=t(43),d=t(1466),c=n(d),f=t(18),p=n(f),m=t(7),g=n(m),x=t(272),b=n(x),h=t(1104),v=n(h),E=p.default.getStore("Session"),S=g.default.getActions("Session"),w=a.default.createClass({displayName:"LoginPage",mixins:[l.default.connect(E),l.default.ListenerMethods],getInitialState:function(){return{loading:!1}},componentDidMount:function(){b.default.use(),v.default.use(),S.validate()},componentWillUnmount:function(){b.default.unuse(),v.default.unuse()},onSignInClicked:function(e){var t=this;e.preventDefault(),this.resetLastError(),this.setState({loading:!0});var n=this.refs.username.getValue(),o=this.refs.password.getValue(),a=document.location.host,r=S.login.triggerPromise(n,o,a);r.catch(function(e){401===e.additional.status?t.setState({lastError:"Invalid credentials, please verify them and retry."}):t.setState({lastError:"Error - the server returned: "+e.additional.status+" - "+e.message})}),r.finally(function(){t.isMounted()&&t.setState({loading:!1})})},formatLastError:function(e){return e?a.default.createElement("div",{className:"form-group"},a.default.createElement(i.Alert,{bsStyle:"danger"},a.default.createElement("a",{className:"close",onClick:this.resetLastError},"Ã—"),e)):null},resetLastError:function(){this.setState({lastError:void 0})},render:function(){if(this.state.validatingSession)return a.default.createElement(c.default,null);var e=this.formatLastError(this.state.lastError);return a.default.createElement(s.DocumentTitle,{title:"Sign in"},a.default.createElement("div",null,a.default.createElement("div",{className:"container",id:"login-box"},a.default.createElement(i.Row,null,a.default.createElement("form",{className:"col-md-4 col-md-offset-4 well",id:"login-box-content",onSubmit:this.onSignInClicked},a.default.createElement("legend",null,a.default.createElement("i",{className:"fa fa-group"})," Welcome to Graylog"),e,a.default.createElement(u.Input,{ref:"username",type:"text",placeholder:"Username",autoFocus:!0}),a.default.createElement(u.Input,{ref:"password",type:"password",placeholder:"Password"}),a.default.createElement(i.FormGroup,null,a.default.createElement(i.Button,{type:"submit",bsStyle:"info",disabled:this.state.loading},this.state.loading?"Signing in...":"Sign in")))))))}});exports.default=w,e.exports=exports.default},1466:function(e,exports,t){var n,o=t(2),a={loadComponent:function(e){return n?e&&e(n):t.e(55).then(function(){n=t(1185),e&&e(n)}.bind(null,t)).catch(t.oe),n}};t(116)(o,a),e.exports=o.createClass(a),e.exports.Mixin=a}});
//# sourceMappingURL=40.200197dca04f05abe3f2.js.map