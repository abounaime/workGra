webpackJsonp([3],{1035:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(1343);Object.defineProperty(exports,"CountWidgetCreateConfiguration",{enumerable:!0,get:function(){return i(a).default}});var n=t(1344);Object.defineProperty(exports,"CountWidgetEditConfiguration",{enumerable:!0,get:function(){return i(n).default}});var r=t(1345);Object.defineProperty(exports,"FieldChartWidgetConfiguration",{enumerable:!0,get:function(){return i(r).default}});var s=t(1346);Object.defineProperty(exports,"QueryConfiguration",{enumerable:!0,get:function(){return i(s).default}});var o=t(1347);Object.defineProperty(exports,"QuickValuesWidgetCreateConfiguration",{enumerable:!0,get:function(){return i(o).default}});var l=t(1348);Object.defineProperty(exports,"QuickValuesWidgetEditConfiguration",{enumerable:!0,get:function(){return i(l).default}});var d=t(1349);Object.defineProperty(exports,"StackedChartWidgetConfiguration",{enumerable:!0,get:function(){return i(d).default}});var u=t(1350);Object.defineProperty(exports,"StatisticalCountWidgetCreateConfiguration",{enumerable:!0,get:function(){return i(u).default}});var c=t(1351);Object.defineProperty(exports,"StatisticalCountWidgetEditConfiguration",{enumerable:!0,get:function(){return i(c).default}})},1036:function(e,exports,t){var i=t(1427);"string"==typeof i&&(i=[[e.i,i,""]]);t(20)(i,{});i.locals&&(e.exports=i.locals)},1054:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var i=t(2),a=function(e){return e&&e.__esModule?e:{default:e}}(i),n={hasAttribute:function(e,t){return e.indexOf(t)>-1},optionalMarker:function(e){return e.is_optional?a.default.createElement("span",{className:"configuration-field-optional"},"(optional)"):null}};exports.default=n,e.exports=exports.default},1055:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},a=t(2),n=function(e){return e&&e.__esModule?e:{default:e}}(a),r=t(1195),s=n.default.createClass({displayName:"EditDashboardModalTrigger",propTypes:{action:n.default.PropTypes.string.isRequired},getDefaultProps:function(){return{action:"create"}},_isCreateModal:function(){return"create"===this.props.action},openModal:function(){this.refs.modal.open()},render:function(){var e=void 0;return e=void 0===this.props.children||0===this.props.children.length?this._isCreateModal()?"Create dashboard":"Edit dashboard":this.props.children,n.default.createElement("span",null,n.default.createElement("button",{onClick:this.openModal,className:"btn "+this.props.buttonClass},e),n.default.createElement(r.EditDashboardModal,i({ref:"modal"},this.props)))}});exports.default=s,e.exports=exports.default},1098:function(e,exports,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),n=t(1507),r=function(e){return e&&e.__esModule?e:{default:e}}(n),s=function(){function e(){i(this,e),this.full=r.default.version;var t=this.full.split(".");this.major=t[0],this.minor=t[1]}return a(e,[{key:"getMajorAndMinorVersion",value:function(){return this.major+"."+this.minor}},{key:"getFullVersion",value:function(){return this.full}}]),e}(),o=new s;exports.default=o,e.exports=exports.default},1103:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},n=t(2),r=i(n),s=t(15),o=t(55),l=i(o),d=t(1172),u=i(d),c=t(87),f=i(c),h=r.default.createClass({displayName:"MessageShow",propTypes:{message:r.default.PropTypes.object,inputs:r.default.PropTypes.object,streams:r.default.PropTypes.object,nodes:r.default.PropTypes.object},getInitialState:function(){return this._getImmutableProps(this.props)},componentWillReceiveProps:function(e){this.setState(this._getImmutableProps(e))},_getImmutableProps:function(e){return{streams:e.streams?l.default.Map(e.streams):e.streams,nodes:e.nodes?l.default.Map(e.nodes):e.nodes}},possiblyHighlight:function(e){return f.default.stringify(this.props.message.fields[e])},render:function(){return r.default.createElement(s.Row,{className:"content"},r.default.createElement(s.Col,{md:12},r.default.createElement(u.default,a({},this.props,{message:this.props.message,inputs:this.props.inputs,streams:this.state.streams,nodes:this.state.nodes,possiblyHighlight:this.possiblyHighlight,showTimestamp:!0}))))}});exports.default=h,e.exports=exports.default},1105:function(e,exports,t){e.exports=t(10)(337)},1172:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(15),s=t(55),o=i(s),l=t(949),d=t(18),u=i(d),c=t(1306),f=i(c),h=t(1200),p=i(h),g=t(48),m=t(1202),_=i(m),y=t(75),v=i(y),x=u.default.getStore("Streams"),S=n.default.createClass({displayName:"MessageDetail",propTypes:{allStreams:a.PropTypes.object,allStreamsLoaded:a.PropTypes.bool,disableTestAgainstStream:a.PropTypes.bool,disableSurroundingSearch:a.PropTypes.bool,expandAllRenderAsync:a.PropTypes.bool,showTimestamp:a.PropTypes.bool,disableFieldActions:a.PropTypes.bool,possiblyHighlight:a.PropTypes.func,inputs:a.PropTypes.object,nodes:a.PropTypes.object,message:a.PropTypes.object,streams:a.PropTypes.object,customFieldActions:a.PropTypes.node,searchConfig:a.PropTypes.object,disableMessageActions:a.PropTypes.bool},getInitialState:function(){return{allStreamsLoaded:!1,allStreams:o.default.List(),showOriginal:!1}},componentDidMount:function(){var e=this;if(void 0===this.props.allStreams){if(this.state.allStreamsLoaded||this.props.disableTestAgainstStream)return;x.listStreams().done(function(t){return e._onStreamsLoaded(t)})}},_onStreamsLoaded:function(e){this.setState({allStreamsLoaded:!0,allStreams:o.default.List(e).sortBy(function(e){return e.title})})},_inputName:function(e){var t=this.props.inputs.get(e);return t?n.default.createElement("span",{style:{wordBreak:"break-word"}},t.title):"deleted input"},_nodeName:function(e){var t=this.props.nodes.get(e),i=void 0;if(t){var a=v.default.node(e);i=n.default.createElement("a",{href:a},n.default.createElement("i",{className:"fa fa-code-fork"})," ",n.default.createElement("span",{style:{wordBreak:"break-word"}},t.short_node_id)," / ",n.default.createElement("span",{style:{wordBreak:"break-word"}},t.hostname))}else i=n.default.createElement("span",{style:{wordBreak:"break-word"}},"stopped node");return i},_getAllStreams:function(){return this.props.allStreams?this.props.allStreams:this.state.allStreams},_getTestAgainstStreamButton:function(){var e=this;if(this.props.disableTestAgainstStream)return null;var t=null;return this._getAllStreams().forEach(function(i){t||(t=[]),i.is_default?t.push(n.default.createElement(r.MenuItem,{key:i.id,disabled:!0,title:"Cannot test against the default stream"},i.title)):t.push(n.default.createElement(l.LinkContainer,{key:i.id,to:v.default.stream_edit_example(i.id,e.props.message.index,e.props.message.id)},n.default.createElement(r.MenuItem,null,i.title)))}),n.default.createElement(r.DropdownButton,{ref:"streamDropdown",pullRight:!0,bsSize:"small",title:"Test against stream",id:"select-stream-dropdown"},t,!t&&!this.props.allStreamsLoaded&&n.default.createElement(r.MenuItem,{header:!0},n.default.createElement("i",{className:"fa fa-spin fa-spinner"}),"Loading streams"),!t&&this.props.allStreamsLoaded&&n.default.createElement(r.MenuItem,{header:!0},"No streams available"))},_formatMessageActions:function(){if(this.props.disableMessageActions)return n.default.createElement(r.ButtonGroup,{className:"pull-right",bsSize:"small"});var e=this.props.message.index?v.default.message_show(this.props.message.index,this.props.message.id):"#",t=void 0;this.props.disableSurroundingSearch||(t=n.default.createElement(_.default,{id:this.props.message.id,timestamp:this.props.message.timestamp,searchConfig:this.props.searchConfig,messageFields:this.props.message.fields}));var i=null;return this.props.message.decoration_stats&&(i=n.default.createElement(r.Button,{onClick:this._toggleShowOriginal,active:this.state.showOriginal},"Show changes")),n.default.createElement(r.ButtonGroup,{className:"pull-right",bsSize:"small"},i,n.default.createElement(r.Button,{href:e},"Permalink"),n.default.createElement(g.ClipboardButton,{title:"Copy ID",text:this.props.message.id}),t,this._getTestAgainstStreamButton())},_toggleShowOriginal:function(){this.setState({showOriginal:!this.state.showOriginal})},render:function(){var e=this;if(this.props.expandAllRenderAsync)return n.default.createElement(r.Row,null,n.default.createElement(r.Col,{md:12},n.default.createElement(g.Spinner,null)));var t=o.default.Set(this.props.message.stream_ids),i=t.map(function(t){var i=e.props.streams.get(t);return void 0!==i?n.default.createElement("li",{key:i.id},n.default.createElement(f.default,{stream:i})):null}),a=this.props.message.source_radio_id;a&&(a=n.default.createElement("span",null,"via ",n.default.createElement("em",null,this._inputName(this.props.message.source_radio_input_id))," on radio ",this._nodeName(this.props.message.source_radio_id)));var s=null;if(this.props.showTimestamp){s=[];var d=this.props.message.fields.timestamp;s.push(n.default.createElement("dt",{key:"dt-"+d},"Timestamp")),s.push(n.default.createElement("dd",{key:"dd-"+d},n.default.createElement(g.Timestamp,{dateTime:d})))}var u=void 0;u=this.props.message.source_input_id&&this.props.message.source_node_id&&this.props.nodes?n.default.createElement("div",null,n.default.createElement("dt",null,"Received by"),n.default.createElement("dd",null,n.default.createElement("em",null,this._inputName(this.props.message.source_input_id))," ","on ",this._nodeName(this.props.message.source_node_id),a&&n.default.createElement("br",null),a)):null;var c=void 0;return c=this.props.message.index?n.default.createElement(l.LinkContainer,{to:v.default.message_show(this.props.message.index,this.props.message.id)},n.default.createElement("a",{href:"#"},this.props.message.id)):n.default.createElement("span",null,this.props.message.id," ",n.default.createElement(r.Label,{bsStyle:"warning"},"Not stored")),n.default.createElement("div",null,n.default.createElement(r.Row,{className:"row-sm"},n.default.createElement(r.Col,{md:12},this._formatMessageActions(),n.default.createElement("h3",{className:"message-details-title"},n.default.createElement("i",{className:"fa fa-envelope"})," ",c))),n.default.createElement(r.Row,null,n.default.createElement(r.Col,{md:3},n.default.createElement("dl",{className:"message-details"},s,u,n.default.createElement("dt",null,"Stored in index"),n.default.createElement("dd",null,this.props.message.index?this.props.message.index:"Message is not stored"),t.size>0&&n.default.createElement("dt",null,"Routed into streams"),t.size>0&&n.default.createElement("dd",{className:"stream-list"},n.default.createElement("ul",null,i)))),n.default.createElement(r.Col,{md:9},n.default.createElement("div",{ref:"messageList"},n.default.createElement(p.default,{message:this.props.message,possiblyHighlight:this.props.possiblyHighlight,disableFieldActions:this.props.disableFieldActions,customFieldActions:this.props.customFieldActions,showDecoration:this.state.showOriginal})))))}});exports.default=S,e.exports=exports.default},1181:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.WidgetVisualizationNotFound=exports.WidgetHeader=exports.WidgetFooter=exports.WidgetEditConfigModal=exports.WidgetCreationModal=exports.WidgetConfigModal=exports.Widget=void 0;var a=t(1206);Object.defineProperty(exports,"Widget",{enumerable:!0,get:function(){return i(a).default}});var n=t(1337);Object.defineProperty(exports,"WidgetConfigModal",{enumerable:!0,get:function(){return i(n).default}});var r=t(1338);Object.defineProperty(exports,"WidgetCreationModal",{enumerable:!0,get:function(){return i(r).default}});var s=t(1339);Object.defineProperty(exports,"WidgetEditConfigModal",{enumerable:!0,get:function(){return i(s).default}});var o=t(1340);Object.defineProperty(exports,"WidgetFooter",{enumerable:!0,get:function(){return i(o).default}});var l=t(1341);Object.defineProperty(exports,"WidgetHeader",{enumerable:!0,get:function(){return i(l).default}});var d=t(1342);Object.defineProperty(exports,"WidgetVisualizationNotFound",{enumerable:!0,get:function(){return i(d).default}}),t(1352)},1183:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var i=t(12),a=function(e){return e&&e.__esModule?e:{default:e}}(i),n={NAVBAR_HEIGHT:55,scrollToHint:function(e){var t=this;if(!this.isElementVisible(e)){var i=(0,a.default)("#scroll-to-hint");i.fadeIn("fast").delay(1500).fadeOut("fast").on("click",function(n){n.preventDefault();var r=window.pageYOffset-t.NAVBAR_HEIGHT+e.getBoundingClientRect().top;(0,a.default)("html, body").animate({scrollTop:r},"fast"),i.off("click")})}},isElementVisible:function(e){var t=e.getBoundingClientRect();return t.top>0&&t.bottom>0}};exports.default=n,e.exports=exports.default},1191:function(e,exports,t){e.exports=t(10)(647)},1192:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(1),s=i(r),o=t(15),l=t(949),d=t(1055),u=i(d),c=t(165),f=i(c),h=t(18),p=i(h),g=t(75),m=i(g),_=p.default.getStore("CurrentUser"),y=p.default.getStore("Dashboards"),v=p.default.getStore("Startpage"),x=n.default.createClass({displayName:"Dashboard",propTypes:{dashboard:n.default.PropTypes.object,permissions:n.default.PropTypes.arrayOf(n.default.PropTypes.string)},mixins:[f.default,s.default.connect(_)],_setStartpage:function(){v.set(this.state.currentUser.username,"dashboard",this.props.dashboard.id)},_onDashboardDelete:function(){window.confirm("Do you really want to delete the dashboard "+this.props.dashboard.title+"?")&&y.remove(this.props.dashboard)},_getDashboardActions:function(){var e=n.default.createElement(o.MenuItem,{onSelect:this._setStartpage,disabled:this.state.currentUser.read_only},"Set as startpage");return this.isPermitted(this.props.permissions,["dashboards:edit:"+this.props.dashboard.id])?n.default.createElement("div",{className:"stream-actions"},n.default.createElement(u.default,{id:this.props.dashboard.id,action:"edit",title:this.props.dashboard.title,description:this.props.dashboard.description,buttonClass:"btn-info"})," ",n.default.createElement(o.DropdownButton,{title:"More actions",pullRight:!0,id:"more-actions-dropdown-"+this.props.dashboard.id},e,n.default.createElement(o.MenuItem,{divider:!0}),n.default.createElement(o.MenuItem,{onSelect:this._onDashboardDelete},"Delete this dashboard"))):n.default.createElement("div",{className:"stream-actions"},n.default.createElement(o.DropdownButton,{title:"More actions",pullRight:!0,id:"more-actions-dropdown-"+this.props.dashboard.id},e))},render:function(){var e=this.props.dashboard.content_pack?n.default.createElement("i",{className:"fa fa-cube",title:"Created from content pack"}):null;return n.default.createElement("li",{className:"stream"},n.default.createElement("h2",null,n.default.createElement(l.LinkContainer,{to:m.default.dashboard_show(this.props.dashboard.id)},n.default.createElement("a",null,n.default.createElement("span",{ref:"dashboardTitle"},this.props.dashboard.title)))),n.default.createElement("div",{className:"stream-data"},this._getDashboardActions(),n.default.createElement("div",{className:"stream-description"},e,n.default.createElement("span",{ref:"dashboardDescription"},this.props.dashboard.description))))}});exports.default=x,e.exports=exports.default},1193:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(55),s=i(r),o=t(15),l=t(1192),d=i(l),u=t(1055),c=i(u),f=t(165),h=i(f),p=n.default.createClass({displayName:"DashboardList",propTypes:{dashboards:n.default.PropTypes.instanceOf(s.default.List),onDashboardAdd:n.default.PropTypes.func,permissions:n.default.PropTypes.arrayOf(n.default.PropTypes.string)},mixins:[h.default],_formatDashboard:function(e){return n.default.createElement(d.default,{key:"dashboard-"+e.id,dashboard:e,permissions:this.props.permissions})},render:function(){if(this.props.dashboards.isEmpty()){var e=void 0;return this.isPermitted(this.props.permissions,["dashboards:create"])&&(e=n.default.createElement("span",null,n.default.createElement(c.default,{action:"create",buttonClass:"btn-link btn-text",onSaved:this.props.onDashboardAdd},"Create one now"),".")),n.default.createElement(o.Alert,{bsStyle:"warning"},n.default.createElement("i",{className:"fa fa-info-circle"}),"  No dashboards configured. ",e)}var t=this.props.dashboards.sortBy(function(e){return e.title}).map(this._formatDashboard);return n.default.createElement("ul",{className:"streams"},t)}});exports.default=p,e.exports=exports.default},1194:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(55),s=i(r),o=t(15),l=t(18),d=i(l),u=t(952),c=i(u),f=t(165),h=i(f),p=t(957),g=i(p),m=t(260),_=i(m),y=t(265),v=i(y),x=t(1193),S=i(x),b=t(1055),w=i(b),T=d.default.getStore("Dashboards"),E=n.default.createClass({displayName:"DashboardListPage",propTypes:{permissions:n.default.PropTypes.arrayOf(n.default.PropTypes.string)},mixins:[h.default],getInitialState:function(){return{dashboardsLoaded:!1,dashboards:T.dashboards,filteredDashboards:s.default.List()}},componentDidMount:function(){T.addOnDashboardsChangedCallback(this._onDashboardsChange),T.updateDashboards()},_onDashboardsChange:function(e){this.isMounted()&&(e?this.setState({dashboards:e,filteredDashboards:e,dashboardsLoaded:!0}):this.setState({dashboardsLoaded:!1}))},render:function(){var e=this.isPermitted(this.props.permissions,["dashboards:create"])?n.default.createElement(w.default,{action:"create",buttonClass:"btn-success btn-lg"}):null,t=n.default.createElement(v.default,{title:"Dashboards"},n.default.createElement("span",null,"Use dashboards to create specific views on your messages. Create a new dashboard here and add any graph or chart you create in other parts of Graylog with one click."),n.default.createElement("span",null,"Take a look at the"," ",n.default.createElement(g.default,{page:c.default.PAGES.DASHBOARDS,text:"dashboard tutorial"})," ","for lots of other useful tips."),e);if(!this.state.dashboardsLoaded)return n.default.createElement("div",null,t,n.default.createElement(o.Row,{className:"content"},n.default.createElement("div",{style:{marginLeft:10}},n.default.createElement(_.default,null))));var i=void 0;return i=this.state.dashboards&&this.state.dashboards.count()>0&&this.state.filteredDashboards.isEmpty()?n.default.createElement("div",null,"No dashboards matched your filter criteria."):n.default.createElement(S.default,{dashboards:this.state.filteredDashboards,onDashboardAdd:this._onDashboardAdd,permissions:this.props.permissions}),n.default.createElement("div",null,t,n.default.createElement(o.Row,{className:"content"},n.default.createElement(o.Col,{md:12},i)))}});exports.default=E,e.exports=exports.default},1195:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(988);Object.defineProperty(exports,"AddToDashboardMenu",{enumerable:!0,get:function(){return i(a).default}});var n=t(1192);Object.defineProperty(exports,"Dashboard",{enumerable:!0,get:function(){return i(n).default}});var r=t(1193);Object.defineProperty(exports,"DashboardList",{enumerable:!0,get:function(){return i(r).default}});var s=t(1194);Object.defineProperty(exports,"DashboardListPage",{enumerable:!0,get:function(){return i(s).default}});var o=t(1238);Object.defineProperty(exports,"EditDashboardModal",{enumerable:!0,get:function(){return i(o).default}});var l=t(1055);Object.defineProperty(exports,"EditDashboardModalTrigger",{enumerable:!0,get:function(){return i(l).default}})},1196:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(35),s=i(r),o=t(15),l=t(1105),d=i(l),u=t(988),c=i(u),f=t(275),h=i(f),p=t(18),g=i(p),m=t(87),_=i(m),y=g.default.getStore("Search"),v=g.default.getStore("FieldGraphs"),x=n.default.createClass({displayName:"LegacyFieldGraph",propTypes:{graphId:a.PropTypes.string.isRequired,from:a.PropTypes.any.isRequired,to:a.PropTypes.any.isRequired,stacked:a.PropTypes.bool.isRequired,hidden:a.PropTypes.bool.isRequired,graphOptions:a.PropTypes.object.isRequired,dashboards:a.PropTypes.any,permissions:a.PropTypes.arrayOf(a.PropTypes.string).isRequired,onDelete:a.PropTypes.func.isRequired},mixins:[d.default],componentDidMount:function(){var e=s.default.findDOMNode(this.refs.fieldGraphContainer);v.renderFieldGraph(this.props.graphOptions,e)},componentDidUpdate:function(e){this.props.from===e.from&&this.props.to===e.to||v.updateFieldGraphData(this.props.graphId)},STACKED_WIDGET_TYPE:"STACKED_CHART",REGULAR_WIDGET_TYPE:"FIELD_CHART",statisticalFunctions:["mean","max","min","total","count","cardinality"],interpolations:["linear","step-after","basis","bundle","cardinal","monotone"],resolutions:["minute","hour","day","week","month","quarter","year"],_getFirstGraphValue:function(){return"relative"===y.rangeType&&0===y.rangeParams.get("relative")?null:this.props.from},_getGraphTitle:function(){return this.props.stacked?"Combined graph":this.props.graphOptions.field+" graph"},_getWidgetType:function(){return this.props.stacked?this.STACKED_WIDGET_TYPE:this.REGULAR_WIDGET_TYPE},_getWidgetConfiguration:function(){return this.props.stacked?v.getStackedGraphAsCreateWidgetRequestParams(this.props.graphId):v.getFieldGraphAsCreateWidgetRequestParams(this.props.graphId)},_submenuItemClassName:function(e,t){return this.props.graphOptions[e]===t?"selected":""},_getSubmenu:function(e,t){var i=this,a=t.map(function(t){var a="valuetype"===e?h.default.getReadableFieldChartStatisticalFunction(t):t;return n.default.createElement("li",{key:"menu-item-"+t},n.default.createElement("a",{href:"#",className:i._submenuItemClassName(e,t),"data-type":t},_.default.capitalizeFirstLetter(a)))});return n.default.createElement("ul",{className:"dropdown-menu "+e+"-selector"},a)},renderers:["area","bar","line","scatterplot"],render:function(){var e=[n.default.createElement("li",{key:"renderer-submenu",className:"dropdown-submenu left-submenu"},n.default.createElement("a",{href:"#"},"Type"),this._getSubmenu("renderer",this.renderers)),n.default.createElement("li",{key:"interpolation-submenu",className:"dropdown-submenu left-submenu"},n.default.createElement("a",{href:"#"},"Interpolation"),this._getSubmenu("interpolation",this.interpolations))];return this.props.stacked||(e.unshift(n.default.createElement("li",{key:"valuetype-submenu",className:"dropdown-submenu left-submenu"},n.default.createElement("a",{href:"#"},"Value"),this._getSubmenu("valuetype",this.statisticalFunctions))),e.push(n.default.createElement("li",{key:"resolution-submenu",className:"dropdown-submenu left-submenu"},n.default.createElement("a",{href:"#"},"Resolution"),this._getSubmenu("interval",this.resolutions)))),n.default.createElement("div",{ref:"fieldGraphContainer",style:{display:this.props.hidden?"none":"block"},className:"content-col field-graph-container","data-chart-id":this.props.graphId,"data-from":this._getFirstGraphValue(),"data-to":this.props.to,"data-field":this.props.graphOptions.field},n.default.createElement("div",{className:"pull-right"},n.default.createElement(c.default,{title:"Add to dashboard",dashboards:this.props.dashboards,widgetType:this._getWidgetType(),configuration:this._getWidgetConfiguration(),bsStyle:"default",pullRight:!0,permissions:this.props.permissions},n.default.createElement(o.DropdownButton,{bsSize:"small",className:"graph-settings",title:"Customize",id:"customize-field-graph-dropdown"},e,n.default.createElement(o.MenuItem,{divider:!0}),n.default.createElement(o.MenuItem,{onSelect:this.props.onDelete},"Dismiss"))),n.default.createElement("div",{style:{display:"inline",marginLeft:20}},n.default.createElement(o.Button,{href:"#",bsSize:"small",className:"reposition-handle",onClick:function(e){return e.preventDefault()},title:"Drag and drop to merge the graph into another"},n.default.createElement("i",{className:"fa fa-reorder"})))),n.default.createElement("h1",null,this._getGraphTitle()),n.default.createElement("ul",{className:"field-graph-query-container"},n.default.createElement("li",null,n.default.createElement("div",{className:"field-graph-query-color",style:{backgroundColor:"#4DBCE9"}})," ",n.default.createElement("span",{className:"type-description"}),"Query: ",n.default.createElement("span",{className:"field-graph-query"}))),n.default.createElement("div",{className:"field-graph-components"},n.default.createElement("div",{className:"field-graph-y-axis",style:{display:"none"}}),n.default.createElement("div",{className:"field-graph"})),n.default.createElement("div",{className:"merge-hint"},n.default.createElement("span",{className:"alpha70"},"Drop to merge charts")))}});exports.default=x,e.exports=exports.default},1198:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(15),s=t(262),o=i(s),l=n.default.createClass({displayName:"MessageFieldExtractorActions",propTypes:{fieldName:a.PropTypes.string.isRequired,message:a.PropTypes.object.isRequired},componentWillMount:function(){this._refreshExtractorRoutes(this.props)},componentWillReceiveProps:function(e){this._refreshExtractorRoutes(e)},_refreshExtractorRoutes:function(e){this.newExtractorRoutes=o.default.getNewExtractorRoutes(e.message.source_node_id,e.message.source_input_id,e.fieldName,e.message.index,e.message.id)},_formatExtractorMenuItem:function(e){return n.default.createElement(r.MenuItem,{key:"menu-item-"+e,href:this.newExtractorRoutes[e]},o.default.getReadableExtractorTypeName(e))},render:function(){var e=this;return"string"==typeof this.props.message.fields[this.props.fieldName]?n.default.createElement("div",{className:"message-field-actions pull-right"},n.default.createElement(r.DropdownButton,{pullRight:!0,bsSize:"xsmall",title:"Select extractor type",key:1,id:"select-extractor-type-dropdown-field-"+this.props.fieldName},o.default.EXTRACTOR_TYPES.map(function(t){return e._formatExtractorMenuItem(t)}))):n.default.createElement("div",{className:"message-field-actions pull-right"},n.default.createElement(r.DropdownButton,{pullRight:!0,bsSize:"xsmall",title:"Select extractor type",key:1,id:"select-extractor-type-dropdown-field-"+this.props.fieldName},n.default.createElement(r.MenuItem,{key:"select-extractor-type-disabled",disabled:!0},"Extractors can only be used with string fields.")))}});exports.default=l,e.exports=exports.default},1199:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(15),s=t(262),o=i(s),l=n.default.createClass({displayName:"MessageFieldSearchActions",propTypes:{fieldName:a.PropTypes.string.isRequired,message:a.PropTypes.object.isRequired,onLoadTerms:a.PropTypes.func.isRequired,onAddFieldToSearchBar:a.PropTypes.func.isRequired},getInitialState:function(){return this.newExtractorRoutes=o.default.getNewExtractorRoutes(this.props.message.source_node_id,this.props.message.source_input_id,this.props.fieldName,this.props.message.index,this.props.message.id),null},_formatExtractorMenuItem:function(e){return n.default.createElement(r.MenuItem,{key:"menu-item-"+e,href:this.newExtractorRoutes[e]},o.default.getReadableExtractorTypeName(e))},render:function(){var e=this,t=this.props.message.fields[this.props.fieldName],i=void 0;return i="string"==typeof t?n.default.createElement("li",{className:"dropdown-submenu left-submenu"},n.default.createElement("a",{href:"#"},"Create extractor for field ",this.props.fieldName),n.default.createElement("ul",{className:"dropdown-menu"},o.default.EXTRACTOR_TYPES.map(function(t){return e._formatExtractorMenuItem(t)}))):n.default.createElement(r.MenuItem,{disabled:!0},"Extractors can only be used with string fields"),n.default.createElement("div",{className:"message-field-actions pull-right"},n.default.createElement(r.SplitButton,{pullRight:!0,bsSize:"xsmall",title:n.default.createElement("i",{className:"fa fa-search-plus"}),key:1,onClick:this.props.onAddFieldToSearchBar,id:"more-actions-dropdown-field-"+this.props.fieldName},i,n.default.createElement(r.MenuItem,{onSelect:this.props.onLoadTerms(this.props.fieldName)},"Show terms of ",n.default.createElement("em",null,this.props.fieldName))))}});exports.default=l,e.exports=exports.default},1200:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},a=t(2),n=function(e){return e&&e.__esModule?e:{default:e}}(a),r=t(966),s=n.default.createClass({displayName:"MessageFields",propTypes:{customFieldActions:n.default.PropTypes.node,disableFieldActions:n.default.PropTypes.bool,message:n.default.PropTypes.object.isRequired,possiblyHighlight:n.default.PropTypes.func.isRequired,showDecoration:n.default.PropTypes.bool},getDefaultProps:function(){return{showDecoration:!1}},_formatFields:function(e,t){var a=this,s=this.props.message.decoration_stats;if(!t||!s){var o=s?Object.keys(s.changed_fields):[];return Object.keys(e).sort().map(function(t){return n.default.createElement(r.MessageField,i({key:t},a.props,{fieldName:t,value:e[t],disableFieldActions:a.props.disableFieldActions||-1!==o.indexOf(t)}))})}return Object.keys(s.removed_fields).concat(Object.keys(e)).sort().map(function(t){return s.added_fields[t]?n.default.createElement(r.ChangedMessageField,{key:t,fieldName:t,newValue:e[t]}):s.changed_fields[t]?n.default.createElement(r.ChangedMessageField,{key:t,fieldName:t,originalValue:s.changed_fields[t],newValue:e[t]}):s.removed_fields[t]?n.default.createElement(r.ChangedMessageField,{key:t,fieldName:t,originalValue:s.removed_fields[t]}):n.default.createElement(r.MessageField,i({key:t},a.props,{fieldName:t,value:e[t],disableFieldActions:!0}))})},render:function(){var e=this.props.message.formatted_fields,t=this._formatFields(e,this.props.showDecoration);return n.default.createElement("dl",{className:"message-details message-details-fields"},t)}});exports.default=s,e.exports=exports.default},1201:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(12),n=i(a),r=t(2),s=i(r),o=t(35),l=i(o),d=t(55),u=i(d),c=t(15),f=t(88),h=i(f),p=t(43),g=t(48),m=t(966),_=t(957),y=i(_),v=t(952),x=i(v),S=t(18),b=i(S),w=t(7),T=i(w),E=t(1183),P=i(E),A=t(49),C=i(A),O=t(34),R=i(O),N=b.default.getStore("Search"),M=b.default.getStore("Tools"),L=T.default.getActions("SavedSearches"),I=s.default.createClass({displayName:"SearchBar",propTypes:{userPreferences:s.default.PropTypes.object,savedSearches:s.default.PropTypes.arrayOf(s.default.PropTypes.object).isRequired,config:s.default.PropTypes.object,displayRefreshControls:s.default.PropTypes.bool,onExecuteSearch:s.default.PropTypes.func},getDefaultProps:function(){return{displayRefreshControls:!0}},getInitialState:function(){return this.initialSearchParams=N.getParams(),{rangeType:this.initialSearchParams.rangeType,rangeParams:this.initialSearchParams.rangeParams,query:this.initialSearchParams.query,savedSearch:N.savedSearch,keywordPreview:u.default.Map()}},componentDidMount:function(){var e=this;N.onParamsChanged=function(t){return e.setState(t)},N.onSubmitSearch=function(){e._performSearch()},N.onAddQueryTerm=this._animateQueryChange,this._initializeSearchQueryInput()},componentDidUpdate:function(e,t){this.state.query!==t.query&&this._updateSearchQueryInput(this.state.query)},componentWillUnmount:function(){this._removeSearchQueryInput()},reload:function(){this.setState(this.getInitialState())},_initializeSearchQueryInput:function(){if(this.props.userPreferences.enableSmartSearch){this.queryInput=new m.QueryInput(this.refs.query.getInputDOMNode()),this.queryInput.display();var e=l.default.findDOMNode(this.refs.query);(0,n.default)(e).on("typeahead:change",function(e){N.query=e.target.value})}},_updateSearchQueryInput:function(e){this.props.userPreferences.enableSmartSearch&&this.queryInput.update(e)},_removeSearchQueryInput:function(){if(this.props.userPreferences.enableSmartSearch){var e=l.default.findDOMNode(this.refs.query);(0,n.default)(e).off("typeahead:change")}},_closeSearchQueryAutoCompletion:function(){if(this.props.userPreferences.enableSmartSearch){var e=l.default.findDOMNode(this.refs.query.getInputDOMNode());(0,n.default)(e).typeahead("close")}},_animateQueryChange:function(){P.default.scrollToHint(l.default.findDOMNode(this.refs.universalSearch)),(0,n.default)(l.default.findDOMNode(this.refs.query)).effect("bounce")},_queryChanged:function(){N.query=this.refs.query.getValue()},_rangeTypeChanged:function(e,t){N.rangeType=e,this._resetKeywordPreview()},_rangeParamsChanged:function(e){var t=this;return function(){var i=void 0;switch(e){case"from":case"to":var a=e+"Formatted";i=t.refs[a],t._isValidDateString(i.getValue())?i.getInputDOMNode().setCustomValidity(""):i.getInputDOMNode().setCustomValidity("Invalid date time provided");break;default:i=t.refs[e]}N.rangeParams=t.state.rangeParams.set(e,i.getValue())}},_keywordSearchChanged:function(){var e=this;this._rangeParamsChanged("keyword")();var t=this.refs.keyword.getValue();""===t?this._resetKeywordPreview():M.testNaturalDate(t).then(function(t){return e._onKeywordPreviewLoaded(t)}).catch(function(){return e._resetKeywordPreview()})},_resetKeywordPreview:function(){this.setState({keywordPreview:u.default.Map()})},_onKeywordPreviewLoaded:function(e){var t=C.default.fromUTCDateTime(e.from).toString(),i=C.default.fromUTCDateTime(e.to).toString();this.setState({keywordPreview:u.default.Map({from:t,to:i})})},_formattedDateStringInUserTZ:function(e){var t=this.state.rangeParams.get(e);return null===t||void 0===t||""===t?t:this.initialSearchParams.rangeParams.get(e)===t?C.default.parseFromString(t).toString():t},_setDateTimeToNow:function(e){var t=this;return function(){t.refs[e+"Formatted"].getInputDOMNode().value=(new C.default).toString(C.default.Formats.DATETIME),t._rangeParamsChanged(e)()}},_isValidDateField:function(e){return this._isValidDateString(this._formattedDateStringInUserTZ(e))},_isValidDateString:function(e){try{return void 0!==e&&C.default.parseFromString(e),!0}catch(e){return!1}},_performSearch:function(e){if(e&&e.preventDefault(),this._closeSearchQueryAutoCompletion(),"absolute"===this.state.rangeType){var t=this.refs.fromFormatted.getValue(),i=this.refs.toFormatted.getValue();this.from.value=C.default.parseFromString(t).toISOString(),this.to.value=C.default.parseFromString(i).toISOString()}this.fields.value=N.fields.join(","),this.width.value=N.width,this.highlightMessage.value=N.highlightMessage;var a=this.refs.searchForm,r=(0,n.default)(a).serialize(),s=new h.default(a.action).search(r),o=s.resource();N.executeSearch(o),"function"==typeof this.props.onExecuteSearch&&this.props.onExecuteSearch(o)},_onSavedSearchSelect:function(e){""===e&&this._performSearch();var t=N.searchInStream?N.searchInStream.id:void 0;L.execute.triggerPromise(e,t,(0,n.default)(window).width())},_onDateSelected:function(e){var t=this;return function(i,a,n){var r=t.refs[e+"Formatted"].getInputDOMNode(),s=i.setHours(0);r.value=C.default.ignoreTZ(s).toString(C.default.Formats.DATETIME),t._rangeParamsChanged(e)()}},_getRangeTypeSelector:function(){var e=this,t=void 0;switch(this.state.rangeType){case"relative":var i=this.props.config?this.props.config.relative_timerange_options:null,a=this.props.config?R.default.duration(this.props.config.query_time_range_limit):null,n=void 0;if(i){var r=null;n=Object.keys(i).map(function(e){var t=R.default.duration(e).asSeconds();if(a>0&&(t>a.asSeconds()||0===t))return null;var n=s.default.createElement("option",{key:"relative-option-"+e,value:t},i[e]);return"PT0S"===e?(r=n,null):n}),r&&n.push(r)}else n=s.default.createElement("option",{value:"300"},"Loading...");t=s.default.createElement("div",{className:"timerange-selector relative",style:{width:270,marginLeft:50}},s.default.createElement(p.Input,{id:"relative-timerange-selector",ref:"relative",type:"select",value:this.state.rangeParams.get("relative"),name:"relative",onChange:this._rangeParamsChanged("relative"),className:"input-sm"},n));break;case"absolute":t=s.default.createElement("div",{className:"timerange-selector absolute",style:{width:600}},s.default.createElement("div",{className:"row no-bm",style:{marginLeft:50}},s.default.createElement("div",{className:"col-md-5",style:{padding:0}},s.default.createElement("input",{type:"hidden",name:"from",ref:function(t){e.from=t}}),s.default.createElement(g.DatePicker,{id:"searchFromDatePicker",title:"Search start date",date:this.state.rangeParams.get("from"),onChange:this._onDateSelected("from")},s.default.createElement(p.Input,{type:"text",ref:"fromFormatted",value:this._formattedDateStringInUserTZ("from"),onChange:this._rangeParamsChanged("from"),placeholder:C.default.Formats.DATETIME,buttonAfter:s.default.createElement(c.Button,{bsSize:"small",onClick:this._setDateTimeToNow("from")},s.default.createElement("i",{className:"fa fa-magic"})),bsStyle:this._isValidDateField("from")?null:"error",bsSize:"small",required:!0}))),s.default.createElement("div",{className:"col-md-1"},s.default.createElement("p",{className:"text-center",style:{margin:0,lineHeight:"30px"}},"to")),s.default.createElement("div",{className:"col-md-5",style:{padding:0}},s.default.createElement("input",{type:"hidden",name:"to",ref:function(t){e.to=t}}),s.default.createElement(g.DatePicker,{id:"searchToDatePicker",title:"Search end date",date:this.state.rangeParams.get("to"),onChange:this._onDateSelected("to")},s.default.createElement(p.Input,{type:"text",ref:"toFormatted",value:this._formattedDateStringInUserTZ("to"),onChange:this._rangeParamsChanged("to"),placeholder:C.default.Formats.DATETIME,buttonAfter:s.default.createElement(c.Button,{bsSize:"small",onClick:this._setDateTimeToNow("to")},s.default.createElement("i",{className:"fa fa-magic"})),bsStyle:this._isValidDateField("to")?null:"error",bsSize:"small",required:!0})))));break;case"keyword":t=s.default.createElement("div",{className:"timerange-selector keyword",style:{width:650}},s.default.createElement("div",{className:"row no-bm",style:{marginLeft:50}},s.default.createElement("div",{className:"col-md-5",style:{padding:0}},s.default.createElement(p.Input,{type:"text",ref:"keyword",name:"keyword",value:this.state.rangeParams.get("keyword"),onChange:this._keywordSearchChanged,placeholder:"Last week",className:"input-sm",required:!0})),s.default.createElement("div",{className:"col-md-7",style:{paddingRight:0}},this.state.keywordPreview.size>0&&s.default.createElement(c.Alert,{bsStyle:"info",style:{height:30,paddingTop:5,paddingBottom:5,marginTop:0}},s.default.createElement("strong",{style:{marginRight:8}},"Preview:"),this.state.keywordPreview.get("from")," to ",this.state.keywordPreview.get("to")))));break;default:throw new Error("Unsupported range type "+this.state.rangeType)}return t},_getSavedSearchesSelector:function(){var e=this.props.savedSearches.sort(function(e,t){return e.title.toLowerCase().localeCompare(t.title.toLowerCase())}).map(function(e){return{value:e.id,label:e.title}});return s.default.createElement(g.Select,{placeholder:"Saved searches",options:e,value:this.state.savedSearch,onValueChange:this._onSavedSearchSelect,size:"small"})},render:function(){var e=this;return s.default.createElement("div",{className:"row no-bm"},s.default.createElement("div",{className:"col-md-12",id:"universalsearch-container"},s.default.createElement("div",{className:"row no-bm"},s.default.createElement("div",{ref:"universalSearch",className:"col-md-12",id:"universalsearch"},s.default.createElement("form",{ref:"searchForm",className:"universalsearch-form",action:N.searchBaseLocation("index"),method:"GET",onSubmit:this._performSearch},s.default.createElement("input",{type:"hidden",name:"rangetype",value:this.state.rangeType}),s.default.createElement("input",{type:"hidden",ref:function(t){e.fields=t},name:"fields",value:""}),s.default.createElement("input",{type:"hidden",ref:function(t){e.width=t},name:"width",value:""}),s.default.createElement("input",{type:"hidden",ref:function(t){e.highlightMessage=t},name:"highlightMessage",value:""}),s.default.createElement("div",{className:"timerange-selector-container"},s.default.createElement("div",{className:"row no-bm"},s.default.createElement("div",{className:"col-md-6"},s.default.createElement(c.ButtonToolbar,{className:"timerange-chooser pull-left"},s.default.createElement(c.DropdownButton,{bsStyle:"info",title:s.default.createElement("i",{className:"fa fa-clock-o"}),onSelect:this._rangeTypeChanged,id:"dropdown-timerange-selector"},s.default.createElement(c.MenuItem,{eventKey:"relative",className:"relative"===this.state.rangeType?"selected":null},"Relative"),s.default.createElement(c.MenuItem,{eventKey:"absolute",className:"absolute"===this.state.rangeType?"selected":null},"Absolute"),s.default.createElement(c.MenuItem,{eventKey:"keyword",className:"keyword"===this.state.rangeType?"selected":null},"Keyword"))),this._getRangeTypeSelector()),s.default.createElement("div",{className:"col-md-6"},s.default.createElement("div",{className:"saved-searches-selector-container pull-right",style:{display:"inline-flex",marginRight:5}},this.props.displayRefreshControls&&s.default.createElement("div",{style:{marginRight:5}},s.default.createElement(m.RefreshControls,null)),s.default.createElement("div",{style:{width:270}},this._getSavedSearchesSelector()))))),s.default.createElement("div",{id:"search-container"},s.default.createElement("div",{className:"pull-right search-help"},s.default.createElement(y.default,{page:x.default.PAGES.SEARCH_QUERY_LANGUAGE,title:"Search query syntax documentation",text:s.default.createElement("i",{className:"fa fa-lightbulb-o"})})),s.default.createElement(c.Button,{type:"submit",bsStyle:"success",className:"pull-left"},s.default.createElement("i",{className:"fa fa-search"})),s.default.createElement("div",{className:"query"},s.default.createElement(p.Input,{type:"text",ref:"query",name:"q",value:this.state.query,onChange:this._queryChanged,placeholder:'Type your search query here and press enter. ("not found" AND http) OR http_response_code:[400 TO 404]'}))))))))}});exports.default=I,e.exports=exports.default},1202:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(15),s=t(951),o=i(s),l=t(18),d=i(l),u=t(34),c=i(u),f=d.default.getStore("Search"),h=n.default.createClass({displayName:"SurroundingSearchButton",propTypes:{id:n.default.PropTypes.string.isRequired,timestamp:n.default.PropTypes.number.isRequired,searchConfig:n.default.PropTypes.object.isRequired,messageFields:n.default.PropTypes.object.isRequired},_buildTimeRangeOptions:function(e){var t={};return Object.keys(e.surrounding_timerange_options).forEach(function(i){t[c.default.duration(i).asSeconds()]=e.surrounding_timerange_options[i]}),t},_buildFilterFields:function(){var e=this,t={};return this.props.searchConfig&&this.props.searchConfig.surrounding_filter_fields.forEach(function(i){t[i]=e.props.messageFields[i]}),t},_searchLink:function(e){var t=c.default.unix(this.props.timestamp-Number(e)).toISOString(),i=c.default.unix(this.props.timestamp+Number(e)).toISOString();return f.searchSurroundingMessages(this.props.id,t,i,this._buildFilterFields())},render:function(){var e=this,t=this._buildTimeRangeOptions(this.props.searchConfig),i=Object.keys(t).sort(function(e,t){return(0,o.default)(e,t)}).map(function(i,a){return n.default.createElement(r.MenuItem,{key:a,href:e._searchLink(i)},t[i])});return n.default.createElement(r.DropdownButton,{title:"Show surrounding messages",bsSize:"small",id:"surrounding-search-dropdown"},i)}});exports.default=h,e.exports=exports.default},1205:function(e,exports,t){"use strict";(function(i){function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(2),r=a(n),s=t(55),o=a(s),l=t(15),d=t(119),u=a(d),c=t(266),f=a(c),h=t(76),p=a(h),g=t(269),m=a(g),_=t(12),y=a(_),v=t(267),x=a(v),S=t(87),b=a(S),w=t(117),T=a(w),E=t(18),P=a(E);i.jQuery=y.default,t(170);var A=P.default.getStore("Search"),C=r.default.createClass({displayName:"QuickValuesVisualization",propTypes:{id:n.PropTypes.string,config:n.PropTypes.object,width:n.PropTypes.any,height:n.PropTypes.any,horizontal:n.PropTypes.bool,displayAnalysisInformation:n.PropTypes.bool,displayAddToSearchButton:n.PropTypes.bool},getInitialState:function(){return this.filters=[],this.triggerRender=!0,this.shouldUpdateData=!0,this.dcGroupName="quickvalue-"+this.props.id,this.quickValuesData=(0,u.default)(),this.dimension=this.quickValuesData.dimension(function(e){return e.term}),this.group=this.dimension.group().reduceSum(function(e){return e.count}),{total:void 0,others:void 0,missing:void 0,terms:o.default.List()}},componentDidMount:function(){this._resizeVisualization(this.props.width,this.props.height,this.props.config.show_data_table),this._formatProps(this.props),this._renderDataTable(),this._renderPieChart()},componentWillReceiveProps:function(e){(0,m.default)(this.props,e)||(this._resizeVisualization(e.width,e.height,e.config.show_data_table),this._formatProps(e))},NUMBER_OF_TOP_VALUES:5,DEFAULT_PIE_CHART_SIZE:200,MARGIN_TOP:15,_formatProps:function(e){if(e.data){var t=e.data,i=t.total-t.missing,a=o.default.List(o.default.Map(t.terms).keys()),n=a.map(function(e){var a=t.terms[e];return o.default.Map({term:b.default.escapeHTML(e),count:a,percentage:a/i})});this.shouldUpdateData=!n.equals(this.state.terms),this.setState({total:t.total,others:t.other,missing:t.missing,terms:n},this.drawData)}},_getAddToSearchButton:function(e){var t=document.createElement("button");return t.className="btn btn-xs btn-default",t.title="Add to search query",t.setAttribute("data-term",b.default.unescapeHTML(e)),t.innerHTML="<i class='fa fa-search-plus'></i>",t.outerHTML},_getDataTableColumns:function(){var e=this,t=[function(t){var i="";if(void 0!==e.pieChart&&"Others"!==e.dataTable.group()(t)){i='<span class="datatable-badge" style="background-color: '+e.pieChart.colors()(t.term)+'"></span>'}return i+" "+t.term},function(e){return T.default.formatPercentage(e.percentage)},function(e){return T.default.formatNumber(e.count)}];return this.props.displayAddToSearchButton&&t.push(function(t){return e._getAddToSearchButton(t.term)}),t},_renderDataTable:function(){var e=this,t=this.refs.table;this.dataTable=f.default.dataTable(t,this.dcGroupName),this.dataTable.dimension(this.dimension).group(function(t){return e.group.top(e.NUMBER_OF_TOP_VALUES).some(function(e){return 0===t.term.localeCompare(e.key)})?"Top values":"Others"}).size(50).columns(this._getDataTableColumns()).sortBy(function(e){return e.count}).order(p.default.descending).on("renderlet",function(t){t.selectAll(".dc-table-group").classed("info",!0),t.selectAll("td.dc-table-column button").on("click",function(){var t=(0,y.default)(p.default.event.target).closest("button").data("term");A.addSearchTerm(e.props.id,t)})}),this.dataTable.render()},_renderPieChart:function(){var e=this,t=this.refs.graph;this.pieChart=f.default.pieChart(t,this.dcGroupName),this.pieChart.dimension(this.dimension).group(this.group).othersGrouper(function(t){var i=e.pieChart,a=i.group().all(),n=a.map(i.keyAccessor()),r=t.map(i.keyAccessor()),s=p.default.set(r),o=p.default.sum(t,f.default.pluck("value")),l=e.state.total-e.state.missing-o;return t.concat([{others:n.filter(function(e){return!s.has(e)}),key:"Others",value:l}])}).renderLabel(!1).renderTitle(!1).slicesCap(this.NUMBER_OF_TOP_VALUES).ordering(function(e){return e.value}).colors(x.default.glColourPalette()),this._resizeVisualization(this.props.width,this.props.height,this.props.config.show_data_table),x.default.tooltipRenderlet(this.pieChart,"g.pie-slice",this._formatGraphTooltip),(0,y.default)(t).tooltip({selector:'[rel="tooltip"]',container:"body",placement:"auto",delay:{show:300,hide:100},html:!0}),this.pieChart.render()},_formatGraphTooltip:function(e){return'<div class="datapoint-info">'+e.data.key+": "+T.default.formatNumber(e.value)+"</div>"},_setPieChartSize:function(e){this.pieChart.width(e).height(e).radius(e/2-10),this.triggerRender=!0},_resizeVisualization:function(e,t,i){var a=void 0;this.props.config.show_pie_chart&&(i?a=this.DEFAULT_PIE_CHART_SIZE:(a=Math.min(e,t),a-=this.MARGIN_TOP),void 0!==this.pieChart&&this.pieChart.width()!==a&&this._setPieChartSize(a))},_clearDataFilters:function(){void 0!==this.pieChart&&(this.filters=this.pieChart.filters(),this.pieChart.filterAll())},_restoreDataFilters:function(){var e=this;void 0!==this.pieChart&&(this.filters.forEach(function(t){return e.pieChart.filter(t)}),this.filters=[])},drawData:function(){this.shouldUpdateData&&(this._clearDataFilters(),this.quickValuesData.remove(),this.quickValuesData.add(this.state.terms.toJS()),this._restoreDataFilters(),this.dataTable.redraw()),this.props.config.show_pie_chart&&(this.triggerRender?(this.pieChart.render(),this.triggerRender=!1):this.pieChart.redraw())},_getTotalMessagesWithField:function(){return this.state.total-this.state.missing},_getAnalysisInformation:function(){var e=["Found <em>"+T.default.formatNumber(this._getTotalMessagesWithField())+"</em> messages with this field"];if(0!==this.state.missing){var t=0===this.state.others?" and":"";t+=" <em>"+T.default.formatNumber(this.state.missing)+"</em> messages without it",e.push(t)}return 0!==this.state.others&&e.push(" and <em>"+T.default.formatNumber(this.state.others)+"</em> other values"),r.default.createElement("span",{dangerouslySetInnerHTML:{__html:e.join(",")+"."}})},render:function(){var e=void 0,t={};this.props.config.show_pie_chart?this.props.horizontal?(e="col-md-4",t.textAlign="center"):e="col-md-12":e="hidden";var i=void 0;i=this.props.config.show_data_table||!this.props.config.show_pie_chart?this.props.horizontal?"col-md-8":"col-md-12":"hidden";var a=void 0;return a=this.props.displayAnalysisInformation?r.default.createElement(l.Panel,null,r.default.createElement(l.ListGroup,{fill:!0},r.default.createElement(l.ListGroupItem,null,r.default.createElement("div",{ref:"graph",className:"quickvalues-graph"})),r.default.createElement(l.ListGroupItem,null,this._getAnalysisInformation()))):r.default.createElement("div",{ref:"graph",className:"quickvalues-graph"}),r.default.createElement("div",{id:"visualization-"+this.props.id,className:"quickvalues-visualization",style:{height:this.props.height}},r.default.createElement("div",{className:"container-fluid"},r.default.createElement("div",{className:"row",style:{marginBottom:0}},r.default.createElement("div",{className:e,style:t},a),r.default.createElement("div",{className:i},r.default.createElement("div",{className:"quickvalues-table"},r.default.createElement("table",{ref:"table",className:"table table-condensed table-hover"},r.default.createElement("thead",null,r.default.createElement("tr",null,r.default.createElement("th",{style:{width:"60%"}},"Value"),r.default.createElement("th",null,"%"),r.default.createElement("th",null,"Count"),this.props.displayAddToSearchButton&&r.default.createElement("th",{style:{width:30}}," ")))))))))}});exports.default=C,e.exports=exports.default}).call(exports,t(30))},1206:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(35),s=i(r),o=t(12),l=i(o),d=t(258),u=t(1181),c=t(18),f=i(c),h=t(7),p=i(h),g=t(75),m=i(g),_=t(268),y=i(_),v=f.default.getStore("Widgets"),x=p.default.getActions("Widgets"),S=n.default.createClass({displayName:"Widget",propTypes:{widget:a.PropTypes.object.isRequired,dashboardId:a.PropTypes.string.isRequired,shouldUpdate:a.PropTypes.bool.isRequired,locked:a.PropTypes.bool.isRequired,streamIds:a.PropTypes.object},getInitialState:function(){return this.widgetPlugin=this._getWidgetPlugin(this.props.widget.type),{result:void 0,calculatedAt:void 0,error:!1,errorMessage:void 0,height:void 0,width:void 0}},componentDidMount:function(){this._loadValue(),this.loadValueInterval=setInterval(this._loadValue,Math.min(1e3*this.props.widget.cache_time,this.DEFAULT_WIDGET_VALUE_REFRESH)),this.eventsThrottler=new y.default,(0,l.default)(window).on("resize",this._onResize)},componentWillReceiveProps:function(e){this.widgetPlugin=this._getWidgetPlugin(e.widget.type)},componentDidUpdate:function(){this._calculateWidgetSize()},componentWillUnmount:function(){clearInterval(this.loadValueInterval),(0,l.default)(window).off("resize",this._onResize)},DEFAULT_WIDGET_VALUE_REFRESH:1e4,WIDGET_HEADER_HEIGHT:25,WIDGET_FOOTER_HEIGHT:20,_getWidgetPlugin:function(e){return d.PluginStore.exports("widgets").filter(function(t){return t.type.toUpperCase()===e.toUpperCase()})[0]},_isBoundToStream:function(){return"stream_id"in this.props.widget.config&&null!==this.props.widget.config.stream_id},_getWidgetNode:function(){return s.default.findDOMNode(this.refs.widget)},_loadValue:function(){var e=this;if(!this.state.deleted&&(void 0===this.state.result||this.props.shouldUpdate)){var t=this.refs.widget.clientWidth;v.loadValue(this.props.dashboardId,this.props.widget.id,t).then(function(t){if(t.calculated_at!==e.state.calculatedAt){var i={result:t.result,calculatedAt:t.calculated_at,error:!1,errorMessage:void 0};t.computation_time_range&&(i.computationTimeRange=t.computation_time_range),e.setState(i)}},function(t){var i=t.message,a=void 0===e.state.result?"N/A":e.state.result;e.setState({result:a,error:!0,errorMessage:"Error loading widget value: "+i})})}},_onResize:function(){this.eventsThrottler.throttle(this._calculateWidgetSize,void 0,this.props.widget.id)},_calculateWidgetSize:function(){var e=(0,l.default)(this._getWidgetNode()),t=e.height()-(this.WIDGET_HEADER_HEIGHT+this.WIDGET_FOOTER_HEIGHT),i=e.width();t===this.state.height&&i===this.state.width||this.setState({height:t,width:i})},_getVisualization:function(){return""===this.props.widget.type?null:void 0===this.state.result?n.default.createElement("div",{className:"loading"},n.default.createElement("i",{className:"fa fa-spin fa-3x fa-refresh spinner"})):"N/A"===this.state.result?n.default.createElement("div",{className:"not-available"},this.state.result):this.widgetPlugin?n.default.createElement(this.widgetPlugin.visualizationComponent,{id:this.props.widget.id,config:this.props.widget.config,data:this.state.result,height:this.state.height,width:this.state.width,computationTimeRange:this.state.computationTimeRange}):n.default.createElement(u.WidgetVisualizationNotFound,{widgetClassName:this.props.widget.type})},_getTimeRange:function(){var e=this.props.widget.config,t=e.timerange.type,i={rangetype:t};switch(t){case"relative":i[t]=e.timerange.range;break;case"absolute":i.from=e.timerange.from,i.to=e.timerange.to;break;case"keyword":i[t]=e.timerange.keyword}return i},replayUrl:function(){var e=this.props.widget.config;return this._isBoundToStream()?m.default.stream_search(this.props.widget.config.stream_id,e.query,this._getTimeRange(),e.interval):m.default.search(e.query,this._getTimeRange(),e.interval)},_showConfig:function(){this.refs.configModal.open()},_showEditConfig:function(){this.refs.editModal.open()},updateWidget:function(e){e.id=this.props.widget.id,v.updateWidget(this.props.dashboardId,e)},deleteWidget:function(){window.confirm('Do you really want to delete "'+this.props.widget.description+'"?')&&(this.setState({deleted:!0}),x.removeWidget(this.props.dashboardId,this.props.widget.id))},render:function(){if(this.state.deleted)return n.default.createElement("span",null);var e=n.default.createElement(u.WidgetConfigModal,{ref:"configModal",dashboardId:this.props.dashboardId,widget:this.props.widget,boundToStream:this._isBoundToStream()}),t=n.default.createElement(u.WidgetEditConfigModal,{ref:"editModal",widget:this.props.widget,onUpdate:this.updateWidget}),i=null;return null!=this.props.streamIds&&this.props.widget.config.stream_id&&!this.props.streamIds[this.props.widget.config.stream_id]&&(i="The stream is not available, cannot replay search."),n.default.createElement("div",{ref:"widget",className:"widget","data-widget-id":this.props.widget.id},n.default.createElement(u.WidgetHeader,{ref:"widgetHeader",title:this.props.widget.description,calculatedAt:this.state.calculatedAt,error:this.state.error,errorMessage:this.state.errorMessage}),this._getVisualization(),n.default.createElement(u.WidgetFooter,{ref:"widgetFooter",locked:this.props.locked,onShowConfig:this._showConfig,onEditConfig:this._showEditConfig,onDelete:this.deleteWidget,replayHref:this.replayUrl(),replayToolTip:i}),this.props.locked?e:t)}});exports.default=S,e.exports=exports.default},1207:function(e,exports,t){"use strict";var i=function(e,t){function i(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)};!function(e){e[e.EOF=0]="EOF",e[e.WS=1]="WS",e[e.TERM=2]="TERM",e[e.PHRASE=3]="PHRASE",e[e.AND=4]="AND",e[e.OR=5]="OR",e[e.NOT=6]="NOT",e[e.COLON=7]="COLON",e[e.MUST=8]="MUST",e[e.MUST_NOT=9]="MUST_NOT",e[e.ERROR=10]="ERROR"}(exports.TokenType||(exports.TokenType={}));var a=exports.TokenType,n=function(){function e(){this.hiddenPrefix=[],this.hiddenSuffix=[]}return e}();exports.AST=n;var r=function(e){function t(){e.apply(this,arguments)}return i(t,e),t}(n);exports.MissingAST=r;var s=function(e){function t(t,i){e.call(this),this.modifier=t,this.right=i,this.hiddenModifierPrefix=[],this.hiddenModifierSuffix=[]}return i(t,e),t.prototype.isNOTModifier=function(){return this.modifier.type===a.NOT},t}(n);exports.ModifierAST=s;var o=function(e){function t(t,i,a){e.call(this),this.left=t,this.op=i,this.right=a,this.hiddenOpPrefix=[],this.hiddenOpSuffix=[]}return i(t,e),t}(n);exports.ExpressionAST=o;var l=function(e){function t(t){e.call(this),this.term=t}return i(t,e),t.prototype.isPhrase=function(){return-1!==this.term.asString().indexOf(" ")},t.prototype.isInclusiveRange=function(){return 0===this.term.asString().indexOf("[")},t.prototype.isExclusiveRange=function(){return 0===this.term.asString().indexOf("{")},t}(n);exports.TermAST=l;var d=function(e){function t(t,i,a){e.call(this,a),this.field=t,this.colon=i,this.hiddenColonPrefix=[],this.hiddenColonSuffix=[]}return i(t,e),t}(l);exports.TermWithFieldAST=d;var u=function(e){function t(){for(var t=[],i=0;i<arguments.length;i++)t[i-0]=arguments[i];e.call(this),this.expressions=Array(),this.expressions=this.expressions.concat(t)}return i(t,e),t.prototype.add=function(e){this.expressions.push(e)},t}(n);exports.ExpressionListAST=u;var c=function(){function e(e,t,i,n){this.input=e,this.type=t,this.beginPos=i,this.endPos=n,this.typeName=a[t]}return e.prototype.asString=function(){return this.input.substring(this.beginPos,this.endPos)},e}();exports.Token=c;var f=function(){function e(e){this.input=e,this.pos=0,this.eofToken=new c(this.input,a.EOF,e.length,e.length)}return e.prototype.next=function(){var e,t=this.lookAhead();if(null===t)e=this.eofToken;else if(this.isWhitespace(t))e=this.whitespace();else if(this.isKeyword("OR")||this.isKeyword("||"))e=this.or();else if(this.isKeyword("AND")||this.isKeyword("&&"))e=this.and();else if(this.isKeyword("NOT")||this.isPrefix("!"))e=this.not();else if(this.isPrefix("+"))e=this.must();else if(this.isPrefix("-"))e=this.mustNot();else if('"'===t)e=this.phrase();else if(":"===t){var i=this.pos;this.consume(),e=new c(this.input,a.COLON,i,this.pos)}else if("\\"===t[0]&&1===t.length){this.pos--;var i=this.pos;this.consume(),e=new c(this.input,a.ERROR,i,this.pos)}else if(this.isTermStart(t))e=this.isRangeStart(t)?this.range():this.term();else{var i=this.pos;this.consume(),e=new c(this.input,a.ERROR,i,this.pos)}return e},e.prototype.lookAheadKeyword=function(e){for(var t=0;t<e.length;t++)if(this.lookAhead(t)!==e[t])return-1;return t},e.prototype.isKeyword=function(e){var t=this.lookAheadKeyword(e);return!(t<0)&&(this.isWhitespace(this.lookAhead(t))||null===this.lookAhead(t))},e.prototype.isPrefix=function(e){var t=this.lookAheadKeyword(e);return!(t<0)&&(!this.isWhitespace(this.lookAhead(t))&&null!==this.lookAhead(t))},e.prototype.or=function(){var e=this.pos;return this.consume(2),new c(this.input,a.OR,e,this.pos)},e.prototype.and=function(){var e=this.pos;return this.consume("&"===this.lookAhead()?2:3),new c(this.input,a.AND,e,this.pos)},e.prototype.not=function(){var e=this.pos;return this.consume("!"===this.lookAhead()?1:3),new c(this.input,a.NOT,e,this.pos)},e.prototype.must=function(){var e=this.pos;return this.consume(1),new c(this.input,a.MUST,e,this.pos)},e.prototype.mustNot=function(){var e=this.pos;return this.consume(1),new c(this.input,a.MUST_NOT,e,this.pos)},e.prototype.whitespace=function(){for(var e=this.pos,t=this.lookAhead();this.isWhitespace(t);)this.consume(),t=this.lookAhead();return new c(this.input,a.WS,e,this.pos)},e.prototype.term=function(){var e=this.pos;this.consume();for(var t=this.lookAhead();this.isTerm(t);)this.consume(),t=this.lookAhead();return new c(this.input,a.TERM,e,this.pos)},e.prototype.range=function(){var e=this.pos,t=this.lookAhead();this.consume();for(var i=this.isExclusiveRangeStart(t)?this.isExclusiveRangeEnd:this.isInclusiveRangeEnd,n=this.lookAhead();null!==n&&!i(n);)this.consume(),n=this.lookAhead();return null===n?new c(this.input,a.ERROR,e,this.pos):(this.consume(),new c(this.input,a.TERM,e,this.pos))},e.prototype.phrase=function(){var e=this.pos;this.consume();for(var t=this.lookAhead();null!==t&&'"'!==t;)this.consume(),t=this.lookAhead();return this.consume(),new c(this.input,a.PHRASE,e,this.pos)},e.prototype.isDigit=function(e){return null!==e&&("a"<=e&&e<="z"||"A"<=e&&e<="Z"||"0"<=e&&e<="9")},e.prototype.isOneOf=function(e,t){return-1!==e.indexOf(t)},e.prototype.isWhitespace=function(e){return this.isOneOf(" \t\n\r　",e)},e.prototype.isSpecial=function(e){return this.isOneOf('+-!():^[]"{}~*?\\/',e)},e.prototype.isRangeStart=function(e){return this.isInclusiveRangeStart(e)||this.isExclusiveRangeStart(e)},e.prototype.isInclusiveRangeStart=function(e){return"["===e},e.prototype.isExclusiveRangeStart=function(e){return"{"===e},e.prototype.isInclusiveRangeEnd=function(e){return"]"===e},e.prototype.isExclusiveRangeEnd=function(e){return"}"===e},e.prototype.isTermStart=function(e){return null!==e&&!this.isWhitespace(e)&&(!this.isSpecial(e)||this.isRangeStart(e))},e.prototype.isTerm=function(e){return this.isTermStart(e)||this.isOneOf("+-",e)},e.prototype.isEscaped=function(e){return 2===e.length&&"\\"===e[0]},e.prototype.consume=function(e){void 0===e&&(e=1),this.pos+=e},e.prototype.lookAhead=function(e){void 0===e&&(e=0);var t=this.pos+e,i=this.input.length<=t?null:this.input[t];if("\\"===i&&(this.consume(),this.input.length<=t)){i+=this.input[t]}return i},e}(),h=function(){function e(e){this.input=e,this.errors=[],this.ruleStack=[],this.lexer=new f(e),this.tokenBuffer=[]}return e.prototype.consume=function(){this.tokenBuffer.splice(0,1)},e.prototype.lookAhead=function(e){for(void 0===e&&(e=0);e>=this.tokenBuffer.length;){var t=this.lexer.next();if(t.type===a.EOF)return t;this.tokenBuffer.push(t)}return this.tokenBuffer[e]},e.prototype.skipHidden=function(){var e=this,t=this.syncWhile(a.WS,a.ERROR);return t.filter(function(e){return e.type===a.ERROR}).forEach(function(t){e.errors.push({position:t.beginPos,message:"Unexpected input: '"+t.asString()+"'"})}),t},e.prototype.syncWhile=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i-0]=arguments[i];for(var a=[];t.some(function(t){return t===e.lookAhead().type});)a.push(this.lookAhead()),this.consume();return a},e.prototype.syncTo=function(e){for(var t=this,i=[];this.lookAhead().type!==a.EOF&&e.every(function(e){return e!==t.lookAhead().type});)i.push(this.lookAhead()),this.consume();return i},e.prototype.unexpectedToken=function(){var e=this.currentFollowSet();return this.errors.push({position:this.lookAhead().beginPos,message:"Unexpected input"}),this.syncTo(e)},e.prototype.missingToken=function(e){var t=this.currentFollowSet();return this.errors.push({position:this.lookAhead().beginPos,message:"Missing "+e}),this.syncTo(t)},e.prototype.enterRule=function(e){this.ruleStack.push(e)},e.prototype.exitRule=function(e){var t=this.ruleStack.pop();if(t!==e)throw new Error("Unmatched rule name (was "+t+", but should have been "+e+")")},e.prototype.currentRule=function(){var e=this.ruleStack.pop();return e&&this.ruleStack.push(e),e},e.prototype.isFirstOf=function(e){var t=this;return e.some(function(e){return t.lookAhead().type===e})},e.prototype.isInFirstSetOf=function(t){return this.isFirstOf(e.firstSets[t])},e.prototype.isOperatorOrExpression=function(){return this.isInFirstSetOf("expr")||this.isInFirstSetOf("operator")},e.prototype.isExpr=function(){return this.isInFirstSetOf("expr")},e.prototype.isOperator=function(){return this.isInFirstSetOf("operator")},e.prototype.isModifier=function(){return this.isInFirstSetOf("modifier")},e.prototype.isEOF=function(){return this.isFirstOf([a.EOF])},e.prototype.currentFollowSet=function(){var t=this.currentRule();return t?e.followSets[t]:e.firstSets.expr},e.prototype.parse=function(){this.errors=[];var e,t=this.skipHidden();e=this.isOperatorOrExpression()||this.isModifier()?this.exprs():new r,this.isEOF()||this.unexpectedToken(),e.hiddenPrefix=e.hiddenPrefix.concat(t);var i=this.skipHidden();return e.hiddenSuffix=e.hiddenSuffix.concat(i),e},e.prototype.exprs=function(){this.enterRule("exprs");try{var e=null;if(this.isOperatorOrExpression()?e=this.expr():this.isModifier()&&(e=this.modifier()),this.isOperatorOrExpression()||this.isModifier()){var t=new u;for(t.add(e);this.isOperatorOrExpression()||this.isModifier();)e=this.isOperatorOrExpression()?this.expr():this.modifier(),t.add(e);return t}return e}finally{this.exitRule("exprs")}},e.prototype.modifier=function(){this.enterRule("modifier");try{var e=null,t=null,i=this.skipHidden();e=this.lookAhead(),this.consume();var a=this.skipHidden();this.isExpr()?t=this.expr():(this.missingToken("right side of expression"),t=new r);var n=new s(e,t);return n.hiddenModifierPrefix=i,n.hiddenModifierSuffix=a,n}finally{this.exitRule("modifier")}},e.prototype.expr=function(){this.enterRule("expr");try{var e=null,t=null,i=null,a=[];if(this.isExpr()?(e=this.termOrPhrase(),a=this.skipHidden()):this.isOperator()?(this.missingToken("left side of expression"),i=new r):this.unexpectedToken(),this.isOperator()){t=this.lookAhead(),this.consume();var n=this.skipHidden();this.isExpr()?i=this.expr():this.isModifier()?i=this.modifier():(this.missingToken("right side of expression"),i=new r);var s=new o(e,t,i);return s.hiddenOpPrefix=a,s.hiddenOpSuffix=n,s}return e.hiddenSuffix=e.hiddenSuffix.concat(a),e}finally{this.exitRule("expr")}},e.prototype.termOrPhrase=function(){this.enterRule("term");try{var e=this.lookAhead();this.consume();var t=this.skipHidden();if(this.lookAhead().type===a.COLON){var i=this.lookAhead();this.consume();var n=this.skipHidden();if(this.lookAhead().type===a.TERM||this.lookAhead().type===a.PHRASE){var r=this.lookAhead();this.consume();var s=new d(e,i,r);return s.hiddenColonPrefix=t,s.hiddenColonSuffix=n,s}var o=this.missingToken("term or phrase for field"),s=new d(e,i,null);return s.hiddenColonPrefix=t,s.hiddenColonSuffix=n,s.hiddenSuffix=o,s}var u=new l(e);return u.hiddenSuffix=t,u}finally{this.exitRule("term")}},e.firstSets={termOrPhrase:[a.TERM,a.PHRASE],expr:[a.TERM,a.PHRASE],operator:[a.OR,a.AND],modifier:[a.NOT,a.MUST,a.MUST_NOT]},e.followSets={expr:e.firstSets.expr.concat(e.firstSets.operator).concat(e.firstSets.modifier),modifier:e.firstSets.expr.concat(e.firstSets.operator).concat(e.firstSets.modifier)},e}();exports.QueryParser=h},1208:function(e,exports,t){"use strict";var i=t(1207),a=i.MissingAST,n=i.TermAST,r=i.TermWithFieldAST,s=i.ExpressionAST,o=i.ExpressionListAST,l=i.ModifierAST,d=function(){function e(){}return e.prototype.visit=function(e){if(null!==e)if(e instanceof o)this.visitExpressionListAST(e);else if(e instanceof s)this.visitExpressionAST(e);else if(e instanceof l)this.visitModifierAST(e);else if(e instanceof r)this.visitTermWithFieldAST(e);else if(e instanceof n)this.visitTermAST(e);else{if(!(e instanceof a))throw Error("Encountered AST of unknown type: "+JSON.stringify(e));this.visitMissingAST(e)}},e.prototype.visitMissingAST=function(e){},e.prototype.visitTermAST=function(e){},e.prototype.visitTermWithFieldAST=function(e){},e.prototype.visitModifierAST=function(e){},e.prototype.visitExpressionAST=function(e){},e.prototype.visitExpressionListAST=function(e){},e}();e.exports=d},1209:function(e,exports,t){"use strict";function i(e){var t=(new Date).getTime(),i=Math.max(0,16-(t-u)),a=setTimeout(e,i);return u=t,a}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(1515),n=function(e){return e&&e.__esModule?e:{default:e}}(a),r=["","webkit","moz","o","ms"],s="clearTimeout",o=i,l=void 0,d=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};n.default&&r.some(function(e){var t=d(e,"request");if(t in window)return s=d(e,"cancel"),o=function(e){return window[t](e)}});var u=(new Date).getTime();l=function(e){return o(e)},l.cancel=function(e){window[s]&&"function"==typeof window[s]&&window[s](e)},exports.default=l,e.exports=exports.default},1210:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},o=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),l=t(67),d=i(l),u=t(1434),c=i(u),f=t(1191),h=i(f),p=t(1520),g=i(p),m=t(1518),_=i(m),y=t(1209),v=i(y),x=t(2),S=i(x),b=t(35),w=i(b),T=t(1214),E=i(T),P=t(1211),A=i(P),C=t(1215),O=i(C),R=t(1212),N=i(R),M=function(e){function t(e,i){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return r.state={affixed:"top",position:null,top:null},r._needPositionUpdate=!1,r}return r(t,e),o(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._windowScrollListener=(0,E.default)((0,N.default)(this),"scroll",function(){return e.onWindowScroll()}),this._documentClickListener=(0,E.default)((0,O.default)(this),"click",function(){return e.onDocumentClick()}),this.onUpdate()}},{key:"componentWillReceiveProps",value:function(){this._needPositionUpdate=!0}},{key:"componentDidUpdate",value:function(){this._needPositionUpdate&&(this._needPositionUpdate=!1,this.onUpdate())}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this._windowScrollListener&&this._windowScrollListener.remove(),this._documentClickListener&&this._documentClickListener.remove()}},{key:"onWindowScroll",value:function(){this.onUpdate()}},{key:"onDocumentClick",value:function(){var e=this;(0,v.default)(function(){return e.onUpdate()})}},{key:"onUpdate",value:function(){var e=this;if(this._isMounted){var t=this.props,i=t.offsetTop,a=t.viewportOffsetTop,n=(0,_.default)((0,N.default)(this)),r=n+(a||0);return r<=i?void this.updateState("top",null,null):r>this.getPositionTopMax()?void("bottom"===this.state.affixed?this.updateStateAtBottom():this.setState({affixed:"bottom",position:"absolute",top:null},function(){e._isMounted&&e.updateStateAtBottom()})):void this.updateState("affix","fixed",a)}}},{key:"getPositionTopMax",value:function(){return(0,A.default)((0,O.default)(this))-(0,c.default)(w.default.findDOMNode(this))-this.props.offsetBottom}},{key:"updateState",value:function(e,t,i){var a=this;if(e!==this.state.affixed||t!==this.state.position||i!==this.state.top){var n="affix"===e?"":e.charAt(0).toUpperCase()+e.substr(1);this.props["onAffix"+n]&&this.props["onAffix"+n](),this.setState({affixed:e,position:t,top:i},function(){a.props["onAffixed"+n]&&a.props["onAffixed"+n]()})}}},{key:"updateStateAtBottom",value:function(){var e=this.getPositionTopMax(),t=(0,g.default)(w.default.findDOMNode(this)),i=(0,h.default)(t).top;this.updateState("bottom","absolute",e-i)}},{key:"render",value:function(){var e=S.default.Children.only(this.props.children),t=e.props,i=t.className,a=t.style,n=this.state,r=n.affixed,o=n.position,l=n.top,u={position:o,top:l},c=void 0,f=void 0;return"top"===r?(c=this.props.topClassName,f=this.props.topStyle):"bottom"===r?(c=this.props.bottomClassName,f=this.props.bottomStyle):(c=this.props.affixClassName,f=this.props.affixStyle),S.default.cloneElement(e,{className:(0,d.default)(c,i),style:s({},u,f,a)})}}]),t}(S.default.Component);M.propTypes={offsetTop:S.default.PropTypes.number,viewportOffsetTop:S.default.PropTypes.number,offsetBottom:S.default.PropTypes.number,topClassName:S.default.PropTypes.string,topStyle:S.default.PropTypes.object,affixClassName:S.default.PropTypes.string,affixStyle:S.default.PropTypes.object,bottomClassName:S.default.PropTypes.string,bottomStyle:S.default.PropTypes.object,onAffix:S.default.PropTypes.func,onAffixed:S.default.PropTypes.func,onAffixTop:S.default.PropTypes.func,onAffixedTop:S.default.PropTypes.func,onAffixBottom:S.default.PropTypes.func,onAffixedBottom:S.default.PropTypes.func},M.defaultProps={offsetTop:0,viewportOffsetTop:null,offsetBottom:0},exports.default=M,e.exports=exports.default},1211:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return Math.max(e.documentElement.offsetHeight||0,e.height||0,e.body.scrollHeight||0,e.body.offsetHeight||0)},e.exports=exports.default},1212:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return(0,s.default)(n.default.findDOMNode(e))};var a=t(35),n=i(a),r=t(1433),s=i(r);e.exports=exports.default},1213:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(53).then(function(){i=t(1400),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1214:function(e,exports,t){e.exports=t(10)(269)},1215:function(e,exports,t){e.exports=t(10)(56)},1226:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(1054),s=i(r),o=t(950),l=i(o),d=n.default.createClass({displayName:"BooleanField",propTypes:{autoFocus:n.default.PropTypes.bool,field:n.default.PropTypes.object.isRequired,onChange:n.default.PropTypes.func.isRequired,title:n.default.PropTypes.string.isRequired,typeName:n.default.PropTypes.string.isRequired,value:n.default.PropTypes.any},render:function(){var e=this.props.field,t=this.props.typeName,i=this.props.title;return n.default.createElement("div",{className:"form-group"},n.default.createElement("div",{className:"checkbox"},n.default.createElement("label",null,n.default.createElement("input",{id:t+"-"+i,type:"checkbox",checked:this.props.value,name:"configuration["+i+"]",onChange:this.handleChange}),e.human_name,s.default.optionalMarker(e))),n.default.createElement("p",{className:"help-block"},e.description))},handleChange:function(e){var t=l.default.getValueFromInput(e.target);this.props.onChange(this.props.title,t)}});exports.default=d,e.exports=exports.default},1227:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(12),n=i(a),r=t(2),s=i(r),o=t(261),l=i(o),d=t(953),u=s.default.createClass({displayName:"ConfigurationForm",propTypes:{cancelAction:s.default.PropTypes.func,children:s.default.PropTypes.node,helpBlock:s.default.PropTypes.node,includeTitleField:s.default.PropTypes.bool,submitAction:s.default.PropTypes.func.isRequired,title:s.default.PropTypes.node,titleValue:s.default.PropTypes.string,typeName:s.default.PropTypes.string,values:s.default.PropTypes.object},getDefaultProps:function(){return{includeTitleField:!0,titleValue:"",values:{}}},getInitialState:function(){return this._copyStateFromProps(this.props)},componentWillReceiveProps:function(e){var t=this._copyStateFromProps(e),i=this.state?this.state.values:{};t.values=n.default.extend(t.values,i),this.setState(t)},getValue:function(){var e={},t=this.state.values;return this.props.includeTitleField&&(e.title=this.state.titleValue),e.type=this.props.typeName,e.configuration={},n.default.map(this.state.configFields,function(i,a){e.configuration[a]=void 0===t[a]?null:t[a]}),e},_copyStateFromProps:function(e){var t=this.state&&void 0!==this.state.titleValue?this.state.titleValue:e.titleValue,i={};return e.configFields&&Object.keys(e.configFields).forEach(function(t){i[t]=e.configFields[t].default_value}),{configFields:n.default.extend({},e.configFields),values:n.default.extend({},i,e.values),titleValue:t}},_sortByOptionality:function(e,t){return this.state.configFields[e].is_optional-this.state.configFields[t].is_optional},_save:function(){var e=this.getValue();this.props.submitAction(e),this.refs.modal.close()},open:function(){this.refs.modal.open()},_closeModal:function(){this.setState(n.default.extend(this.getInitialState(),{titleValue:this.props.titleValue})),this.props.cancelAction&&this.props.cancelAction()},_handleTitleChange:function(e,t){this.setState({titleValue:t})},_handleChange:function(e,t){var i=this.state.values;i[e]=t,this.setState({values:i})},_renderConfigField:function(e,t,i){var a=this.state.values[t],n=this.props.typeName,r=n+"-"+t;switch(e.type){case"text":return s.default.createElement(d.TextField,{key:r,typeName:n,title:t,field:e,value:a,onChange:this._handleChange,autoFocus:i});case"number":return s.default.createElement(d.NumberField,{key:r,typeName:n,title:t,field:e,value:a,onChange:this._handleChange,autoFocus:i});case"boolean":return s.default.createElement(d.BooleanField,{key:r,typeName:n,title:t,field:e,value:a,onChange:this._handleChange,autoFocus:i});case"dropdown":return s.default.createElement(d.DropdownField,{key:r,typeName:n,title:t,field:e,value:a,onChange:this._handleChange,autoFocus:i,addPlaceholder:!0});case"list":return s.default.createElement(d.ListField,{key:r,typeName:n,title:t,field:e,value:a,onChange:this._handleChange,autoFocus:i,addPlaceholder:!0});default:return null}},render:function(){var e=this,t=this.props.typeName,i=this.props.title,a=this.props.helpBlock,r=!0,o=void 0;this.props.includeTitleField&&(o=s.default.createElement(d.TitleField,{key:t+"-title",typeName:t,value:this.state.titleValue,onChange:this._handleTitleChange,helpBlock:a}),r=!1);var u=n.default.map(this.state.configFields,function(e,t){return t}).sort(this._sortByOptionality),c=u.map(function(t){var i=e._renderConfigField(e.state.configFields[t],t,r);return r&&(r=!1),i});return s.default.createElement(l.default,{ref:"modal",title:i,onCancel:this._closeModal,onSubmitForm:this._save,submitButtonText:"Save"},s.default.createElement("fieldset",null,s.default.createElement("input",{type:"hidden",name:"type",value:t}),this.props.children,o,c))}});exports.default=u,e.exports=exports.default},1228:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var i=t(2),a=function(e){return e&&e.__esModule?e:{default:e}}(i),n=a.default.createClass({displayName:"ConfigurationWell",propTypes:{id:a.default.PropTypes.string,configuration:a.default.PropTypes.any,typeDefinition:a.default.PropTypes.object},PASSWORD_PLACEHOLDER:"********",_formatRegularField:function(e,t){var i=void 0;return i=null===e||void 0===e||""===e||Array.isArray(e)&&0===e.length?a.default.createElement("i",null,"<empty>"):Array.isArray(e)?e.join(", "):String(e),a.default.createElement("li",{key:this.props.id+"-"+t},a.default.createElement("div",{className:"key"},t,":")," ",a.default.createElement("div",{className:"value"},i))},_formatPasswordField:function(e,t){return a.default.createElement("li",{key:this.props.id+"-"+t},a.default.createElement("div",{className:"key"},t,":")," ",a.default.createElement("div",{className:"value"},this.PASSWORD_PLACEHOLDER))},_formatConfiguration:function(e,t,i){var n=this;if(!t)return"";var r=Object.keys(t).sort().map(function(e){var a=t[e],r=i&&i.requested_configuration?i.requested_configuration[e]:void 0;return r&&r.attributes.indexOf("is_password")>-1?n._formatPasswordField(a,e):n._formatRegularField(a,e)});return r.length<1&&r.push(a.default.createElement("li",{key:"placeholder"},"-- no configuration --")),a.default.createElement("ul",null,r)},render:function(){return a.default.createElement("div",{className:"well well-small configuration-well react-configuration-well"},this._formatConfiguration(this.props.id,this.props.configuration,this.props.typeDefinition))}});exports.default=n,e.exports=exports.default},1229:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(12),n=i(a),r=t(2),s=i(r),o=t(1054),l=i(o),d=s.default.createClass({displayName:"DropdownField",propTypes:{autoFocus:s.default.PropTypes.bool.isRequired,field:s.default.PropTypes.object.isRequired,onChange:s.default.PropTypes.func.isRequired,title:s.default.PropTypes.string.isRequired,typeName:s.default.PropTypes.string.isRequired,value:s.default.PropTypes.any,addPlaceholder:s.default.PropTypes.bool,disabled:s.default.PropTypes.bool},getDefaultProps:function(){return{addPlaceholder:!1}},getInitialState:function(){return{typeName:this.props.typeName,field:this.props.field,title:this.props.title,value:this.props.value}},componentWillReceiveProps:function(e){this.setState(e)},_formatOption:function(e,t,i){return s.default.createElement("option",{key:this.state.typeName+"-"+this.state.title+"-"+t,value:t,id:t,disabled:i},e)},handleChange:function(e){this.props.onChange(this.state.title,e.target.value),this.setState({value:e.target.value})},render:function(){var e=this.state.field,t=n.default.map(e.additional_info.values,this._formatOption);this.props.addPlaceholder&&t.unshift(this._formatOption("Select "+(e.human_name||this.state.title),"",!0));var i=this.state.typeName;return s.default.createElement("div",{className:"form-group"},s.default.createElement("label",{htmlFor:i+"-"+e.title},e.human_name,l.default.optionalMarker(e)),s.default.createElement("select",{id:e.title,value:this.state.value,className:"input-xlarge form-control",onChange:this.handleChange,autoFocus:this.props.autoFocus,disabled:this.props.disabled,required:!e.is_optional},t),s.default.createElement("p",{className:"help-block"},e.description))}});exports.default=d,e.exports=exports.default},1230:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var i=t(2),a=function(e){return e&&e.__esModule?e:{default:e}}(i),n=t(48),r=t(953),s=a.default.createClass({displayName:"ListField",propTypes:{autoFocus:a.default.PropTypes.bool.isRequired,field:a.default.PropTypes.object.isRequired,onChange:a.default.PropTypes.func.isRequired,title:a.default.PropTypes.string.isRequired,typeName:a.default.PropTypes.string.isRequired,value:a.default.PropTypes.any,addPlaceholder:a.default.PropTypes.bool,disabled:a.default.PropTypes.bool},getDefaultProps:function(){return{addPlaceholder:!1}},getInitialState:function(){return{typeName:this.props.typeName,field:this.props.field,title:this.props.title,value:this.props.value}},componentWillReceiveProps:function(e){this.setState(e)},_formatOption:function(e,t){return{value:t,label:e}},_handleChange:function(e){var t=""===e?[]:e.split(",");this.props.onChange(this.state.title,t),this.setState({value:t})},render:function(){var e=this,t=this.state.field,i=this.state.typeName,s=t.attributes.includes("allow_create"),o=t.additional_info&&t.additional_info.values?t.additional_info.values:{},l=Object.keys(o).map(function(t){return e._formatOption(t,o[t])});return a.default.createElement("div",{className:"form-group"},a.default.createElement("label",{htmlFor:i+"-"+t.title},t.human_name,r.FieldHelpers.optionalMarker(t)),a.default.createElement(n.MultiSelect,{id:t.title,options:l,value:this.state.value,placeholder:(s?"Add":"Select")+" "+t.human_name,onValueChange:this._handleChange,disabled:this.props.disabled,allowCreate:s}),a.default.createElement("p",{className:"help-block"},t.description))}});exports.default=s,e.exports=exports.default},1231:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},n=t(2),r=i(n),s=t(1054),o=i(s),l=t(950),d=i(l),u=r.default.createClass({displayName:"NumberField",propTypes:{autoFocus:r.default.PropTypes.bool,field:r.default.PropTypes.object.isRequired,onChange:r.default.PropTypes.func.isRequired,title:r.default.PropTypes.string.isRequired,typeName:r.default.PropTypes.string.isRequired,value:r.default.PropTypes.any},MAX_SAFE_INTEGER:void 0!==Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:Math.pow(2,53)-1,MIN_SAFE_INTEGER:void 0!==Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:-1*(Math.pow(2,53)-1),_getDefaultValidationSpecs:function(){return{min:this.MIN_SAFE_INTEGER,max:this.MAX_SAFE_INTEGER}},mapValidationAttribute:function(e){switch(e.toLocaleUpperCase()){case"ONLY_NEGATIVE":return{min:this.MIN_SAFE_INTEGER,max:-1};case"ONLY_POSITIVE":return{min:0,max:this.MAX_SAFE_INTEGER};case"IS_PORT_NUMBER":return{min:0,max:65535};default:return this._getDefaultValidationSpecs()}},validationSpec:function(e){var t=e.attributes.map(this.mapValidationAttribute);return t.length>0?t[0]:this._getDefaultValidationSpecs()},handleChange:function(e){var t=d.default.getValueFromInput(e.target);this.props.onChange(this.props.title,t)},render:function(){var e=this.props.typeName,t=this.props.field,i=!t.is_optional,n=this.validationSpec(t);return r.default.createElement("div",{className:"form-group"},r.default.createElement("label",{htmlFor:e+"-"+t.title},t.human_name,o.default.optionalMarker(t)),r.default.createElement("input",a({id:t.title,type:"number",required:i,onChange:this.handleChange,value:this.props.value,className:"input-xlarge validatable form-control"},n,{autoFocus:this.props.autoFocus})),r.default.createElement("p",{className:"help-block"},t.description))}});exports.default=u,e.exports=exports.default},1232:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(1054),s=i(r),o=n.default.createClass({displayName:"TextField",propTypes:{autoFocus:n.default.PropTypes.bool,field:n.default.PropTypes.object.isRequired,onChange:n.default.PropTypes.func.isRequired,title:n.default.PropTypes.string.isRequired,typeName:n.default.PropTypes.string.isRequired,value:n.default.PropTypes.any},getInitialState:function(){return{typeName:this.props.typeName,field:this.props.field,title:this.props.title,value:this.props.value}},componentWillReceiveProps:function(e){this.setState(e)},handleChange:function(e){this.props.onChange(this.state.title,e.target.value),this.setState({value:e.target.value})},render:function(){var e=this.state.field,t=this.state.title,i=this.state.typeName,a=void 0,r=!e.is_optional,o=!s.default.hasAttribute(e.attributes,"textarea")&&s.default.hasAttribute(e.attributes,"is_password")?"password":"text";return a=s.default.hasAttribute(e.attributes,"textarea")?n.default.createElement("textarea",{id:t,className:"form-control",rows:10,name:"configuration["+t+"]",required:r,value:this.state.value,onChange:this.handleChange,autoFocus:this.props.autoFocus}):n.default.createElement("input",{id:t,type:o,className:"form-control",name:"configuration["+t+"]",value:this.state.value,onChange:this.handleChange,required:r,autoFocus:this.props.autoFocus}),n.default.createElement("div",{className:"form-group"},n.default.createElement("label",{htmlFor:i+"-"+t+")"},e.human_name,s.default.optionalMarker(e)),a,n.default.createElement("p",{className:"help-block"},e.description))}});exports.default=o,e.exports=exports.default},1233:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var i=t(2),a=function(e){return e&&e.__esModule?e:{default:e}}(i),n=t(953),r=a.default.createClass({displayName:"TitleField",propTypes:{helpBlock:a.default.PropTypes.node,onChange:a.default.PropTypes.func,typeName:a.default.PropTypes.string.isRequired,value:a.default.PropTypes.any},getDefaultProps:function(){return{helpBlock:a.default.createElement("span",null),onChange:function(){}}},render:function(){var e=this.props.typeName,t={is_optional:!1,attributes:[],human_name:"Title",description:this.props.helpBlock};return a.default.createElement(n.TextField,{key:e+"-title",typeName:e,title:"title",field:t,value:this.props.value,onChange:this.props.onChange,autoFocus:!0})}});exports.default=r,e.exports=exports.default},1238:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(12),n=i(a),r=t(2),s=i(r),o=t(43),l=t(261),d=i(l),u=t(18),c=i(u),f=c.default.getStore("Dashboards"),h=s.default.createClass({displayName:"EditDashboardModal",propTypes:{action:s.default.PropTypes.oneOf(["create","edit"]),description:s.default.PropTypes.string,id:s.default.PropTypes.string,onSaved:s.default.PropTypes.func,title:s.default.PropTypes.string},getInitialState:function(){return{id:this.props.id,description:this.props.description,title:this.props.title}},getDefaultProps:function(){return{action:"create"}},render:function(){return s.default.createElement(d.default,{ref:"modal",title:this._isCreateModal()?"New Dashboard":"Edit Dashboard "+this.props.title,onSubmitForm:this._save,submitButtonText:"Save"},s.default.createElement("fieldset",null,s.default.createElement(o.Input,{id:this.props.id+"-title",type:"text",label:"Title:",onChange:this._onTitleChange,value:this.state.title,autoFocus:!0,required:!0}),s.default.createElement(o.Input,{type:"text",label:"Description:",name:"Description",onChange:this._onDescriptionChange,value:this.state.description,required:!0})))},close:function(){this.refs.modal.close()},open:function(){this.refs.modal.open()},_save:function(){var e=this,t=void 0;this._isCreateModal()?(t=f.createDashboard(this.state.title,this.state.description),t.then(function(t){e.close(),"function"==typeof e.props.onSaved&&e.props.onSaved(t),e.setState(e.getInitialState())})):(t=f.saveDashboard(this.state),t.then(function(){e.close();var t='[data-dashboard-id="'+e.state.id+'"]',i=(0,n.default)(t+".dashboard-title");i.length>0&&i.html(e.state.title);var a=(0,n.default)(t+".dashboard-description");a.length>0&&a.html(e.state.description),"function"==typeof e.props.onSaved&&e.props.onSaved(e.state.id)}))},_onDescriptionChange:function(e){this.setState({description:e.target.value})},_onTitleChange:function(e){this.setState({title:e.target.value})},_isCreateModal:function(){return"create"===this.props.action}});exports.default=h,e.exports=exports.default},1245:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(35),s=i(r),o=t(55),l=i(o),d=t(1105),u=i(d),c=t(1196),f=i(c),h=t(18),p=i(h),g=t(1183),m=i(g),_=p.default.getStore("FieldGraphs"),y=n.default.createClass({displayName:"FieldGraphs",propTypes:{from:a.PropTypes.any.isRequired,to:a.PropTypes.any.isRequired,resolution:a.PropTypes.any.isRequired,stream:a.PropTypes.object,permissions:a.PropTypes.arrayOf(a.PropTypes.string).isRequired},mixins:[u.default],getInitialState:function(){return this.notifyOnNewGraphs=!1,{fieldGraphs:l.default.fromJS(_.fieldGraphs.toJS()),stackedGraphs:l.default.fromJS(_.stackedGraphs.toJS())}},componentDidMount:function(){var e=this;this.initialFieldGraphs=this.state.fieldGraphs,this.notifyOnNewGraphs=!0,_.onFieldGraphsUpdated=function(t){return e.setState({fieldGraphs:l.default.fromJS(t.toJS())})},_.onFieldGraphsMerged=function(t){return e.setState({stackedGraphs:l.default.fromJS(t.toJS())})},_.onFieldGraphCreated=function(t){if(e.notifyOnNewGraphs&&!e.initialFieldGraphs.has(t)){var i=s.default.findDOMNode(e.refs[t]);m.default.scrollToHint(i)}}},componentWillUnmount:function(){_.resetStore()},addField:function(e){var t=this.props.stream?this.props.stream.id:void 0;_.newFieldGraph(e,{interval:this.props.resolution,streamid:t})},deleteFieldGraph:function(e){_.deleteGraph(e)},render:function(){var e=this,t=this.state.fieldGraphs.sortBy(function(e){return e.createdAt}).map(function(t,i){return n.default.createElement(f.default,{key:i,ref:i,graphId:i,graphOptions:t.toJS(),onDelete:function(){return e.deleteFieldGraph(i)},from:e.props.from,to:e.props.to,permissions:e.props.permissions,stacked:e.state.stackedGraphs.has(i),hidden:e.state.stackedGraphs.some(function(e){return e.has(i)})})});return n.default.createElement("div",{id:"field-graphs"},t.valueSeq())}});exports.default=y,e.exports=exports.default},1246:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(35),s=i(r),o=t(15),l=t(1),d=i(l),u=t(1205),c=i(u),f=t(988),h=i(f),p=t(260),g=i(p),m=t(1183),_=i(m),y=t(18),v=i(y),x=v.default.getStore("FieldQuickValues"),S=v.default.getStore("Refresh"),b=n.default.createClass({displayName:"FieldQuickValues",propTypes:{permissions:a.PropTypes.arrayOf(a.PropTypes.string).isRequired,query:n.default.PropTypes.string.isRequired,rangeType:n.default.PropTypes.string.isRequired,rangeParams:n.default.PropTypes.object.isRequired,stream:a.PropTypes.object,forceFetch:n.default.PropTypes.bool},mixins:[d.default.listenTo(S,"_setupTimer","_setupTimer")],getInitialState:function(){return{field:void 0,data:[]}},componentDidMount:function(){this._loadQuickValuesData()},componentWillReceiveProps:function(e){(this.props.query!==e.query||this.props.rangeType!==e.rangeType||JSON.stringify(this.props.rangeParams)!==JSON.stringify(e.rangeParams)||this.props.stream!==e.stream||e.forceFetch)&&this._loadQuickValuesData()},componentDidUpdate:function(e,t){if(this.state.field!==t.field){var i=s.default.findDOMNode(this);_.default.scrollToHint(i)}},componentWillUnmount:function(){this._stopTimer()},WIDGET_TYPE:"QUICKVALUES",_setupTimer:function(e){this._stopTimer(),e.enabled&&(this.timer=setInterval(this._loadQuickValuesData,e.interval))},_stopTimer:function(){this.timer&&clearInterval(this.timer)},addField:function(e){var t=this;this.setState({field:e},function(){return t._loadQuickValuesData(!1)})},_loadQuickValuesData:function(){var e=this;if(void 0!==this.state.field){this.setState({loadPending:!0});x.getQuickValues(this.state.field).then(function(t){return e.setState({data:t,loadPending:!1})})}},_resetStatus:function(){this.setState(this.getInitialState())},render:function(){var e=this,t=void 0,i=void 0;return i=0===this.state.data.length?n.default.createElement(g.default,null):n.default.createElement(c.default,{id:this.state.field,config:{show_pie_chart:!0,show_data_table:!0},data:this.state.data,horizontal:!0,displayAddToSearchButton:!0,displayAnalysisInformation:!0}),void 0!==this.state.field&&(t=n.default.createElement("div",{className:"content-col"},n.default.createElement("div",{className:"pull-right"},n.default.createElement(h.default,{title:"Add to dashboard",widgetType:this.WIDGET_TYPE,configuration:{field:this.state.field},bsStyle:"default",pullRight:!0,permissions:this.props.permissions},n.default.createElement(o.Button,{bsSize:"small",onClick:function(){return e._resetStatus()}},"Dismiss"))),n.default.createElement("h1",null,"Quick Values for ",this.state.field," ",this.state.loadPending&&n.default.createElement("i",{className:"fa fa-spin fa-spinner"})),n.default.createElement("div",{style:{maxHeight:400,overflow:"auto",marginTop:10}},i))),n.default.createElement("div",{id:"field-quick-values"},t)}});exports.default=b,e.exports=exports.default},1247:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(1),s=i(r),o=t(55),l=i(o),d=t(15),u=t(988),c=i(u),f=t(18),h=i(f),p=t(117),g=i(p),m=t(5),_=i(m),y=h.default.getStore("FieldStatistics"),v=h.default.getStore("Refresh"),x=n.default.createClass({displayName:"FieldStatistics",propTypes:{permissions:a.PropTypes.arrayOf(a.PropTypes.string).isRequired,query:n.default.PropTypes.string.isRequired,rangeType:n.default.PropTypes.string.isRequired,rangeParams:n.default.PropTypes.object.isRequired,stream:a.PropTypes.object,forceFetch:n.default.PropTypes.bool},mixins:[s.default.listenTo(v,"_setupTimer","_setupTimer")],getInitialState:function(){return{statsLoadPending:l.default.Map(),fieldStatistics:l.default.Map(),sortBy:"field",sortDescending:!1}},componentWillReceiveProps:function(e){(this.props.query!==e.query||this.props.rangeType!==e.rangeType||JSON.stringify(this.props.rangeParams)!==JSON.stringify(e.rangeParams)||this.props.stream!==e.stream||e.forceFetch)&&this._reloadAllStatistics()},WIDGET_TYPE:"STATS_COUNT",_setupTimer:function(e){this._stopTimer(),e.enabled&&(this.timer=setInterval(this._reloadAllStatistics,e.interval))},_stopTimer:function(){this.timer&&clearInterval(this.timer)},addField:function(e){this._reloadFieldStatistics(e)},_reloadAllStatistics:function(){var e=this;this.state.fieldStatistics.keySeq().forEach(function(t){return e._reloadFieldStatistics(t)})},_reloadFieldStatistics:function(e){var t=this;if(this.isMounted){this.setState({statsLoadPending:this.state.statsLoadPending.set(e,!0)});y.getFieldStatistics(e).then(function(i){t.setState({fieldStatistics:t.state.fieldStatistics.set(e,i),statsLoadPending:t.state.statsLoadPending.set(e,!1)})}).catch(function(i){i.additional&&400===i.additional.status?t.setState({fieldStatistics:t.state.fieldStatistics.delete(e),statsLoadPending:t.state.statsLoadPending.delete(e)}):_.default.error("Loading field statistics failed with status: "+i,"Could not load field statistics")})}},_changeSortOrder:function(e){this.state.sortBy===e?this.setState({sortDescending:!this.state.sortDescending}):this.setState({sortBy:e,sortDescending:!1})},_resetStatus:function(){this.setState(this.getInitialState())},_renderStatistics:function(){var e=this,t=[];return this.state.fieldStatistics.keySeq().sort(function(t,i){var a=e.state.sortDescending?i:t,n=e.state.sortDescending?t:i;if("field"===e.state.sortBy)return a.toLowerCase().localeCompare(n.toLowerCase());var r=e.state.fieldStatistics.get(a)[e.state.sortBy],s=e.state.fieldStatistics.get(n)[e.state.sortBy];return g.default.normalizeNumber(r)-g.default.normalizeNumber(s)}).forEach(function(i){var a=e.state.fieldStatistics.get(i),r=null;e.state.statsLoadPending.get(i)&&(r=n.default.createElement("i",{className:"fa fa-spin fa-spinner"})),t.push(n.default.createElement("tr",{key:i},n.default.createElement("td",null,r),n.default.createElement("td",null,i),y.FUNCTIONS.keySeq().map(function(e){var t=g.default.isNumber(a[e])?g.default.formatNumber(a[e]):a[e],i={};return"NaN"!==t&&"-Infinity"!==t&&"Infinity"!==t&&"N/A"!==t||(i.color="lightgray"),n.default.createElement("td",{key:e+"-td"},n.default.createElement("span",{style:i},t))})))}),t},_renderStatisticalFunctionsHeaders:function(){var e=this;return y.FUNCTIONS.keySeq().map(function(t){return n.default.createElement("th",{key:t+"-th",onClick:function(){return e._changeSortOrder(t)}},y.FUNCTIONS.get(t)," ",e._getHeaderCaret(t))})},_getHeaderCaret:function(e){return this.state.sortBy!==e?null:this.state.sortDescending?n.default.createElement("i",{className:"fa fa-caret-down"}):n.default.createElement("i",{className:"fa fa-caret-up"})},render:function(){var e=this,t=void 0;return this.state.fieldStatistics.isEmpty()?this.state.statsLoadPending.isEmpty()||(t=n.default.createElement("div",{className:"content-col"},n.default.createElement("h1",null,"Field Statistics ",n.default.createElement("i",{className:"fa fa-spin fa-spinner"})))):t=n.default.createElement("div",{className:"content-col"},n.default.createElement("div",{className:"pull-right"},n.default.createElement(c.default,{title:"Add to dashboard",widgetType:this.WIDGET_TYPE,bsStyle:"default",fields:this.state.fieldStatistics.keySeq().toJS(),pullRight:!0,permissions:this.props.permissions},n.default.createElement(d.Button,{bsSize:"small",onClick:function(){return e._resetStatus()}},"Dismiss"))),n.default.createElement("h1",null,"Field Statistics"),n.default.createElement("div",{className:"table-responsive"},n.default.createElement("table",{className:"table table-striped table-bordered table-hover table-condensed"},n.default.createElement("thead",null,n.default.createElement("tr",null,n.default.createElement("th",{style:{width:24}}),n.default.createElement("th",{onClick:function(){return e._changeSortOrder("field")}},"Field ",this._getHeaderCaret("field")),this._renderStatisticalFunctionsHeaders())),n.default.createElement("tbody",null,this._renderStatistics())))),n.default.createElement("div",{id:"field-statistics"},t)}});exports.default=x,e.exports=exports.default},1248:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.LegacyFieldGraph=exports.FieldStatistics=exports.FieldQuickValues=exports.FieldGraphs=void 0;var a=t(1245);Object.defineProperty(exports,"FieldGraphs",{enumerable:!0,get:function(){return i(a).default}});var n=t(1246);Object.defineProperty(exports,"FieldQuickValues",{enumerable:!0,get:function(){return i(n).default}});var r=t(1247);Object.defineProperty(exports,"FieldStatistics",{enumerable:!0,get:function(){return i(r).default}});var s=t(1196);Object.defineProperty(exports,"LegacyFieldGraph",{enumerable:!0,get:function(){return i(s).default}});var o=t(258),l=i(r),d=i(n),u=i(a),c=new o.PluginManifest({},{fieldAnalyzers:[{refId:"fieldStatisticsComponent",displayName:"Statistics",component:l.default,displayPriority:2},{refId:"fieldQuickValuesComponent",displayName:"Quick values",component:d.default,displayPriority:1},{refId:"fieldGraphsComponent",displayName:"Generate chart",component:u.default,displayPriority:0}]}),f=o.PluginStore.exports("fieldAnalyzers").map(function(e){return e.refId});c.exports.fieldAnalyzers.every(function(e){return f.includes(e.refId)})||o.PluginStore.register(c)},1253:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(1),s=i(r),o=t(1098),l=i(o),d=t(18),u=i(d),c=u.default.getStore("System"),f=n.default.createClass({displayName:"Footer",mixins:[s.default.connect(c)],componentDidMount:function(){var e=this;c.jvm().then(function(t){return e.setState({jvm:t})})},_isLoading:function(){return!(this.state.system&&this.state.jvm)},render:function(){return this._isLoading()?n.default.createElement("div",{id:"footer"},"Graylog ",l.default.getFullVersion()):n.default.createElement("div",{id:"footer"},"Graylog ",this.state.system.version," on ",this.state.system.hostname," (",this.state.jvm.info,")")}});exports.default=f,e.exports=exports.default},1264:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(15),s=t(949),o=t(952),l=i(o),d=t(75),u=i(d),c=n.default.createClass({displayName:"HelpMenu",propTypes:{active:a.PropTypes.bool.isRequired},render:function(){return n.default.createElement(r.NavDropdown,{title:"Help",id:"help-menu-dropdown",active:this.props.active},n.default.createElement(s.LinkContainer,{to:u.default.getting_started(!0)},n.default.createElement(r.MenuItem,null,"Getting Started")),n.default.createElement(r.MenuItem,{href:l.default.versionedDocsHomePage(),target:"blank"},n.default.createElement("i",{className:"fa fa-external-link"})," Documentation"))}});exports.default=c,e.exports=exports.default},1265:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(1),s=i(r),o=t(15),l=t(949),d=t(951),u=i(d),c=t(165),f=i(c),h=t(75),p=i(h),g=t(4),m=i(g),_=t(91),y=i(_),v=t(18),x=i(v),S=t(258),b=t(1318),w=i(b),T=t(1266),E=i(T),P=t(1264),A=i(P),C=t(48),O=x.default.getStore("Notifications"),R=n.default.createClass({displayName:"Navigation",propTypes:{requestPath:n.default.PropTypes.string.isRequired,loginName:n.default.PropTypes.string.isRequired,fullName:n.default.PropTypes.string.isRequired,permissions:n.default.PropTypes.arrayOf(n.default.PropTypes.string).isRequired},mixins:[f.default,s.default.connect(O)],componentDidMount:function(){this.interval=setInterval(O.list,this.POLL_INTERVAL)},componentWillUnmount:function(){clearInterval(this.interval)},POLL_INTERVAL:3e3,_isActive:function(e){return 0===this.props.requestPath.indexOf(m.default.appPrefixed(e))},_systemTitle:function(){var e=this,t="System";if(this._isActive("/system/overview"))return"System / Overview";if(this._isActive("/system/nodes"))return"System / Nodes";if(this._isActive("/system/inputs"))return"System / Inputs";if(this._isActive("/system/outputs"))return"System / Outputs";if(this._isActive("/system/indices"))return"System / Indices";if(this._isActive("/system/logging"))return"System / Logging";if(this._isActive("/system/authentication"))return"System / Authentication";if(this._isActive("/system/contentpacks"))return"System / Content Packs";if(this._isActive("/system/grokpatterns"))return"System / Grok Patterns";if(this._isActive("/system/lookuptables"))return"System / Lookup Tables";if(this._isActive("/system/configurations"))return"System / Configurations";var i=S.PluginStore.exports("systemnavigation").filter(function(t){return e._isActive(t.path)})[0];return i?"System / "+i.description:t},_shouldAddPluginRoute:function(e){return!e.permissions||e.permissions&&this.isPermitted(this.props.permissions,e.permissions)},render:function(){var e=this,i=t(1503),a=n.default.createElement(l.LinkContainer,{to:p.default.STARTPAGE},n.default.createElement("a",null,n.default.createElement("img",{src:i}))),r=void 0;this.state.total>0&&(r=n.default.createElement(o.Nav,{navbar:!0},n.default.createElement(o.NavItem,{className:"notification-badge-link"},n.default.createElement(l.LinkContainer,{to:p.default.SYSTEM.OVERVIEW},n.default.createElement("span",{className:"badge",style:{backgroundColor:"#ff3b00"},id:"notification-badge"},this.state.total)))));var s=S.PluginStore.exports("navigation").sort(function(e,t){return(0,u.default)(e.description.toLowerCase(),t.description.toLowerCase())}).map(function(t){return e._shouldAddPluginRoute(t)?n.default.createElement(l.LinkContainer,{key:t.path,to:m.default.appPrefixed(t.path)},n.default.createElement(o.NavItem,null,t.description)):null}),d=S.PluginStore.exports("systemnavigation").sort(function(e,t){return(0,u.default)(e.description.toLowerCase(),t.description.toLowerCase())}).map(function(t){return e._shouldAddPluginRoute(t)?n.default.createElement(l.LinkContainer,{key:t.path,to:m.default.appPrefixed(t.path)},n.default.createElement(o.MenuItem,null,t.description)):null});return n.default.createElement(o.Navbar,{inverse:!0,fluid:!0,fixedTop:!0},n.default.createElement(o.Navbar.Header,null,n.default.createElement(o.Navbar.Brand,null,a),n.default.createElement(o.Navbar.Toggle,null)),n.default.createElement(o.Navbar.Collapse,{eventKey:0},n.default.createElement(o.Nav,{navbar:!0},n.default.createElement(C.IfPermitted,{permissions:["searches:absolute","searches:relative","searches:keyword"]},n.default.createElement(l.LinkContainer,{to:p.default.SEARCH},n.default.createElement(o.NavItem,{to:"search"},"Search"))),n.default.createElement(l.LinkContainer,{to:p.default.STREAMS},n.default.createElement(o.NavItem,null,"Streams")),n.default.createElement(l.LinkContainer,{to:p.default.ALERTS.LIST},n.default.createElement(o.NavItem,null,"Alerts")),n.default.createElement(l.LinkContainer,{to:p.default.DASHBOARDS},n.default.createElement(o.NavItem,null,"Dashboards")),n.default.createElement(C.IfPermitted,{permissions:"sources:read"},n.default.createElement(l.LinkContainer,{to:p.default.SOURCES},n.default.createElement(o.NavItem,null,"Sources"))),s,n.default.createElement(o.NavDropdown,{title:this._systemTitle(),id:"system-menu-dropdown"},n.default.createElement(l.LinkContainer,{to:p.default.SYSTEM.OVERVIEW},n.default.createElement(o.MenuItem,null,"Overview")),this.isPermitted(this.props.permissions,["clusterconfigentry:read"])&&n.default.createElement(l.LinkContainer,{to:p.default.SYSTEM.CONFIGURATIONS},n.default.createElement(o.MenuItem,null,"Configurations")),n.default.createElement(l.LinkContainer,{to:p.default.SYSTEM.NODES.LIST},n.default.createElement(o.MenuItem,null,"Nodes")),this.isPermitted(this.props.permissions,["inputs:read"])&&n.default.createElement(l.LinkContainer,{to:p.default.SYSTEM.INPUTS},n.default.createElement(o.MenuItem,null,"Inputs")),this.isPermitted(this.props.permissions,["outputs:read"])&&n.default.createElement(l.LinkContainer,{to:p.default.SYSTEM.OUTPUTS},n.default.createElement(o.MenuItem,null,"Outputs")),this.isPermitted(this.props.permissions,["indices:read"])&&n.default.createElement(l.LinkContainer,{to:p.default.SYSTEM.INDICES.LIST},n.default.createElement(o.MenuItem,null,"Indices")),this.isPermitted(this.props.permissions,["loggers:read"])&&n.default.createElement(l.LinkContainer,{to:p.default.SYSTEM.LOGGING},n.default.createElement(o.MenuItem,null,"Logging")),this.isAnyPermitted(this.props.permissions,["users:list, roles:read"])&&n.default.createElement(l.LinkContainer,{to:p.default.SYSTEM.AUTHENTICATION.OVERVIEW},n.default.createElement(o.MenuItem,null,"Authentication")),this.isPermitted(this.props.permissions,["dashboards:create","inputs:create","streams:create"])&&n.default.createElement(l.LinkContainer,{to:p.default.SYSTEM.CONTENTPACKS.LIST},n.default.createElement(o.MenuItem,null,"Content Packs")),this.isPermitted(this.props.permissions,["inputs:edit"])&&n.default.createElement(l.LinkContainer,{to:p.default.SYSTEM.GROKPATTERNS},n.default.createElement(o.MenuItem,null,"Grok Patterns")),this.isPermitted(this.props.permissions,["inputs:edit"])&&n.default.createElement(l.LinkContainer,{to:p.default.SYSTEM.LOOKUPTABLES.OVERVIEW},n.default.createElement(o.MenuItem,null,"Lookup Tables")),d)),r,n.default.createElement(o.Nav,{navbar:!0,pullRight:!0},n.default.createElement("li",{role:"presentation",className:""},n.default.createElement(l.LinkContainer,{to:p.default.SYSTEM.NODES.LIST},n.default.createElement("a",null,n.default.createElement(w.default,null)))),n.default.createElement(A.default,{active:this._isActive(p.default.GETTING_STARTED)}),n.default.createElement(E.default,{fullName:this.props.fullName,loginName:this.props.loginName}),y.default.gl2DevMode()?n.default.createElement(o.NavItem,{className:"notification-badge-link"},n.default.createElement("span",{className:"badge",style:{backgroundColor:"#ff3b00"}},"DEV")):null)))}});exports.default=R,e.exports=exports.default},1266:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(15),s=t(949),o=t(18),l=i(o),d=t(7),u=i(d),c=t(75),f=i(c),h=t(166),p=i(h),g=l.default.getStore("Session"),m=u.default.getActions("Session"),_=n.default.createClass({displayName:"UserMenu",propTypes:{loginName:n.default.PropTypes.string.isRequired,fullName:n.default.PropTypes.string.isRequired},onLogoutClicked:function(){m.logout.triggerPromise(g.getSessionId()).then(function(){p.default.pushState(null,f.default.STARTPAGE)})},render:function(){return n.default.createElement(r.NavDropdown,{title:this.props.fullName,id:"user-menu-dropdown"},n.default.createElement(s.LinkContainer,{to:f.default.SYSTEM.AUTHENTICATION.USERS.edit(encodeURIComponent(this.props.loginName))},n.default.createElement(r.MenuItem,null,"Edit profile")),n.default.createElement(r.MenuItem,{divider:!0}),n.default.createElement(r.MenuItem,{onSelect:this.onLogoutClicked},n.default.createElement("i",{className:"fa fa-sign-out"})," Log out"))}});exports.default=_,e.exports=exports.default},1269:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(1),s=i(r),o=t(12),l=i(o),d=t(1105),u=i(d),c=t(15),f=t(953),h=t(48),p=t(18),g=i(p),m=t(7),_=i(m),y=t(1036),v=i(y),x=g.default.getStore("Decorators"),S=_.default.getActions("Decorators"),b=n.default.createClass({displayName:"AddDecoratorButton",propTypes:{nextOrder:n.default.PropTypes.number.isRequired,stream:n.default.PropTypes.string,disabled:n.default.PropTypes.bool},mixins:[s.default.connect(x),u.default],getDefaultProps:function(){return{disabled:!1}},getInitialState:function(){return{typeDefinition:{}}},_formatDecoratorType:function(e,t){return{value:t,label:e.name}},_handleCancel:function(){this.refs.select.clearValue(),this.setState(this.getInitialState())},_handleSubmit:function(e){var t={stream:this.props.stream,type:e.type,config:e.configuration,order:this.props.nextOrder};S.create(t),this.setState({typeName:this.PLACEHOLDER})},_openModal:function(){this.refs.configurationForm.open()},_onTypeChange:function(e){this.setState({typeName:e}),this.state.types[e]?this.setState({typeDefinition:this.state.types[e]}):this.setState({typeDefinition:{}})},render:function(){if(!this.state.types)return n.default.createElement(h.Spinner,null);var e=l.default.map(this.state.types,this._formatDecoratorType),t=this.state.typeName!==this.PLACEHOLDER?n.default.createElement(f.ConfigurationForm,{ref:"configurationForm",key:"configuration-form-output",configFields:this.state.typeDefinition.requested_configuration,title:"Create new "+this.state.typeDefinition.name,typeName:this.state.typeName,includeTitleField:!1,submitAction:this._handleSubmit,cancelAction:this._handleCancel}):null;return n.default.createElement("div",{className:v.default.decoratorBox+" "+v.default.addDecoratorButtonContainer},n.default.createElement("div",{className:v.default.addDecoratorSelect},n.default.createElement(h.Select,{ref:"select",placeholder:"Select decorator",onValueChange:this._onTypeChange,options:e,matchProp:"label",disabled:this.props.disabled,value:this.state.typeName})),n.default.createElement(c.Button,{bsStyle:"success",disabled:!this.state.typeName||this.props.disabled,onClick:this._openModal},"Apply"),this.state.typeName&&t)}});exports.default=b,e.exports=exports.default},1270:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(988),s=i(r),o=n.default.createClass({displayName:"AddSearchCountToDashboard",propTypes:{searchInStream:a.PropTypes.object,permissions:a.PropTypes.array.isRequired,pullRight:a.PropTypes.bool},SEARCH_COUNT_WIDGET_TYPE:"SEARCH_RESULT_COUNT",STREAM_SEARCH_COUNT_WIDGET_TYPE:"STREAM_SEARCH_RESULT_COUNT",render:function(){return n.default.createElement(s.default,{title:"Add count to dashboard",pullRight:this.props.pullRight,widgetType:this.props.searchInStream?this.STREAM_SEARCH_COUNT_WIDGET_TYPE:this.SEARCH_COUNT_WIDGET_TYPE,permissions:this.props.permissions})}});exports.default=o,e.exports=exports.default},1271:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var i=t(2),a=function(e){return e&&e.__esModule?e:{default:e}}(i),n=t(1494),r=a.default.createClass({displayName:"ChangedMessageField",propTypes:{fieldName:a.default.PropTypes.string.isRequired,originalValue:a.default.PropTypes.string,newValue:a.default.PropTypes.string},getDefaultProps:function(){return{originalField:void 0,newField:void 0}},render:function(){return a.default.createElement("span",null,a.default.createElement("dt",null,this.props.fieldName),a.default.createElement("dd",{className:n["field-value"]},a.default.createElement("span",{className:n["removed-fields"]},this.props.originalValue),a.default.createElement("span",{className:n["added-fields"]},this.props.newValue)))}});exports.default=r,e.exports=exports.default},1272:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(1036),s=i(r),o=n.default.createClass({displayName:"DecoratedMessageFieldMarker",propTypes:{className:n.default.PropTypes.string},render:function(){var e=[s.default.decoratorMarker];return this.props.className&&e.push(this.props.className),n.default.createElement("small",{className:e.join(" ")},"(decorated)")}});exports.default=o,e.exports=exports.default},1273:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(43),s=t(966),o=t(1036),l=i(o),d=n.default.createClass({displayName:"DecoratedSidebarMessageField",propTypes:{field:n.default.PropTypes.object,onToggled:n.default.PropTypes.func,selected:n.default.PropTypes.bool},render:function(){var e=this,t=n.default.createElement("span",null,this.props.field.name);return n.default.createElement("li",null,n.default.createElement("div",{className:"pull-left"}),n.default.createElement("div",{className:"field-selector"},n.default.createElement(r.Input,{type:"checkbox",label:t,groupClassName:l.default.decoratorFieldWrapper,checked:this.props.selected,onChange:function(){return e.props.onToggled(e.props.field.name)}}),n.default.createElement(s.DecoratedMessageFieldMarker,{className:l.default.decoratorMarkerSidebar})))}});exports.default=d,e.exports=exports.default},1274:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(1),s=i(r),o=t(15),l=t(48),d=t(953),u=t(18),c=i(u),f=t(7),h=i(f),p=t(165),g=i(p),m=t(1036),_=i(m),y=c.default.getStore("Decorators"),v=c.default.getStore("CurrentUser"),x=h.default.getActions("Decorators"),S=n.default.createClass({displayName:"Decorator",propTypes:{decorator:n.default.PropTypes.object.isRequired,typeDefinition:n.default.PropTypes.object.isRequired},mixins:[s.default.connect(y),s.default.connect(v),g.default],componentDidMount:function(){x.available()},_handleDeleteClick:function(){window.confirm("Do you really want to delete this decorator?")&&x.remove(this.props.decorator.id)},_handleEditClick:function(){this.refs.editForm.open()},_handleSubmit:function(e){x.update(this.props.decorator.id,{type:e.type,config:e.configuration,order:this.props.decorator.order,stream:this.props.decorator.stream})},_decoratorTypeNotPresent:function(){return{name:"Unknown decorator type"}},_resolveConfigurationIds:function(e){var t=this.props.typeDefinition.requested_configuration,i={};return Object.keys(e).forEach(function(a){var n=t[a]?t[a].additional_info.values:void 0,r=e[a];n&&n[r]&&(i[a]=n[r])}),Object.assign({},e,i)},_formatActionsMenu:function(){var e=this.state.currentUser.permissions,t=this.props.decorator,i=this.isPermitted(e,"decorators:edit:"+t.stream);return n.default.createElement(o.DropdownButton,{id:"decorator-"+t.id+"-actions",bsStyle:"default",bsSize:"xsmall",title:"Actions",pullRight:!0},n.default.createElement(o.MenuItem,{onSelect:this._handleEditClick,disabled:!i},"Edit"),n.default.createElement(o.MenuItem,{divider:!0}),n.default.createElement(o.MenuItem,{onSelect:this._handleDeleteClick,disabled:!i},"Delete"))},render:function(){if(!this.state.types||!this.state.currentUser)return n.default.createElement(l.Spinner,null);var e=this.props.decorator,t=this._resolveConfigurationIds(e.config),i=this.state.types[e.type]||this._decoratorTypeNotPresent(),a=this._formatActionsMenu();return n.default.createElement("span",{className:_.default.fullWidth},n.default.createElement("div",{className:_.default.decoratorBox},n.default.createElement("h6",{className:_.default.decoratorType},i.name),a),n.default.createElement(d.ConfigurationWell,{key:"configuration-well-decorator-"+e.id,id:e.id,configuration:t,typeDefinition:this.props.typeDefinition}),n.default.createElement(d.ConfigurationForm,{ref:"editForm",key:"configuration-form-decorator",configFields:this.props.typeDefinition.requested_configuration,title:"Edit "+this.props.typeDefinition.name,typeName:e.type,includeTitleField:!1,submitAction:this._handleSubmit,cancelAction:this._handleCancel,values:e.config}))}});exports.default=S,e.exports=exports.default},1275:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(15),s=t(48),o=t(1036),l=i(o),d=n.default.createClass({displayName:"DecoratorList",propTypes:{decorators:n.default.PropTypes.arrayOf(n.default.PropTypes.object).isRequired,disableDragging:n.default.PropTypes.bool,onReorder:n.default.PropTypes.func},_onReorderWrapper:function(){if(this.props.onReorder){var e;(e=this.props).onReorder.apply(e,arguments)}},render:function(){return this.props.decorators&&0!==this.props.decorators.length?n.default.createElement(s.SortableList,{items:this.props.decorators,onMoveItem:this._onReorderWrapper,disableDragging:this.props.disableDragging}):n.default.createElement(r.Alert,{bsStyle:"info",className:l.default.noDecoratorsAlert},n.default.createElement("i",{className:"fa fa-info-circle"})," No decorators configured.")}});exports.default=d,e.exports=exports.default},1276:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(35),s=i(r),o=t(1),l=i(o),d=t(15),u=t(48),c=t(966),f=t(957),h=i(f),p=t(952),g=i(p),m=t(165),_=i(m),y=t(18),v=i(y),x=t(7),S=i(x),b=t(1036),w=i(b),T=v.default.getStore("Decorators"),E=v.default.getStore("CurrentUser"),P=S.default.getActions("Decorators"),A=n.default.createClass({displayName:"DecoratorSidebar",propTypes:{stream:n.default.PropTypes.string,maximumHeight:n.default.PropTypes.number},mixins:[l.default.connect(T),l.default.connect(E),_.default],getInitialState:function(){return{maxDecoratorsHeight:1e3}},componentDidMount:function(){this._updateHeight(),window.addEventListener("scroll",this._updateHeight)},componentDidUpdate:function(e){this.props.maximumHeight!==e.maximumHeight&&this._updateHeight()},componentWillUnmount:function(){window.removeEventListener("scroll",this._updateHeight)},MINIMUM_DECORATORS_HEIGHT:50,_updateHeight:function(){var e=s.default.findDOMNode(this.refs.decoratorsContainer),t=this.props.maximumHeight-e.getBoundingClientRect().top;this.setState({maxDecoratorsHeight:Math.max(t,this.MINIMUM_DECORATORS_HEIGHT)})},_formatDecorator:function(e){var t=this.state.types[e.type]||{requested_configuration:{},name:"Unknown type: "+e.type};return{id:e.id,title:n.default.createElement(c.Decorator,{key:"decorator-"+e.id,decorator:e,typeDefinition:t})}},_updateOrder:function(e){var t=this;e.forEach(function(e,i){var a=t.state.decorators.find(function(t){return t.id===e.id});a.order=i,P.update(a.id,a)})},render:function(){var e=this;if(!this.state.decorators)return n.default.createElement(u.Spinner,null);var t=this.state.decorators.filter(function(t){return e.props.stream?t.stream===e.props.stream:!t.stream}).sort(function(e,t){return e.order-t.order}),i=t.length>0?t[t.length-1].order+1:0,a=t.map(this._formatDecorator),r=n.default.createElement(d.Popover,{id:"decorators-help",className:w.default.helpPopover},n.default.createElement("p",{className:"description"},"Decorators can modify messages shown in the search results on the fly. These changes are not stored, but only shown in the search results. Decorator config is stored ",n.default.createElement("strong",null,"per stream"),"."),n.default.createElement("p",{className:"description"},"Use drag and drop to modify the order in which decorators are processed."),n.default.createElement("p",null,"Read more about message decorators in the ",n.default.createElement(h.default,{page:g.default.PAGES.DECORATORS,text:"documentation"}),".")),s=this.isPermitted(this.state.currentUser.permissions,"decorators:edit:"+this.props.stream);return n.default.createElement("div",null,n.default.createElement(c.AddDecoratorButton,{stream:this.props.stream,nextOrder:i,disabled:!s}),n.default.createElement("div",{className:w.default.helpLinkContainer},n.default.createElement(d.OverlayTrigger,{trigger:"click",rootClose:!0,placement:"right",overlay:r},n.default.createElement(d.Button,{bsStyle:"link",className:w.default.helpLink},"What are message decorators?"))),n.default.createElement("div",{ref:"decoratorsContainer",className:w.default.decoratorListContainer,style:{maxHeight:this.state.maxDecoratorsHeight}},n.default.createElement(c.DecoratorList,{decorators:a,onReorder:this._updateOrder,disableDragging:!s})))}});exports.default=A,e.exports=exports.default},1277:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(35),s=i(r),o=t(43),l=t(966),d=n.default.createClass({displayName:"FieldAnalyzersSidebar",propTypes:{fields:n.default.PropTypes.array,fieldAnalyzers:n.default.PropTypes.array,onFieldAnalyzer:n.default.PropTypes.func,onFieldToggled:n.default.PropTypes.func,maximumHeight:n.default.PropTypes.number,predefinedFieldSelection:n.default.PropTypes.func,result:n.default.PropTypes.object,selectedFields:n.default.PropTypes.object,shouldHighlight:n.default.PropTypes.bool,showAllFields:n.default.PropTypes.bool,showHighlightToggle:n.default.PropTypes.bool,togglePageFields:n.default.PropTypes.func,toggleShouldHighlight:n.default.PropTypes.func},getInitialState:function(){return{fieldFilter:"",maxFieldsHeight:1e3}},componentDidMount:function(){this._updateHeight(),window.addEventListener("scroll",this._updateHeight)},componentDidUpdate:function(e){this.props.showAllFields===e.showAllFields&&this.props.maximumHeight===e.maximumHeight||this._updateHeight()},componentWillUnmount:function(){window.removeEventListener("scroll",this._updateHeight)},MINIMUM_FIELDS_HEIGHT:50,_updateHeight:function(){var e=s.default.findDOMNode(this.refs.fields),t=s.default.findDOMNode(this.refs.footer),i=window.getComputedStyle(t),a=parseFloat(i.getPropertyValue("margin-top")),n=0;if(this.refs.highlightToggle){var r=s.default.findDOMNode(this.refs.highlightToggle),o=window.getComputedStyle(r);n=parseFloat(o.getPropertyValue("margin-top"))+parseFloat(o.getPropertyValue("margin-bottom"))}var l=this.props.maximumHeight-e.getBoundingClientRect().top-a-t.offsetHeight-n;this.setState({maxFieldsHeight:Math.max(l,this.MINIMUM_FIELDS_HEIGHT)})},_filterFields:function(e){this.setState({fieldFilter:e.target.value})},_showAllFields:function(e){e.preventDefault(),this.props.showAllFields||this.props.togglePageFields()},_showPageFields:function(e){e.preventDefault(),this.props.showAllFields&&this.props.togglePageFields()},_updateFieldSelection:function(e){this.props.predefinedFieldSelection(e)},_updateFieldSelectionToDefault:function(){this._updateFieldSelection("default")},_updateFieldSelectionToAll:function(){this._updateFieldSelection("all")},_updateFieldSelectionToNone:function(){this._updateFieldSelection("none")},render:function(){var e=this,t=this.props.result.decoration_stats,i=t?[].concat(t.added_fields||[],t.changed_fields||[]):[],a=this.props.fields.filter(function(t){return-1!==t.name.indexOf(e.state.fieldFilter)}).sort(function(e,t){return e.name.localeCompare(t.name)}).map(function(t){return i.includes(t.name)?n.default.createElement(l.DecoratedSidebarMessageField,{key:t.name,field:t,onToggled:e.props.onFieldToggled,selected:e.props.selectedFields.contains(t.name)}):n.default.createElement(l.SidebarMessageField,{key:t.name,field:t,fieldAnalyzers:e.props.fieldAnalyzers,onToggled:e.props.onFieldToggled,onFieldAnalyzer:e.props.onFieldAnalyzer,selected:e.props.selectedFields.contains(t.name)})}),r=void 0;return this.props.showHighlightToggle&&(r=n.default.createElement(o.Input,{ref:"highlightToggle",type:"checkbox",bsSize:"small",checked:this.props.shouldHighlight,onChange:this.props.toggleShouldHighlight,label:"Highlight results",groupClassName:"result-highlight-control"})),n.default.createElement("div",null,n.default.createElement("div",{ref:"fieldsFilter",className:"input-group input-group-sm",style:{marginTop:5,marginBottom:5}},n.default.createElement("span",{className:"input-group-btn"},n.default.createElement("button",{type:"button",className:"btn btn-default",onClick:this._updateFieldSelectionToDefault},"Default"),n.default.createElement("button",{type:"button",className:"btn btn-default",onClick:this._updateFieldSelectionToAll},"All"),n.default.createElement("button",{type:"button",className:"btn btn-default",onClick:this._updateFieldSelectionToNone},"None")),n.default.createElement("input",{type:"text",className:"form-control",placeholder:"Filter fields",onChange:this._filterFields,value:this.state.fieldFilter})),n.default.createElement("div",{ref:"fields",style:{maxHeight:this.state.maxFieldsHeight,overflowY:"scroll"}},n.default.createElement("ul",{className:"search-result-fields"},a)),n.default.createElement("div",{ref:"footer",style:{marginTop:13,marginBottom:0}},"List"," ",n.default.createElement("span",{className:"message-result-fields-range"}," fields of ",n.default.createElement("a",{href:"#",style:{fontWeight:this.props.showAllFields?"normal":"bold"},onClick:this._showPageFields},"current page")," or"," ",n.default.createElement("a",{href:"#",style:{fontWeight:this.props.showAllFields?"bold":"normal"},onClick:this._showAllFields},"all fields"),"."),n.default.createElement("br",null),r))}});exports.default=d,e.exports=exports.default},1278:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(35),s=i(r),o=t(988),l=i(o),d=t(18),u=i(d),c=t(268),f=i(c),h=t(1353),p=i(h),g=u.default.getStore("Search"),m=n.default.createClass({displayName:"LegacyHistogram",propTypes:{formattedHistogram:n.default.PropTypes.array.isRequired,histogram:n.default.PropTypes.object.isRequired,stream:n.default.PropTypes.object,permissions:n.default.PropTypes.arrayOf(n.default.PropTypes.string).isRequired},getInitialState:function(){return{}},componentDidMount:function(){this._renderHistogram(this.props.formattedHistogram),window.addEventListener("resize",this._onResize)},componentDidUpdate:function(e){JSON.stringify(this.props.formattedHistogram)!==JSON.stringify(e.formattedHistogram)&&this._updateHistogram(this.props.formattedHistogram,e.formattedHistogram)},componentWillUnmount:function(){window.removeEventListener("resize",this._onResize)},WIDGET_TYPE:"SEARCH_RESULT_CHART",RESOLUTIONS:["year","quarter","month","week","day","hour","minute"],eventThrottler:new f.default,_onResize:function(){this.eventThrottler.throttle(function(){return p.default.redrawResultGraph()})},_renderHistogram:function(e){p.default.resetContainerElements(s.default.findDOMNode(this)),p.default.setData(e,this.props.stream),p.default.drawResultGraph()},_updateHistogram:function(e){p.default.updateData(e)},_resolutionChanged:function(e){return function(t){t.preventDefault(),g.resolution=e}},_getFirstHistogramValue:function(){return"relative"===g.rangeType&&0===g.rangeParams.get("relative")?null:this.props.histogram.histogram_boundaries.from},render:function(){var e=this;void 0===g.resolution&&(g.resolution=this.props.histogram.interval);var t=this.RESOLUTIONS.map(function(t){var i="date-histogram-res-selector";e.props.histogram.interval===t&&(i+=" selected-resolution");var a=t===e.RESOLUTIONS[e.RESOLUTIONS.length-1]?"":",";return n.default.createElement("li",{key:t},n.default.createElement("a",{href:"#",className:i,"data-resolution":t,onClick:e._resolutionChanged(t)},t),a)}),i=n.default.createElement("ul",{className:"graph-resolution-selector list-inline"},n.default.createElement("li",null,n.default.createElement("i",{className:"fa fa-clock-o"})),t);return n.default.createElement("div",{className:"content-col"},n.default.createElement("div",{className:"pull-right"},n.default.createElement(l.default,{title:"Add to dashboard",widgetType:this.WIDGET_TYPE,configuration:{interval:this.props.histogram.interval},pullRight:!0,permissions:this.props.permissions,isStreamSearch:null!==this.props.stream})),n.default.createElement("h1",null,"Histogram"),i,n.default.createElement("div",{id:"result-graph-container"},n.default.createElement("div",{id:"y_axis"}),n.default.createElement("div",{id:"result-graph","data-from":this._getFirstHistogramValue(),"data-to":this.props.histogram.histogram_boundaries.to}),n.default.createElement("div",{id:"result-graph-timeline"})))}});exports.default=m,e.exports=exports.default},1279:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(15),s=t(960),o=t(952),l=i(o),d=n.default.createClass({displayName:"MalformedSearchQuery",propTypes:{error:n.default.PropTypes.object.isRequired},_isGenericError:function(e){return null===e.column||null===e.line},_getFormattedErrorDetails:function(e){return e.map(function(e){return n.default.createElement("li",null,n.default.createElement("code",null,e))})},_getFormattedErrorDescription:function(e){return n.default.createElement(r.Panel,{bsStyle:"danger"},n.default.createElement("dl",{style:{marginBottom:0}},n.default.createElement("dt",null,"Error Message:"),n.default.createElement("dd",null,e.message),n.default.createElement("dt",null,"Details:"),n.default.createElement("dd",null,this._getFormattedErrorDetails(e.details))))},render:function(){var e=this.props.error.body,t=void 0;return t=this._isGenericError(e)?n.default.createElement("div",null,n.default.createElement("p",null,"The given query was malformed, and executing it caused the following error:"),this._getFormattedErrorDescription(e)):n.default.createElement("div",null,this._getFormattedErrorDescription(e)),n.default.createElement("div",null,n.default.createElement(r.Row,{className:"content content-head"},n.default.createElement(r.Col,{md:12},n.default.createElement("h1",null,"Malformed search query"),n.default.createElement("p",{className:"description"},"The search query could not be executed, please correct it and try again."," ",n.default.createElement("strong",null,"Take a look at the"," ",n.default.createElement(s.DocumentationLink,{page:l.default.PAGES.SEARCH_QUERY_LANGUAGE,text:"documentation"})," ","if you need help with the search syntax.")))),n.default.createElement(r.Row,{className:"content"},n.default.createElement(r.Col,{md:12},t)),n.default.createElement(s.ContactUs,null))}});exports.default=d,e.exports=exports.default},1280:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var i=t(2),a=function(e){return e&&e.__esModule?e:{default:e}}(i),n=t(966),r=a.default.createClass({displayName:"MessageField",propTypes:{customFieldActions:a.default.PropTypes.node,disableFieldActions:a.default.PropTypes.bool,fieldName:a.default.PropTypes.string.isRequired,message:a.default.PropTypes.object.isRequired,possiblyHighlight:a.default.PropTypes.func.isRequired,value:a.default.PropTypes.any.isRequired},SPECIAL_FIELDS:["full_message","level"],_isAdded:function(e){var t=this.props.message.decoration_stats;return t&&t.added_fields&&void 0!==t.added_fields[e]},_isChanged:function(e){var t=this.props.message.decoration_stats;return t&&t.changed_fields&&void 0!==t.changed_fields[e]},_isDecorated:function(e){return this._isAdded(e)||this._isChanged(e)},render:function(){var e=this.props.value,t=this.props.fieldName;return-1!==this.SPECIAL_FIELDS.indexOf(t)&&(e=this.props.message.fields[t]),a.default.createElement("span",null,a.default.createElement("dt",{key:t+"Title"},t),a.default.createElement(n.MessageFieldDescription,{key:t+"Description",message:this.props.message,fieldName:t,fieldValue:e,possiblyHighlight:this.props.possiblyHighlight,disableFieldActions:this._isAdded(t)||this.props.disableFieldActions,customFieldActions:this.props.customFieldActions,isDecorated:this._isDecorated(t)}))}});exports.default=r,e.exports=exports.default},1281:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(15),s=t(55),o=i(s),l=t(18),d=i(l),u=t(7),c=i(u),f=t(1199),h=i(f),p=t(966),g=d.default.getStore("Search"),m=(d.default.getStore("Messages"),c.default.getActions("Messages")),_=n.default.createClass({displayName:"MessageFieldDescription",propTypes:{message:a.PropTypes.object.isRequired,fieldName:a.PropTypes.string.isRequired,fieldValue:a.PropTypes.any.isRequired,possiblyHighlight:a.PropTypes.func.isRequired,disableFieldActions:a.PropTypes.bool,customFieldActions:a.PropTypes.node,isDecorated:a.PropTypes.bool},getInitialState:function(){return{messageTerms:o.default.List()}},loadTerms:function(e){var t=this;return function(){m.fieldTerms.triggerPromise(t.props.message.index,t.props.message.fields[e]).then(function(e){return t._onTermsLoaded(e)})}},_onTermsLoaded:function(e){this.setState({messageTerms:o.default.fromJS(e)})},_shouldShowTerms:function(){return 0!==this.state.messageTerms.size},addFieldToSearchBar:function(e){e.preventDefault(),g.addSearchTerm(this.props.fieldName,this.props.fieldValue)},_getFormattedTerms:function(){var e=[];return this.state.messageTerms.forEach(function(t,i){e.push(n.default.createElement("span",{key:i,className:"message-terms"},t))}),e},_getFormattedFieldActions:function(){if(this.props.disableFieldActions)return null;return this.props.customFieldActions?n.default.cloneElement(this.props.customFieldActions,{fieldName:this.props.fieldName,message:this.props.message}):n.default.createElement(h.default,{fieldName:this.props.fieldName,message:this.props.message,onAddFieldToSearchBar:this.addFieldToSearchBar,onLoadTerms:this.loadTerms})},render:function(){var e=this,t="message"===this.props.fieldName||"full_message"===this.props.fieldName?"message-field":"";return n.default.createElement("dd",{className:t,key:this.props.fieldName+"dd"},this._getFormattedFieldActions(),n.default.createElement("div",{className:"field-value"},this.props.possiblyHighlight(this.props.fieldName)),this._shouldShowTerms()&&n.default.createElement(r.Alert,{bsStyle:"info",onDismiss:function(){return e.setState({messageTerms:o.default.Map()})}},"Field terms:  ",this._getFormattedTerms()),this.props.isDecorated&&n.default.createElement(p.DecoratedMessageFieldMarker,null))}});exports.default=_,e.exports=exports.default},1282:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(1172),s=i(r),o=t(55),l=i(o),d=t(48),u=t(87),c=i(u),f=n.default.createClass({displayName:"MessageTableEntry",shouldComponentUpdate:function(e){return this.props.highlight!==e.highlight||(!l.default.is(this.props.selectedFields,e.selectedFields)||(this.props.expanded!==e.expanded||(this.props.expandAllRenderAsync!==e.expandAllRenderAsync||(this.props.allStreamsLoaded!==e.allStreamsLoaded||this.props.showMessageRow!==e.showMessageRow))))},possiblyHighlight:function(e,t){var i=this.props.message.fields[e];if(void 0===i)return"";var a=c.default.stringify(i),r=t?a.slice(0,2048):a;if(this.props.highlight&&this.props.message.highlight_ranges){if(this.props.message.highlight_ranges.hasOwnProperty(e)){var s=[],o=l.default.fromJS(this.props.message.highlight_ranges[e]).sortBy(function(e){return e.get("start")}),d=0,u=0;return o.forEach(function(e,t){if(d!==e.get("start")&&s.push(n.default.createElement("span",{key:u++},r.substring(d,e.get("start")))),s.push(n.default.createElement("span",{key:u++,className:"result-highlight-colored"},r.substring(e.get("start"),e.get("start")+e.get("length")))),t+1<o.size){var i=o.get(t+1);s.push(n.default.createElement("span",{key:u++},r.substring(e.get("start")+e.get("length"),i.get("start")))),d=i.get("start")}else s.push(n.default.createElement("span",{key:u++},r.substring(e.get("start")+e.get("length")))),d=e.get("start")+e.get("length")}),n.default.createElement("span",null,s)}return String(r)}return String(r)},_toggleDetail:function(){this.props.toggleDetail(this.props.message.index+"-"+this.props.message.id)},render:function(){var e=this,t=this.props.selectedFields.size+1,i="message-group";return this.props.expanded&&(i+=" message-group-toggled"),this.props.message.id===this.props.highlightMessage&&(i+=" message-highlight"),n.default.createElement("tbody",{className:i},n.default.createElement("tr",{className:"fields-row",onClick:this._toggleDetail},n.default.createElement("td",null,n.default.createElement("strong",null,n.default.createElement(d.Timestamp,{dateTime:this.props.message.fields.timestamp}))),this.props.selectedFields.toSeq().map(function(t){return n.default.createElement("td",{key:t},e.possiblyHighlight(t,!0))})),this.props.showMessageRow&&n.default.createElement("tr",{className:"message-row",onClick:this._toggleDetail},n.default.createElement("td",{colSpan:t},n.default.createElement("div",{className:"message-wrapper"},this.possiblyHighlight("message",!0)))),this.props.expanded&&n.default.createElement("tr",{className:"message-detail-row",style:{display:"table-row"}},n.default.createElement("td",{colSpan:t},n.default.createElement(s.default,{message:this.props.message,inputs:this.props.inputs,streams:this.props.streams,allStreams:this.props.allStreams,allStreamsLoaded:this.props.allStreamsLoaded,nodes:this.props.nodes,possiblyHighlight:this.possiblyHighlight,expandAllRenderAsync:this.props.expandAllRenderAsync,searchConfig:this.props.searchConfig}))))}});exports.default=f,e.exports=exports.default},1283:function(e,exports,t){"use strict";(function(i){function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(2),r=a(n),s=t(35),o=a(s),l=t(48),d=t(268),u=a(d),c=t(18),f=a(c),h=t(12),p=a(h),g=f.default.getStore("Search"),m=f.default.getStore("UniversalSearch");i.jQuery=p.default,t(1416);var _=r.default.createClass({displayName:"MessageTablePaginator",propTypes:{resultCount:n.PropTypes.number.isRequired,currentPage:n.PropTypes.number.isRequired,children:n.PropTypes.oneOfType([n.PropTypes.arrayOf(n.PropTypes.element),n.PropTypes.element]),position:n.PropTypes.string},getInitialState:function(){return{paginationWidth:0}},componentDidMount:function(){this._setPaginationWidth(),this._initializeAffix(),window.addEventListener("resize",this._setPaginationWidth)},componentWillUnmount:function(){window.removeEventListener("resize",this._setPaginationWidth)},eventsThrottler:new u.default,_initializeAffix:function(){"bottom"===this.props.position&&(0,p.default)(o.default.findDOMNode(this.refs.paginatorAffix)).affix({offset:{top:500,bottom:10}})},_setPaginationWidth:function(){var e=this;"bottom"===this.props.position&&this.eventsThrottler.throttle(function(){e.setState({paginationWidth:o.default.findDOMNode(e.refs.paginatorContainer).clientWidth})})},_numberOfPages:function(){return Math.ceil(this.props.resultCount/m.DEFAULT_LIMIT)},_minPage:function(){var e=10*Math.floor(this.props.currentPage/10);return Math.max(1,e)},_maxPage:function(){if(this.props.currentPage>this._numberOfPages())return this.props.currentPage;var e=10*Math.ceil((this.props.currentPage+1)/10);return Math.min(this._numberOfPages(),e)},_onPageChanged:function(e){var t=void 0;t="Previous"===e?this.props.currentPage-1:"Next"===e?this.props.currentPage+1:Number(e),g.page=t},render:function(){var e=[];e.push(r.default.createElement(l.Page,{key:"previous",href:"#",page:"Previous",isDisabled:1===this.props.currentPage,onPageChanged:this._onPageChanged}));for(var t=this._minPage();t<=this._maxPage();t++)e.push(r.default.createElement(l.Page,{key:"page"+t,href:"#",page:t,isActive:t===this.props.currentPage,onPageChanged:this._onPageChanged}));e.push(r.default.createElement(l.Page,{key:"next",href:"#",page:"Next",isDisabled:this.props.currentPage>=this._maxPage(),onPageChanged:this._onPageChanged}));var i=r.default.createElement("ul",{className:"pagination"},e),a=void 0;return a="bottom"===this.props.position?r.default.createElement("div",{ref:"paginatorAffix"},this.props.children,r.default.createElement("nav",{className:"text-center",style:{width:this.state.paginationWidth+20}},i)):r.default.createElement("nav",{className:"text-center"},i),r.default.createElement("div",{ref:"paginatorContainer",id:"message-table-paginator-"+this.props.position},a)}});exports.default=_,e.exports=exports.default}).call(exports,t(30))},1284:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(15),s=t(966),o=t(988),l=i(o),d=t(960),u=t(952),c=i(u),f=t(18),h=i(f),p=h.default.getStore("Search"),g=n.default.createClass({displayName:"NoSearchResults",propTypes:{builtQuery:n.default.PropTypes.string,histogram:n.default.PropTypes.object.isRequired,permissions:n.default.PropTypes.array.isRequired,searchInStream:n.default.PropTypes.object},componentDidMount:function(){this.style.use()},componentWillUnmount:function(){this.style.unuse()},style:t(1501),_showQueryModal:function(e){e.preventDefault(),this.refs.showQueryModal.open()},render:function(){var e=null;return this.props.searchInStream&&(e=n.default.createElement("span",null,"in stream ",n.default.createElement("em",null,this.props.searchInStream.title))),n.default.createElement("div",null,n.default.createElement(r.Row,{className:"content content-head"},n.default.createElement(r.Col,{md:12},n.default.createElement("h1",null,"Nothing found ",e),n.default.createElement("p",{className:"description"},"Your search returned no results, try changing the used time range or the search query."," ","Do you want more details? ",n.default.createElement("a",{href:"#",onClick:this._showQueryModal},"Show the Elasticsearch query"),".",n.default.createElement(s.ShowQueryModal,{key:"debugQuery",ref:"showQueryModal",builtQuery:this.props.builtQuery}),n.default.createElement("br",null),n.default.createElement("strong",null,"Take a look at the"," ",n.default.createElement(d.DocumentationLink,{page:c.default.PAGES.SEARCH_QUERY_LANGUAGE,text:"documentation"})," ","if you need help with the search syntax or the time range selector.")))),n.default.createElement(r.Row,{className:"content search-actions"},n.default.createElement(r.Col,{md:12},n.default.createElement(r.Row,{className:"row-sm"},n.default.createElement(r.Col,{md:4},n.default.createElement("h2",null,"Search Actions")),n.default.createElement(r.Col,{md:8},n.default.createElement("div",{className:"actions"},n.default.createElement(s.AddSearchCountToDashboard,{searchInStream:this.props.searchInStream,permissions:this.props.permissions,pullRight:!0}),n.default.createElement(l.default,{title:"Add histogram to dashboard",widgetType:"SEARCH_RESULT_CHART",configuration:{interval:this.props.histogram.interval},pullRight:!0,permissions:this.props.permissions}),n.default.createElement(s.SavedSearchControls,{currentSavedSearch:p.savedSearch,pullRight:!0})))),n.default.createElement("p",null,"In case you expect this search to return results in the future, you can add search widgets to dashboards, and manage your saved searches from here."))),n.default.createElement(d.ContactUs,null))}});exports.default=g,e.exports=exports.default},1285:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(1),s=i(r),o=t(34),l=i(o),d=t(15),u=t(48),c=t(18),f=i(c),h=t(7),p=i(h),g=f.default.getStore("Refresh"),m=p.default.getActions("Refresh"),_=n.default.createClass({displayName:"RefreshControls",mixins:[s.default.connect(g,"refresh")],INTERVAL_OPTIONS:{"1 Second":1,"2 Seconds":2,"5 Seconds":5,"10 Seconds":10,"30 Seconds":30,"1 Minute":60,"5 Minutes":300},_changeInterval:function(e){m.changeInterval(e),m.enable()},render:function(){var e=this,t=Object.keys(this.INTERVAL_OPTIONS).map(function(t){var i=1e3*e.INTERVAL_OPTIONS[t];return n.default.createElement(d.MenuItem,{key:"RefreshControls-"+t,onClick:function(){return e._changeInterval(i)}},t)}),i=l.default.duration(this.state.refresh.interval),a=i.asSeconds()<60?n.default.createElement("span",null,i.asSeconds()," ",n.default.createElement(u.Pluralize,{singular:"second",plural:"seconds",value:i.asSeconds()})):n.default.createElement("span",null,i.asMinutes()," ",n.default.createElement(u.Pluralize,{singular:"minute",plural:"minutes",value:i.asMinutes()})),r=n.default.createElement("span",null,"Update every ",a);return n.default.createElement(d.ButtonGroup,null,n.default.createElement(d.Button,{bsSize:"small",onClick:function(){return e.state.refresh.enabled?m.disable():m.enable()}},this.state.refresh.enabled?n.default.createElement("i",{className:"fa fa-pause"}):n.default.createElement("i",{className:"fa fa-play"})),n.default.createElement(d.DropdownButton,{bsSize:"small",title:this.state.refresh.enabled?r:"Not updating",id:"refresh-options-dropdown"},t))}});exports.default=_,e.exports=exports.default},1286:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(15),s=t(55),o=i(s),l=t(18),d=i(l),u=t(7),c=i(u),f=t(966),h=d.default.getStore("Streams"),p=d.default.getStore("Search"),g=c.default.getActions("Refresh"),m=n.default.createClass({displayName:"ResultTable",propTypes:{highlight:n.default.PropTypes.bool.isRequired,inputs:n.default.PropTypes.object.isRequired,messages:n.default.PropTypes.array.isRequired,nodes:n.default.PropTypes.object.isRequired,page:n.default.PropTypes.number.isRequired,resultCount:n.default.PropTypes.number.isRequired,selectedFields:n.default.PropTypes.object.isRequired,sortField:n.default.PropTypes.string.isRequired,sortOrder:n.default.PropTypes.string.isRequired,streams:n.default.PropTypes.object.isRequired,searchConfig:n.default.PropTypes.object.isRequired},getInitialState:function(){return{expandedMessages:o.default.Set(),allStreamsLoaded:!1,allStreams:o.default.List(),expandAllRenderAsync:!1}},componentDidMount:function(){var e=this;if(!this.state.allStreamsLoaded){h.listStreams().done(function(t){return e._onStreamsLoaded(t)})}},componentDidUpdate:function(){var e=this;this.state.expandAllRenderAsync&&setTimeout(function(){return e.setState({expandAllRenderAsync:!1})},this.EXPAND_ALL_RENDER_ASYNC_DELAY)},EXPAND_ALL_RENDER_ASYNC_DELAY:10,_onStreamsLoaded:function(e){this.setState({allStreamsLoaded:!0,allStreams:o.default.List(e).sortBy(function(e){return e.title})})},_toggleMessageDetail:function(e){var t=void 0;this.state.expandedMessages.contains(e)?t=this.state.expandedMessages.delete(e):(t=this.state.expandedMessages.add(e),g.disable()),this.setState({expandedMessages:t})},_fieldColumns:function(){return this.props.selectedFields.delete("message")},_columnStyle:function(e){return"source"===e.toLowerCase()&&this._fieldColumns().size>1?{width:180}:{}},expandAll:function(){var e=(this.props.messages.length-this.state.expandedMessages.size)/100,t=e>.3,i=o.default.Set(this.props.messages.map(function(e){return e.index+"-"+e.id}));this.setState({expandedMessages:i,expandAllRenderAsync:t})},collapseAll:function(){this.setState({expandedMessages:o.default.Set()})},_handleSort:function(e,t,i){e.preventDefault(),p.sort(t,i)},_sortIcons:function(e){var t=this,i=null,a="fa fa-sort-amount-asc sort-order-item",r="fa fa-sort-amount-asc fa-flip-vertical sort-order-desc sort-order-item";return i=0===this.props.sortField.toLowerCase().localeCompare(e.toLowerCase())?0===this.props.sortOrder.toLowerCase().localeCompare("desc")?n.default.createElement("span",null,n.default.createElement("i",{className:r+" sort-order-active"}),n.default.createElement("a",{href:"#",onClick:function(i){return t._handleSort(i,e,"asc")}},n.default.createElement("i",{className:a}))):n.default.createElement("span",null,n.default.createElement("i",{className:a+" sort-order-active"}),n.default.createElement("a",{href:"#",onClick:function(i){return t._handleSort(i,e,"desc")}},n.default.createElement("i",{className:r}))):n.default.createElement("span",{className:"sort-order"},n.default.createElement("a",{href:"#",onClick:function(i){return t._handleSort(i,e,"asc")}},n.default.createElement("i",{className:a})),n.default.createElement("a",{href:"#",onClick:function(i){return t._handleSort(i,e,"desc")}},n.default.createElement("i",{className:r}))),n.default.createElement("span",null,i)},render:function(){var e=this,t=this._fieldColumns();return n.default.createElement("div",{className:"content-col"},n.default.createElement("h1",{className:"pull-left"},"Messages"),n.default.createElement(r.ButtonGroup,{bsSize:"small",className:"pull-right"},n.default.createElement(r.Button,{title:"Expand all messages",onClick:this.expandAll},n.default.createElement("i",{className:"fa fa-expand"})),n.default.createElement(r.Button,{title:"Collapse all messages",onClick:this.collapseAll,disabled:0===this.state.expandedMessages.size},n.default.createElement("i",{className:"fa fa-compress"}))),n.default.createElement(f.MessageTablePaginator,{position:"top",currentPage:Number(this.props.page),resultCount:this.props.resultCount}),n.default.createElement("div",{className:"search-results-table"},n.default.createElement("div",{className:"table-responsive"},n.default.createElement("div",{className:"messages-container"},n.default.createElement("table",{className:"table table-condensed messages"},n.default.createElement("thead",null,n.default.createElement("tr",null,n.default.createElement("th",{style:{width:180}},"Timestamp ",this._sortIcons("timestamp")),t.toSeq().map(function(t){return n.default.createElement("th",{key:t,style:e._columnStyle(t)},t," ",e._sortIcons(t))}))),this.props.messages.map(function(i){return n.default.createElement(f.MessageTableEntry,{key:i.index+"-"+i.id,message:i,showMessageRow:e.props.selectedFields.contains("message"),selectedFields:t,expanded:e.state.expandedMessages.contains(i.index+"-"+i.id),toggleDetail:e._toggleMessageDetail,inputs:e.props.inputs,streams:e.props.streams,allStreams:e.state.allStreams,allStreamsLoaded:e.state.allStreamsLoaded,nodes:e.props.nodes,highlight:e.props.highlight,highlightMessage:p.highlightMessage,expandAllRenderAsync:e.state.expandAllRenderAsync,searchConfig:e.props.searchConfig})}))))),n.default.createElement(f.MessageTablePaginator,{position:"bottom",currentPage:Number(this.props.page),resultCount:this.props.resultCount},n.default.createElement(r.ButtonGroup,{bsSize:"small",className:"pull-right",style:{position:"absolute",marginTop:20,right:10}},n.default.createElement(r.Button,{title:"Expand all messages",onClick:this.expandAll},n.default.createElement("i",{className:"fa fa-expand"})),n.default.createElement(r.Button,{title:"Collapse all messages",onClick:this.collapseAll,disabled:0===this.state.expandedMessages.size},n.default.createElement("i",{className:"fa fa-compress"})))))}});exports.default=m,e.exports=exports.default},1287:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(1),s=i(r),o=t(15),l=t(43),d=t(18),u=i(d),c=t(7),f=i(c),h=u.default.getStore("SavedSearches"),p=f.default.getActions("SavedSearches"),g=n.default.createClass({displayName:"SavedSearchControls",propTypes:{currentSavedSearch:n.default.PropTypes.string,pullRight:n.default.PropTypes.bool},mixins:[s.default.listenTo(h,"_updateTitle")],getInitialState:function(){return{title:"",error:!1}},componentDidMount:function(){this._updateTitle()},componentDidUpdate:function(e){e.currentSavedSearch!==this.props.currentSavedSearch&&this._updateTitle()},_isSearchSaved:function(){return void 0!==this.props.currentSavedSearch},_updateTitle:function(){if(!this._isSearchSaved())return void(""!==this.state.title&&this.setState({title:"",error:!1}));var e=h.getSavedSearch(this.props.currentSavedSearch);void 0!==e&&this.setState({title:e.title,error:!1})},_openModal:function(){this.refs.saveSearchModal.open()},_hide:function(){this.refs.saveSearchModal.close()},_save:function(){var e=this;if(!this.state.error){var t=void 0;t=this._isSearchSaved()?p.update.triggerPromise(this.props.currentSavedSearch,this.refs.title.getValue()):p.create.triggerPromise(this.refs.title.getValue()),t.then(function(){return e._hide()})}},_deleteSavedSearch:function(e,t){t.preventDefault(),window.confirm("Do you really want to delete this saved search?")&&p.delete(this.props.currentSavedSearch)},_titleChanged:function(){this.setState({error:!h.isValidTitle(this.props.currentSavedSearch,this.refs.title.getValue())})},_getNewSavedSearchButtons:function(){return n.default.createElement(o.Button,{bsStyle:"success",bsSize:"small",onClick:this._openModal},"Save search criteria")},_getEditSavedSearchControls:function(){return n.default.createElement(o.DropdownButton,{bsSize:"small",title:"Saved search",id:"saved-search-actions-dropdown",pullRight:this.props.pullRight},n.default.createElement(o.MenuItem,{onSelect:this._openModal},"Update search criteria"),n.default.createElement(o.MenuItem,{divider:!0}),n.default.createElement(o.MenuItem,{onSelect:this._deleteSavedSearch},"Delete saved search"))},render:function(){return n.default.createElement("div",{style:{display:"inline-block"}},this._isSearchSaved()?this._getEditSavedSearchControls():this._getNewSavedSearchButtons(),n.default.createElement(l.BootstrapModalForm,{ref:"saveSearchModal",title:this._isSearchSaved()?"Update saved search":"Save search criteria",onSubmitForm:this._save,submitButtonText:"Save"},n.default.createElement(l.Input,{type:"text",label:"Title",ref:"title",required:!0,defaultValue:this.state.title,onChange:this._titleChanged,bsStyle:this.state.error?"error":null,help:this.state.error?"Title was already taken.":"Type a name describing the current search.",autoFocus:!0})))}});exports.default=g,e.exports=exports.default},1288:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var i=t(2),a=function(e){return e&&e.__esModule?e:{default:e}}(i),n=t(15),r=t(960),s=a.default.createClass({displayName:"SearchExecutionError",propTypes:{error:a.default.PropTypes.object.isRequired},_getFormattedErrorDetails:function(e){return e.map(function(e){return a.default.createElement("li",null,a.default.createElement("code",null,e))})},render:function(){var e=this.props.error;return a.default.createElement("div",null,a.default.createElement(n.Row,{className:"content content-head"},a.default.createElement(n.Col,{md:12},a.default.createElement("h1",null,"Could not execute search"),a.default.createElement("div",null,a.default.createElement("p",null,"There was an error executing your search. Please check your Graylog server logs for more information."),a.default.createElement(n.Panel,{bsStyle:"danger"},a.default.createElement("dl",{style:{marginBottom:0}},a.default.createElement("dt",null,"Error Message:"),a.default.createElement("dd",null,e.body.message?e.body.message:""),a.default.createElement("dt",null,"Details:"),a.default.createElement("dd",null,e.body.message?this._getFormattedErrorDetails(e.body.details):""),a.default.createElement("dt",null,"Search status code:"),a.default.createElement("dd",null,e.status),a.default.createElement("dt",null,"Search response:"),a.default.createElement("dd",null,e.message)))))),a.default.createElement(r.ContactUs,null))}});exports.default=s,e.exports=exports.default},1289:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(55),s=i(r),o=t(15),l=t(48),d=t(966),u=t(18),c=i(u),f=t(258);t(1248);var h=c.default.getStore("Search"),p=n.default.createClass({displayName:"SearchResult",propTypes:{query:n.default.PropTypes.string,builtQuery:n.default.PropTypes.string,result:n.default.PropTypes.object.isRequired,histogram:n.default.PropTypes.object.isRequired,formattedHistogram:n.default.PropTypes.array,searchInStream:n.default.PropTypes.object,streams:n.default.PropTypes.instanceOf(s.default.Map),inputs:n.default.PropTypes.instanceOf(s.default.Map),nodes:n.default.PropTypes.instanceOf(s.default.Map),permissions:n.default.PropTypes.array.isRequired,searchConfig:n.default.PropTypes.object.isRequired,loadingSearch:n.default.PropTypes.bool,forceFetch:n.default.PropTypes.bool},getDefaultProps:function(){return{query:"*",builtQuery:"",formattedHistogram:[],searchInStream:null,streams:s.default.Map({}),inputs:s.default.Map({}),nodes:s.default.Map({})}},getInitialState:function(){return{selectedFields:this.sortFields(h.fields),showAllFields:!1,shouldHighlight:!0,savedSearch:h.savedSearch}},componentDidUpdate:function(){this._resetSelectedFields()},onFieldToggled:function(e){var t=this.state.selectedFields,i=void 0;i=t.contains(e)?t.delete(e):t.add(e),this.updateSelectedFields(i)},_resetSelectedFields:function(){this.state.savedSearch!==h.savedSearch&&this.setState({savedSearch:h.savedSearch,selectedFields:this.sortFields(h.fields)})},togglePageFields:function(){this.setState({showAllFields:!this.state.showAllFields})},predefinedFieldSelection:function(e){"none"===e?this.updateSelectedFields(s.default.Set()):"all"===e?this.updateSelectedFields(s.default.Set(this._fields().map(function(e){return e.name}))):"default"===e&&this.updateSelectedFields(s.default.Set(["message","source"]))},updateSelectedFields:function(e){var t=this.sortFields(e);h.fields=t,this.setState({selectedFields:t})},_fields:function(){return this.props.result[this.state.showAllFields?"all_fields":"fields"]},sortFields:function(e){var t=e,i=s.default.OrderedSet();t.contains("source")&&(i=i.add("source")),t=t.delete("source");var a=t.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())});return i.concat(a)},addFieldAnalyzer:function(e,t){this.refs[e].addField(t)},_fieldAnalyzers:function(e){return f.PluginStore.exports("fieldAnalyzers").filter(function(t){return void 0===e||e(t)})},_fieldAnalyzerComponents:function(e){var t=this,i=h.getOriginalSearchURLParams().toJS(),a={};return["relative","from","to","keyword"].forEach(function(e){i[e]&&(a[e]=i[e])}),this._fieldAnalyzers(e).map(function(e,r){return n.default.createElement(e.component,{key:r,ref:e.refId,permissions:t.props.permissions,query:i.q,page:i.page,rangeType:i.rangetype,rangeParams:a,stream:t.props.searchInStream,resolution:t.props.histogram.interval,from:t.props.histogram.histogram_boundaries.from,to:t.props.histogram.histogram_boundaries.to,forceFetch:t.props.forceFetch})})},_shouldRenderAboveHistogram:function(e){return e.displayPriority>0},_shouldRenderBelowHistogram:function(e){return e.displayPriority<=0},_toggleShouldHighlight:function(){this.setState({shouldHighlight:!this.state.shouldHighlight})},render:function(){var e=this,t=s.default.fromJS(this.props.result.messages).some(function(e){return null!==e.get("highlight_ranges")}),i=void 0;return this.props.loadingSearch&&(i=n.default.createElement(l.LoadingIndicator,{text:"Updating search results..."})),0===this.props.result.total_results?n.default.createElement("div",null,n.default.createElement(d.NoSearchResults,{builtQuery:this.props.builtQuery,histogram:this.props.histogram,permissions:this.props.permissions,searchInStream:this.props.searchInStream}),i):n.default.createElement(o.Row,{id:"main-content-search"},n.default.createElement(o.Col,{ref:"opa",md:3,sm:12,id:"sidebar"},n.default.createElement(d.SearchSidebar,{result:this.props.result,builtQuery:this.props.builtQuery,selectedFields:this.state.selectedFields,fields:this._fields(),fieldAnalyzers:this._fieldAnalyzers(),showAllFields:this.state.showAllFields,togglePageFields:this.togglePageFields,onFieldToggled:this.onFieldToggled,onFieldAnalyzer:this.addFieldAnalyzer,predefinedFieldSelection:this.predefinedFieldSelection,showHighlightToggle:t,shouldHighlight:this.state.shouldHighlight,toggleShouldHighlight:this._toggleShouldHighlight,currentSavedSearch:h.savedSearch,searchInStream:this.props.searchInStream,permissions:this.props.permissions,loadingSearch:this.props.loadingSearch})),n.default.createElement(o.Col,{md:9,sm:12,id:"main-content-sidebar"},this._fieldAnalyzerComponents(function(t){return e._shouldRenderAboveHistogram(t)}),n.default.createElement(d.LegacyHistogram,{formattedHistogram:this.props.formattedHistogram,histogram:this.props.histogram,permissions:this.props.permissions,stream:this.props.searchInStream}),this._fieldAnalyzerComponents(function(t){return e._shouldRenderBelowHistogram(t)}),n.default.createElement(d.ResultTable,{messages:this.props.result.messages,page:h.page,selectedFields:this.state.selectedFields,sortField:h.sortField,sortOrder:h.sortOrder,resultCount:this.props.result.total_results,inputs:this.props.inputs,streams:this.props.streams,nodes:this.props.nodes,highlight:this.state.shouldHighlight,searchConfig:this.props.searchConfig}),i))}});exports.default=p,e.exports=exports.default},1290:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(35),s=i(r),o=t(15),l=t(1438),d=t(115),u=i(d),c=t(88),f=i(c),h=t(951),p=i(h),g=t(48),m=t(49),_=i(m),y=t(18),v=i(y),x=t(966),S=t(167),b=i(S),w=t(4),T=i(w),E=t(6),P=i(E),A=t(268),C=i(A),O=v.default.getStore("Session"),R=v.default.getStore("Search"),N=n.default.createClass({displayName:"SearchSidebar",propTypes:{builtQuery:n.default.PropTypes.any,currentSavedSearch:n.default.PropTypes.string,fields:n.default.PropTypes.array,fieldAnalyzers:n.default.PropTypes.array,onFieldAnalyzer:n.default.PropTypes.func,onFieldToggled:n.default.PropTypes.func,permissions:n.default.PropTypes.array,predefinedFieldSelection:n.default.PropTypes.func,result:n.default.PropTypes.object,searchInStream:n.default.PropTypes.object,selectedFields:n.default.PropTypes.object,shouldHighlight:n.default.PropTypes.bool,showAllFields:n.default.PropTypes.bool,showHighlightToggle:n.default.PropTypes.bool,togglePageFields:n.default.PropTypes.func,toggleShouldHighlight:n.default.PropTypes.func,loadingSearch:n.default.PropTypes.bool},getInitialState:function(){return{availableHeight:1e3,lastResultsUpdate:_.default.now().toISOString()}},componentDidMount:function(){this._updateHeight(),window.addEventListener("resize",this._resizeCallback)},componentWillReceiveProps:function(e){this.props.loadingSearch&&!e.loadingSearch&&this.setState({lastResultsUpdate:_.default.now().toISOString()})},componentWillUnmount:function(){window.removeEventListener("resize",this._resizeCallback)},eventsThrottler:new C.default,SIDEBAR_MARGIN_BOTTOM:10,_resizeCallback:function(){var e=this;this.eventsThrottler.throttle(function(){return e._updateHeight()})},_updateHeight:function(){var e=window.innerHeight,t=s.default.findDOMNode(this.refs.sidebar),i=window.getComputedStyle(s.default.findDOMNode(t)),a=parseFloat(i.getPropertyValue("padding-bottom")),n=e-a-this.SIDEBAR_MARGIN_BOTTOM;this.setState({availableHeight:n})},_getURLForExportAsCSV:function(){var e=R.getOriginalSearchURLParams(),t=this.props.searchInStream?this.props.searchInStream.id:void 0,i=""===e.get("q")?"*":e.get("q"),a=this.props.selectedFields,n=e.get("rangetype"),r={};switch(n){case"relative":r.range=e.get("relative");break;case"absolute":r.from=e.get("from"),r.to=e.get("to");break;case"keyword":r.keyword=e.get("keyword")}var s=new f.default(T.default.qualifyUrl(P.default.UniversalSearchApiController.export(n,i,r,t,0,0,a.toJS()).url));return T.default.areCredentialsInURLSupported()&&s.username(O.getSessionId()).password("session"),s.toString()},_closeModal:function(e){return function(){return e.close()}},_openModal:function(e){return function(){[arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]].some(function(e){return!(!e||!e.preventDefault)&&(e.preventDefault(),!0)}),e.open()}},_getExportModal:function(){var e=this,t=T.default.areCredentialsInURLSupported()?'Please right click the download link below and choose "Save Link As..." to download the CSV file.':"Please click the download link below. Your browser may ask for your username and password to download the CSV file.";return n.default.createElement(b.default,{ref:function(t){e.exportModal=t}},n.default.createElement(o.Modal.Header,{closeButton:!0},n.default.createElement(o.Modal.Title,null,"Export search results as CSV")),n.default.createElement(o.Modal.Body,null,n.default.createElement("p",null,t),n.default.createElement("p",null,n.default.createElement("a",{href:this._getURLForExportAsCSV(),target:"_blank"},n.default.createElement("i",{className:"fa fa-cloud-download"}),"  Download"))),n.default.createElement(o.Modal.Footer,null,n.default.createElement(o.Button,{onClick:this._closeModal(this.exportModal)},"Close")))},render:function(){var e=this,t=this.props.result.used_indices.sort(function(e,t){return(0,p.default)(e.index_name.toLowerCase(),t.index_name.toLowerCase())}).map(function(e){return n.default.createElement("li",{key:e.index_name}," ",e.index_name)}),i=n.default.createElement(b.default,{ref:function(t){e.indicesModal=t}},n.default.createElement(o.Modal.Header,{closeButton:!0},n.default.createElement(o.Modal.Title,null,"Used indices")),n.default.createElement(o.Modal.Body,null,n.default.createElement("p",null,"Graylog is intelligently selecting the indices it needs to search upon based on the time frame you selected. This list of indices is mainly useful for debugging purposes."),n.default.createElement("h4",null,"Indices used for this search:"),n.default.createElement("ul",{className:"index-list"},t)),n.default.createElement(o.Modal.Footer,null,n.default.createElement(o.Button,{onClick:this._closeModal(this.indicesModal)},"Close"))),a=null,r=[n.default.createElement(o.MenuItem,{key:"export",onSelect:this._openModal(this.exportModal)},"Export as CSV")];return a=this.props.searchInStream?n.default.createElement("span",null,this.props.searchInStream.title):n.default.createElement("span",null,"Search result"),r.push(n.default.createElement(o.MenuItem,{divider:!0,key:"div2"})),r.push(n.default.createElement(o.MenuItem,{key:"showQuery",onSelect:this._openModal(this.showQueryModal)},"Show query")),n.default.createElement(l.AutoAffix,{affixClassName:"affix"},n.default.createElement("div",{className:"content-col",ref:"sidebar",style:{top:void 0,position:void 0}},n.default.createElement("div",null,n.default.createElement("h2",null,a),n.default.createElement("p",{style:{marginTop:3}},"Found ",n.default.createElement("strong",null,(0,u.default)(this.props.result.total_results).format("0,0")," messages")," ","in ",(0,u.default)(this.props.result.time).format("0,0")," ms, searched in ",n.default.createElement("a",{href:"#",onClick:this._openModal(this.indicesModal)},this.props.result.used_indices.length," ",1===this.props.result.used_indices.length?"index":"indices"),".",i,n.default.createElement("br",null),"Results retrieved at ",n.default.createElement(g.Timestamp,{dateTime:this.state.lastResultsUpdate,format:_.default.Formats.DATETIME}),"."),n.default.createElement("div",{className:"actions"},n.default.createElement(x.AddSearchCountToDashboard,{searchInStream:this.props.searchInStream,permissions:this.props.permissions}),n.default.createElement(x.SavedSearchControls,{currentSavedSearch:this.props.currentSavedSearch}),n.default.createElement("div",{style:{display:"inline-block"}},n.default.createElement(o.DropdownButton,{bsSize:"small",title:"More actions",id:"search-more-actions-dropdown"},r),n.default.createElement(x.ShowQueryModal,{key:"debugQuery",ref:function(t){e.showQueryModal=t},builtQuery:this.props.builtQuery}))),this._getExportModal(),n.default.createElement("hr",null)),n.default.createElement(o.Tabs,{id:"searchSidebarTabs",animation:!1},n.default.createElement(o.Tab,{eventKey:1,title:n.default.createElement("h4",null,"Fields")},n.default.createElement(x.FieldAnalyzersSidebar,{fields:this.props.fields,fieldAnalyzers:this.props.fieldAnalyzers,onFieldAnalyzer:this.props.onFieldAnalyzer,onFieldToggled:this.props.onFieldToggled,maximumHeight:this.state.availableHeight,predefinedFieldSelection:this.props.predefinedFieldSelection,result:this.props.result,selectedFields:this.props.selectedFields,shouldHighlight:this.props.shouldHighlight,showAllFields:this.props.showAllFields,showHighlightToggle:this.props.showHighlightToggle,togglePageFields:this.props.togglePageFields,toggleShouldHighlight:this.props.toggleShouldHighlight})),n.default.createElement(o.Tab,{eventKey:2,title:n.default.createElement("h4",null,"Decorators")},n.default.createElement(x.DecoratorSidebar,{stream:this.props.searchInStream?this.props.searchInStream.id:void 0,maximumHeight:this.state.availableHeight})))))}});exports.default=N,e.exports=exports.default},1291:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(1105),s=i(r),o=t(15),l=t(167),d=i(l),u=t(48),c=n.default.createClass({displayName:"ShowQueryModal",propTypes:{builtQuery:n.default.PropTypes.string},mixins:[s.default],open:function(){this.refs.modal.open()},close:function(){this.refs.modal.close()},render:function(){var e=JSON.stringify(JSON.parse(this.props.builtQuery),null,"  ");return n.default.createElement(d.default,{ref:"modal"},n.default.createElement(o.Modal.Header,{closeButton:!0},n.default.createElement(o.Modal.Title,null,"Elasticsearch Query")),n.default.createElement(o.Modal.Body,null,n.default.createElement("pre",null,e)),n.default.createElement(o.Modal.Footer,null,n.default.createElement(u.ClipboardButton,{title:"Copy query",target:".modal-body pre"})))}});exports.default=c,e.exports=exports.default},1292:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(15),s=t(951),o=i(s),l=t(43),d=n.default.createClass({displayName:"SidebarMessageField",propTypes:{field:n.default.PropTypes.object,fieldAnalyzers:n.default.PropTypes.array,onFieldAnalyzer:n.default.PropTypes.func,onToggled:n.default.PropTypes.func,selected:n.default.PropTypes.bool},getInitialState:function(){return{showActions:!1}},componentDidMount:function(){this.style.use()},componentWillUnmount:function(){this.style.unuse()},style:t(1502),_onFieldAnalyzer:function(e,t){var i=this;return function(a){a.preventDefault(),i.props.onFieldAnalyzer(e,t)}},_fieldAnalyzersList:function(){var e=this,t=this.props.fieldAnalyzers.sort(function(e,t){return(0,o.default)(e.displayName,t.displayName)}).map(function(t,i){return n.default.createElement("li",{key:"field-analyzer-button-"+i},n.default.createElement("a",{href:"#",onClick:e._onFieldAnalyzer(t.refId,e.props.field.name)},t.displayName))});return n.default.createElement(r.Panel,{className:"field-analyzer"},n.default.createElement("ul",null,t))},_toggleFieldAnalyzers:function(e){e.preventDefault(),this.setState({showActions:!this.state.showActions})},render:function(){var e=this,t="fa fa-fw open-analyze-field ";t+=this.state.showActions?"open-analyze-field-active fa-caret-down":"fa-caret-right";var i=void 0;return this.state.showActions&&(i=this._fieldAnalyzersList()),n.default.createElement("li",null,n.default.createElement("div",{className:"pull-left"},n.default.createElement("a",{href:"#",onClick:this._toggleFieldAnalyzers},n.default.createElement("i",{className:t}))),n.default.createElement("div",{className:"field-selector"},n.default.createElement(l.Input,{type:"checkbox",label:this.props.field.name,checked:this.props.selected,onChange:function(){return e.props.onToggled(e.props.field.name)}}),i))}});exports.default=d,e.exports=exports.default},1306:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(273),s=t(75),o=i(s),l=n.default.createClass({displayName:"StreamLink",render:function(){var e=this.props.stream,t=o.default.stream_search(e.id);return n.default.createElement(r.Link,{to:t},e.title)}});exports.default=l,e.exports=exports.default},1310:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(15),s=t(957),o=i(s),l=t(952),d=i(l),u=n.default.createClass({displayName:"ContactUs",render:function(){return n.default.createElement(r.Row,{className:"content"},n.default.createElement(r.Col,{md:12},n.default.createElement("div",{className:"support-sources"},n.default.createElement("h2",null,"Need help?"),n.default.createElement("p",null,"Do not hesitate to consult the Graylog community if your questions are not answered in the"," ",n.default.createElement(o.default,{page:d.default.PAGES.WELCOME,text:"documentation"}),"."),n.default.createElement("ul",null,n.default.createElement("li",null,n.default.createElement("i",{className:"fa fa-group"})," ",n.default.createElement("a",{href:"https://www.graylog.org/community-support/",target:"_blank"},"Community support")),n.default.createElement("li",null,n.default.createElement("i",{className:"fa fa-github-alt"})," ",n.default.createElement("a",{href:"https://github.com/Graylog2/graylog2-server/issues",target:"_blank"},"Issue tracker")),n.default.createElement("li",null,n.default.createElement("i",{className:"fa fa-heart"})," ",n.default.createElement("a",{href:"https://www.graylog.org/professional-support",target:"_blank"},"Professional support"))))))}});exports.default=u,e.exports=exports.default},1311:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var i=t(2),a=function(e){return e&&e.__esModule?e:{default:e}}(i),n=a.default.createClass({displayName:"SmallSupportLink",propTypes:{children:a.default.PropTypes.node.isRequired},render:function(){return a.default.createElement("p",{className:"description-tooltips description-tooltips-small"},a.default.createElement("span",{className:"fa-stack"},a.default.createElement("i",{className:"fa fa-circle fa-stack-2x"}),a.default.createElement("i",{className:"fa fa-lightbulb-o fa-stack-1x fa-inverse"})),a.default.createElement("strong",null,this.props.children))}});exports.default=n,e.exports=exports.default},1318:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(1),s=i(r),o=t(115),l=i(o),d=t(18),u=i(d),c=t(48),f=u.default.getStore("GlobalThroughput"),h=n.default.createClass({displayName:"GlobalThroughput",mixins:[s.default.connect(f)],render:function(){return this.state.throughput?n.default.createElement("span",null,"In ",n.default.createElement("strong",{className:"total-throughput"},(0,l.default)(this.state.throughput.input).format("0,0"))," ","/ Out ",n.default.createElement("strong",{className:"total-throughput"},(0,l.default)(this.state.throughput.output).format("0,0"))," msg/s"):n.default.createElement(c.Spinner,null)}});exports.default=h,e.exports=exports.default},1333:function(e,exports,t){"use strict";(function(i){function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(2),r=a(n),s=t(35),o=a(s),l=t(115),d=a(l),u=t(119),c=a(u),f=t(266),h=a(f),p=t(76),g=a(p),m=t(269),_=a(m),y=t(49),v=a(y),x=t(89),S=a(x),b=t(267),w=a(b),T=t(168),E=a(T),P=t(12),A=a(P);i.jQuery=A.default,t(170);var C=r.default.createClass({displayName:"HistogramVisualization",propTypes:{id:n.PropTypes.string.isRequired,data:n.PropTypes.object.isRequired,config:n.PropTypes.object.isRequired,computationTimeRange:n.PropTypes.object,height:n.PropTypes.number,width:n.PropTypes.number},getInitialState:function(){return this.triggerRender=!0,this.histogramData=(0,c.default)(),this.dimension=this.histogramData.dimension(function(e){return e.x}),this.group=this.dimension.group().reduceSum(function(e){return e.y}),{dataPoints:[]}},componentDidMount:function(){this.renderHistogram(),this._updateData(this.props.data)},componentWillReceiveProps:function(e){(0,_.default)(this.props,e)||(e.height===this.props.height&&e.width===this.props.width||this._resizeVisualization(e.width,e.height),this._updateData(e.data))},_updateData:function(e){this.setState({dataPoints:e},this.drawData)},_resizeVisualization:function(e,t){this.histogram.width(e).height(t),this.triggerRender=!0},drawData:function(){var e="relative"===this.props.config.timerange.type&&0===this.props.config.timerange.range,t=S.default.format(this.state.dataPoints,this.props.computationTimeRange,this.props.config.interval,this.props.width,e,null);this.histogram.xUnits(function(){return t.length-1}),this.histogramData.remove(),this.histogramData.add(t),this.triggerRender?(this.histogram.render(),this.triggerRender=!1):this.histogram.redraw()},renderHistogram:function(){var e=o.default.findDOMNode(this);this.histogram=h.default.barChart(e),this.histogram.width(this.props.width).height(this.props.height).margins({left:50,right:15,top:10,bottom:30}).dimension(this.dimension).group(this.group).x(g.default.time.scale()).elasticX(!0).elasticY(!0).centerBar(!0).renderHorizontalGridLines(!0).brushOn(!1).xAxisLabel("Time").yAxisLabel("Messages").renderTitle(!1).colors(w.default.glColourPalette()).on("renderlet",function(){var t=function(e){return'<div class="datapoint-info">'+(0,d.default)(e.y).format("0,0")+' messages<br><span class="date">'+new v.default(e.x).toString(v.default.Formats.COMPLETE)+"</span></div>"};g.default.select(e).selectAll(".chart-body rect.bar").attr("rel","tooltip").attr("data-original-title",t)}),(0,A.default)(e).tooltip({selector:'[rel="tooltip"]',container:"body",placement:"auto",delay:{show:300,hide:100},html:!0}),this.histogram.xAxis().ticks(E.default.customTickInterval()).tickFormat(E.default.customDateTimeFormat()),this.histogram.yAxis().ticks(3).tickFormat(function(e){return e%1==0?g.default.format("s")(e):null}),this.histogram.render()},render:function(){return r.default.createElement("div",{id:"visualization-"+this.props.id,className:"histogram"})}});exports.default=C,e.exports=exports.default}).call(exports,t(30))},1334:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=t(2),r=i(n),s=t(269),o=i(s),l=t(117),d=i(l),u={HIGHER:"higher",LOWER:"lower"},c=r.default.createClass({displayName:"NumericVisualization",propTypes:{config:r.default.PropTypes.object.isRequired,data:r.default.PropTypes.oneOfType([r.default.PropTypes.object,r.default.PropTypes.number]).isRequired},getInitialState:function(){return{currentNumber:void 0,previousNumber:void 0}},componentDidMount:function(){var e=this._normalizeStateFromProps(this.props.data);this.setState(e)},componentWillReceiveProps:function(e){if(!(0,o.default)(this.props,e)){var t=this._normalizeStateFromProps(e.data);this.setState(t)}},DEFAULT_VALUE_FONT_SIZE:"70px",NUMBER_OF_INDICATORS:3,PERCENTAGE_PER_INDICATOR:30,_normalizeStateFromProps:function(e){var t={};if("object"===(void 0===e?"undefined":a(e))){var i=d.default.normalizeNumber(e.now),n=d.default.normalizeNumber(e.previous);t={currentNumber:i,previousNumber:n,percentage:this._calculatePercentage(i,n)}}else t={currentNumber:e};return t},_calculatePercentage:function(e,t){var i=void 0;if(0===t||isNaN(t)){var a=0;e>t?a=1:e<t&&(a=-1),i=100*a}else i=(e-t)/t*100;return i},_calculateFontSize:function(){if(void 0===this.props.data)return this.DEFAULT_VALUE_FONT_SIZE;var e=void 0,t=this._formatData().replace(/[,.]/g,"").length;if(t<7)e=this.DEFAULT_VALUE_FONT_SIZE;else switch(t){case 7:e="60px";break;case 8:e="50px";break;case 9:case 10:e="40px";break;case 11:case 12:e="35px";break;default:e="25px"}return e},_formatData:function(){return String(d.default.formatNumber(this.state.currentNumber))},_isIndicatorActive:function(e,t){return!(0===this.state.percentage||this.state.currentNumber>=this.state.previousNumber&&t!==u.HIGHER||this.state.currentNumber<=this.state.previousNumber&&t!==u.LOWER)&&(t===u.HIGHER&&(e=Math.abs(e-(this.NUMBER_OF_INDICATORS-1))),Math.abs(this.state.percentage)>=this.PERCENTAGE_PER_INDICATOR*e)},_getIndicatorClass:function(e,t){if(!this._isIndicatorActive(e,t))return"trend-icon";var i=this.props.config.lower_is_better?"trend-good":"trend-bad",a=this.props.config.lower_is_better?"trend-bad":"trend-good";return"trend-icon "+(t===u.HIGHER?a:i)},_getHigherIndicatorClass:function(e){return this._getIndicatorClass(e,u.HIGHER)},_getLowerIndicatorClass:function(e){return this._getIndicatorClass(e,u.LOWER)},render:function(){var e=void 0;return this.props.config.trend&&(e=r.default.createElement("div",{className:"trend-indicators"},r.default.createElement("div",{className:"trend-icons-higher"},r.default.createElement("div",{className:this._getHigherIndicatorClass(0)},r.default.createElement("span",{className:"trend-higher"},r.default.createElement("i",{className:"fa fa-angle-up"}))),r.default.createElement("div",{className:this._getHigherIndicatorClass(1)},r.default.createElement("span",{className:"trend-higher"},r.default.createElement("i",{className:"fa fa-angle-up"}))),r.default.createElement("div",{className:this._getHigherIndicatorClass(2)},r.default.createElement("span",{className:"trend-higher"},r.default.createElement("i",{className:"fa fa-angle-up"})))),r.default.createElement("div",{className:"trend-icons-lower"},r.default.createElement("div",{className:this._getLowerIndicatorClass(0)},r.default.createElement("span",{className:"trend-lower"},r.default.createElement("i",{className:"fa fa-angle-down"}))),r.default.createElement("div",{className:this._getLowerIndicatorClass(1)},r.default.createElement("span",{className:"trend-lower"},r.default.createElement("i",{className:"fa fa-angle-down"}))),r.default.createElement("div",{className:this._getLowerIndicatorClass(2)},r.default.createElement("span",{className:"trend-lower"},r.default.createElement("i",{className:"fa fa-angle-down"})))))),r.default.createElement("div",{className:"number"},r.default.createElement("div",{className:"text-center"},r.default.createElement("span",{className:"value",style:{fontSize:this._calculateFontSize()}},this._formatData()),e))}});exports.default=c,e.exports=exports.default},1335:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(35),s=i(r),o=t(55),l=i(o),d=t(115),u=i(d),c=t(1417),f=i(c),h=t(76),p=i(h),g=t(269),m=i(g),_=t(267),y=i(_),v=t(49),x=i(v),S=t(89),b=i(S),w=t(168),T=i(w),E=n.default.createClass({displayName:"StackedGraphVisualization",propTypes:{id:a.PropTypes.string.isRequired,data:a.PropTypes.array.isRequired,height:a.PropTypes.number,width:a.PropTypes.number,config:a.PropTypes.object.isRequired,computationTimeRange:a.PropTypes.object},getInitialState:function(){return this.series=l.default.List(),this.seriesNames=l.default.Map(),this.barWidthScale=p.default.scale.linear().domain(p.default.range(0,1e4)).range(p.default.range(.6,0,-.01)),this.dataPoints=l.default.Set(),{}},componentDidMount:function(){this.renderGraph(),this.dataPoints=this._formatData(this.props.data),this.drawData()},componentWillReceiveProps:function(e){(0,m.default)(this.props,e)||(e.height===this.props.height&&e.width===this.props.width||this._resizeVisualization(e.width,e.height),this._updateSeriesNames(),this.dataPoints=this._formatData(e.data),this.drawData())},_normalizeData:function(e){return null!==e&&void 0!==e&&Array.isArray(e)?e:[]},_formatData:function(e){var t=this,i=this._normalizeData(e),a="relative"===this.props.config.timerange.type&&0===this.props.config.timerange.range,n=[];return i.forEach(function(e,i){n.push(b.default.format(e,t.props.computationTimeRange,t.props.config.interval,t.props.width,a,t.props.config.series[i].statistical_function))},this),this._mergeSeries(n)},_mergeSeries:function(e){var t=this,i=l.default.Map();return e.forEach(function(e,a){e.forEach(function(e){var t=e.x,n=l.default.Map({timestamp:t}).set("series"+(a+1),e.y);i=i.has(t)?i.set(t,i.get(t).merge(n)):i.set(t,n)},t)},this),i.toOrderedSet().sortBy(function(e){return e.get("timestamp")})},_getGraphType:function(){var e=void 0;switch(this.props.config.renderer){case"scatterplot":e="scatter";break;case"line":e="step-after"!==this.props.config.interpolation?"spline":"step";break;case"area":e="step-after"!==this.props.config.interpolation?"area-spline":"area-step";break;default:e=this.props.config.renderer}return e},_applyGraphConfiguration:function(e){switch(e){case"bar":var t=this.dataPoints.size;this.graph.internal.config.bar_width_ratio=Math.max(.015,this.barWidthScale(t));break;case"spline":case"area-spline":this.graph.internal.config.spline_interpolation_type=this.props.config.interpolation;break;case"step":case"area-step":this.graph.internal.config.line_step_type=this.props.config.interpolation;break;default:console.warn("Invalid graph type "+e)}},_formatTooltipTitle:function(e){return new x.default(e).toString(x.default.Formats.COMPLETE)},_formatTooltipValue:function(e){var t=void 0;try{t=(0,u.default)(e).format("0,0.[00]")}catch(i){t=p.default.format(".2r")(e)}return t},_resizeVisualization:function(e,t){this.graph.resize({width:e,height:t})},_updateSeriesNames:function(){var e=0,t=l.default.Map();this.props.config.series.forEach(function(i){e++;var a="series"+e;t=t.set(a,i.statistical_function+" "+i.field+', "'+i.query+'"')},this),l.default.is(this.seriesNames,t)||(this.seriesNames=t,this.graph.data.names(this.seriesNames.toJS()))},drawData:function(){var e=this._getGraphType();this._applyGraphConfiguration(e),this.graph.internal.config.axis_x_tick_values=T.default.customTickInterval()(this.dataPoints.first().get("timestamp")-1e3,this.dataPoints.last().get("timestamp")+1e3),this.graph.load({json:this.dataPoints.toJS(),keys:{x:"timestamp",value:this.series.toJS()},type:e})},renderGraph:function(){var e=this,t=s.default.findDOMNode(this),i=y.default.glColourPalette(),a=0,n=l.default.Map();this.props.config.series.forEach(function(t){a++;var r="series"+a;e.series=e.series.push(r),e.seriesNames=e.seriesNames.set(r,t.statistical_function+" "+t.field+', "'+t.query+'"'),n=n.set(r,i(r))}),this.yAxisFormatter=function(e){return Math.abs(e)>1e30||0===e?e.toPrecision(1):p.default.format(".2s")(e)},this.graph=f.default.generate({bindto:t,size:{height:this.props.height,width:this.props.width},data:{columns:[],names:this.seriesNames.toJS(),colors:n.toJS()},padding:{right:10},axis:{x:{type:"timeseries",label:{text:"Time",position:"outer-center"},tick:{format:T.default.customDateTimeFormat()}},y:{label:{text:"Values",position:"outer-middle"},tick:{count:3,format:this.yAxisFormatter},padding:{bottom:0}}},grid:{y:{show:!0,ticks:3},focus:{show:!1}},tooltip:{format:{title:this._formatTooltipTitle,value:this._formatTooltipValue}}})},render:function(){return n.default.createElement("div",{id:"visualization-"+this.props.id,className:"graph "+this.props.config.renderer})}});exports.default=E,e.exports=exports.default},1336:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(275);Object.defineProperty(exports,"GraphVisualization",{enumerable:!0,get:function(){return i(a).default}});var n=t(1333);Object.defineProperty(exports,"HistogramVisualization",{enumerable:!0,get:function(){return i(n).default}});var r=t(1334);Object.defineProperty(exports,"NumericVisualization",{enumerable:!0,get:function(){return i(r).default}});var s=t(1205);Object.defineProperty(exports,"QuickValuesVisualization",{enumerable:!0,get:function(){return i(s).default}});var o=t(1335);Object.defineProperty(exports,"StackedGraphVisualization",{enumerable:!0,get:function(){return i(o).default}})},1337:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=t(2),r=i(n),s=t(15),o=t(949),l=t(258),d=t(75),u=i(d),c=t(87),f=i(c),h=t(167),p=i(h),g=r.default.createClass({displayName:"WidgetConfigModal",propTypes:{boundToStream:n.PropTypes.bool.isRequired,widget:n.PropTypes.object.isRequired,dashboardId:n.PropTypes.string.isRequired},open:function(){this.refs.configModal.open()},hide:function(){this.refs.configModal.close()},_getBasicConfiguration:function(){var e=this,t=l.PluginStore.exports("widgets").filter(function(t){return t.type.toUpperCase()===e.props.widget.type.toUpperCase()})[0],i=t?t.displayName:"Not available";return this.props.boundToStream?r.default.createElement("p",null,"Type: ",i,", cached for ",this.props.widget.cache_time," seconds.  Widget is bound to stream ",this.props.widget.config.stream_id,"."):r.default.createElement("p",null,"Type: ",i,", cached for ",this.props.widget.cache_time," seconds.  Widget is ",r.default.createElement("strong",null,"not")," bound to a stream.")},_formatConfigurationKey:function(e){return f.default.capitalizeFirstLetter(e.replace(/_/g," "))},_formatConfigurationValue:function(e,t){return"query"===e&&""===t?"*":"string"==typeof t?String(t):"object"===(void 0===t?"undefined":a(t))||"boolean"==typeof t?JSON.stringify(t,null,1):t},_getConfigAsDescriptionList:function(){var e=this,t=Object.keys(this.props.widget.config);if(0===t.length)return[];var i=[];return t.forEach(function(t){null!==e.props.widget.config[t]&&(i.push(r.default.createElement("dt",{key:t},e._formatConfigurationKey(t),":")),i.push(r.default.createElement("dd",{key:t+"-value"},e._formatConfigurationValue(t,e.props.widget.config[t]))))}),i},render:function(){return r.default.createElement(p.default,{ref:"configModal"},r.default.createElement(s.Modal.Header,{closeButton:!0},r.default.createElement(s.Modal.Title,null,r.default.createElement("span",null,"Widget ",r.default.createElement("em",null,this.props.widget.description)," configuration"))),r.default.createElement(s.Modal.Body,null,r.default.createElement("div",{className:"configuration"},this._getBasicConfiguration(),r.default.createElement("div",null,"More details:",r.default.createElement("dl",{className:"dl-horizontal"},r.default.createElement("dt",null,"Widget ID:"),r.default.createElement("dd",null,this.props.widget.id),r.default.createElement("dt",null,"Dashboard ID:"),r.default.createElement("dd",null,this.props.dashboardId),this._getConfigAsDescriptionList())))),r.default.createElement(s.Modal.Footer,null,r.default.createElement(s.Button,{type:"button",onClick:this.hide},"Close"),r.default.createElement(o.LinkContainer,{to:u.default.filtered_metrics("master","org.graylog2.dashboards.widgets.*."+this.props.widget.id)},r.default.createElement(s.Button,{type:"button",bsStyle:"info"},"Show widget metrics"))))}});exports.default=g,e.exports=exports.default},1338:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(43),s=t(258),o=t(261),l=i(o),d=t(950),u=i(d),c=t(259),f=i(c),h=t(87),p=i(h),g=n.default.createClass({displayName:"WidgetCreationModal",propTypes:{fields:n.default.PropTypes.array,onConfigurationSaved:n.default.PropTypes.func.isRequired,onModalHidden:n.default.PropTypes.func,widgetType:n.default.PropTypes.string.isRequired},getInitialState:function(){return this.widgetPlugin=this._getWidgetPlugin(this.props.widgetType),{title:this._getDefaultWidgetTitle(this.widgetPlugin),config:{}}},componentWillReceiveProps:function(e){this.props.widgetType!==e.widgetType&&(this.widgetPlugin=this._getWidgetPlugin(e.widgetType))},_getWidgetPlugin:function(e){return s.PluginStore.exports("widgets").filter(function(t){return t.type.toUpperCase()===e.toUpperCase()})[0]},_getInitialConfiguration:function(){if(this.refs.pluginConfiguration){0===Object.keys(this.state.config).length&&this.setState({config:this.refs.pluginConfiguration.getInitialConfiguration()})}},open:function(){this.refs.createModal.open()},hide:function(){this.refs.createModal.close()},save:function(){this.props.onConfigurationSaved(this.state.title,this.state.config)},saved:function(){this.setState(this.getInitialState()),this.hide()},_setSetting:function(e,t){var i=f.default.clone(this.state);i[e]=t,this.setState(i)},_bindValue:function(e){this._setSetting(e.target.name,u.default.getValueFromInput(e.target))},_setConfigurationSetting:function(e,t){var i=f.default.clone(this.state.config);i[e]=t,this.setState({config:i})},_bindConfigurationValue:function(e){this._setConfigurationSetting(e.target.name,u.default.getValueFromInput(e.target))},_onConfigurationValueChange:function(){switch(arguments.length){case 1:this._bindConfigurationValue(arguments[0]);break;case 2:this._setConfigurationSetting(arguments[0],arguments[1]);break;default:throw new Error("Wrong number of arguments, method only accepts an event or a configuration key-value pair")}},_getDefaultWidgetTitle:function(e){return e.displayName?p.default.capitalizeFirstLetter(e.displayName):""},_getSpecificWidgetInputs:function(){if(this.widgetPlugin.configurationCreateComponent)return n.default.createElement(this.widgetPlugin.configurationCreateComponent,{ref:"pluginConfiguration",config:this.state.config,fields:this.props.fields,onChange:this._onConfigurationValueChange})},render:function(){return n.default.createElement(l.default,{ref:"createModal",title:"Create Dashboard Widget",onModalOpen:this._getInitialConfiguration,onModalClose:this.props.onModalHidden,onSubmitForm:this.save,submitButtonText:"Create"},n.default.createElement("fieldset",null,n.default.createElement(r.Input,{type:"text",label:"Title",name:"title",id:"widget-title",required:!0,defaultValue:this.state.title,onChange:this._bindValue,help:"Type a name that describes your widget.",autoFocus:!0}),this._getSpecificWidgetInputs()))}});exports.default=g,e.exports=exports.default},1339:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(43),s=t(258),o=t(49),l=i(o),d=t(87),u=i(d),c=t(259),f=i(c),h=t(950),p=i(h),g=t(261),m=i(g),_=n.default.createClass({displayName:"WidgetEditConfigModal",propTypes:{onModalHidden:n.default.PropTypes.func,onUpdate:n.default.PropTypes.func.isRequired,widget:n.default.PropTypes.object.isRequired},getInitialState:function(){return this.widgetPlugin=this._getWidgetPlugin(this.props.widget.type),{description:this.props.widget.description,type:this.props.widget.type,cache_time:this.props.widget.cache_time,config:f.default.clone(this.props.widget.config),errors:{}}},componentWillReceiveProps:function(e){this.widgetPlugin=this._getWidgetPlugin(e.widget.type)},_getWidgetPlugin:function(e){return s.PluginStore.exports("widgets").filter(function(t){return t.type.toUpperCase()===e.toUpperCase()})[0]},open:function(){this.refs.editModal.open()},hide:function(){this.refs.editModal.close()},_getWidgetData:function(){var e=this,t={};return Object.keys(this.state).forEach(function(i){!e.state.hasOwnProperty(i)||"errors"===i&&"widgetPlugin"===i||(t[i]=e.state[i])}),t},save:function(){var e=this;Object.keys(this.state.errors).some(function(t){return!0===e.state.errors[t]})||this.props.onUpdate(this._getWidgetData()),this.hide()},_setSetting:function(e,t){var i=f.default.clone(this.state);i[e]=t,this.setState(i)},_bindValue:function(e){this._setSetting(e.target.name,p.default.getValueFromInput(e.target))},_setConfigurationSetting:function(e,t){var i=f.default.clone(this.state.config);i[e]=t,this.setState({config:i})},_bindConfigurationValue:function(e){this._setConfigurationSetting(e.target.name,p.default.getValueFromInput(e.target))},_onConfigurationValueChange:function(){switch(arguments.length){case 1:this._bindConfigurationValue(arguments[0]);break;case 2:this._setConfigurationSetting(arguments[0],arguments[1]);break;default:throw new Error("Wrong number of arguments, method only accepts an event or a configuration key-value pair")}},_setTimeRangeSetting:function(e,t){var i=f.default.clone(this.state.config.timerange);switch(e){case"from":case"to":var a=f.default.clone(this.state.errors);try{i[e]=l.default.parseFromString(t).toISOString(),a[e]=!1}catch(t){a[e]=!0}this.setState({errors:a});break;default:i[e]=t}this._setConfigurationSetting("timerange",i)},_bindTimeRangeValue:function(e){this._setTimeRangeSetting(e.target.name,p.default.getValueFromInput(e.target))},_formatDateTime:function(e){try{return l.default.parseFromString(e).toString()}catch(t){return e}},_getTimeRangeFormControls:function(){var e=n.default.createElement(r.Input,{type:"text",label:"Time range type",disabled:!0,value:u.default.capitalizeFirstLetter(this.state.config.timerange.type),help:"Type of time range to use in the widget."}),t=void 0;switch(this.state.config.timerange.type){case"relative":t=n.default.createElement(r.Input,{type:"number",id:"timerange-relative",name:"range",label:"Search relative time",required:!0,min:"0",defaultValue:this.state.config.timerange.range,onChange:this._bindTimeRangeValue,help:"Number of seconds relative to the moment the search executes. 0 searches in all messages."});break;case"absolute":t=n.default.createElement("div",null,n.default.createElement(r.Input,{type:"text",id:"timerange-absolute-from",name:"from",label:"Search from",required:!0,bsStyle:!0===this.state.errors.from?"error":null,defaultValue:this._formatDateTime(this.state.config.timerange.from),onChange:this._bindTimeRangeValue,help:"Earliest time to be included in the search. E.g. 2015-03-27 13:23:41"}),n.default.createElement(r.Input,{type:"text",id:"timerange-absolute-to",name:"to",label:"Search to",required:!0,bsStyle:!0===this.state.errors.to?"error":null,defaultValue:this._formatDateTime(this.state.config.timerange.to),onChange:this._bindTimeRangeValue,help:"Latest time to be included in the search. E.g. 2015-03-27 13:23:41"}));break;case"keyword":t=n.default.createElement(r.Input,{type:"text",id:"timerange-keyword",name:"keyword",label:"Search keyword",required:!0,defaultValue:this.state.config.timerange.keyword,onChange:this._bindTimeRangeValue,help:"Search keyword representing the time to be included in the search. E.g. last day"});break;default:t=void 0}return n.default.createElement("div",null,e,t)},_getSpecificConfigurationControls:function(){return this.widgetPlugin&&this.widgetPlugin.configurationEditComponent?n.default.createElement(this.widgetPlugin.configurationEditComponent,{id:this.props.widget.id,config:this.state.config,onChange:this._onConfigurationValueChange}):null},render:function(){return n.default.createElement(m.default,{ref:"editModal",title:'Edit widget "'+this.state.description+'"',onSubmitForm:this.save,onModalClose:this.props.onModalHidden,submitButtonText:"Update"},n.default.createElement("fieldset",null,n.default.createElement(r.Input,{type:"text",id:"title",name:"description",label:"Title",required:!0,defaultValue:this.state.description,onChange:this._bindValue,help:"Type a name that describes your widget.",autoFocus:!0}),n.default.createElement(r.Input,{type:"number",min:"1",required:!0,id:"cache_time",name:"cache_time",label:"Cache time",defaultValue:this.state.cache_time,onChange:this._bindValue,help:"Number of seconds the widget value will be cached."}),this._getTimeRangeFormControls(),this._getSpecificConfigurationControls()))}});exports.default=_,e.exports=exports.default},1340:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var i=t(2),a=function(e){return e&&e.__esModule?e:{default:e}}(i),n=t(15),r=a.default.createClass({displayName:"WidgetFooter",propTypes:{locked:a.default.PropTypes.bool.isRequired,onDelete:a.default.PropTypes.func.isRequired,onEditConfig:a.default.PropTypes.func.isRequired,onShowConfig:a.default.PropTypes.func.isRequired,replayHref:a.default.PropTypes.string.isRequired,replayToolTip:a.default.PropTypes.string},_showConfig:function(e){e.preventDefault(),this.props.onShowConfig()},_editConfig:function(e){e.preventDefault(),this.props.onEditConfig()},_delete:function(e){e.preventDefault(),this.props.onDelete()},render:function(){var e=this.props.replayToolTip?null:"Replay search",t=this.props.replayToolTip?null:this.props.replayHref,i=a.default.createElement(n.Button,{bsStyle:"link",className:"btn-text",title:e,href:t},a.default.createElement("i",{className:"fa fa-play"}));this.props.replayToolTip&&(i=a.default.createElement(n.OverlayTrigger,{placement:"bottom",overlay:a.default.createElement(n.Tooltip,{id:"tooltip"},this.props.replayToolTip)},i));var r=a.default.createElement("div",{className:"actions"},a.default.createElement("div",{className:"widget-replay"},i),a.default.createElement("div",{className:"widget-info"},a.default.createElement(n.Button,{bsStyle:"link",className:"btn-text",title:"Show widget configuration",onClick:this._showConfig},a.default.createElement("i",{className:"fa fa-info-circle"})))),s=a.default.createElement("div",{className:"actions"},a.default.createElement("div",{className:"widget-delete"},a.default.createElement(n.Button,{bsStyle:"link",className:"btn-text",title:"Delete widget",onClick:this._delete},a.default.createElement("i",{className:"fa fa-trash"}))),a.default.createElement("div",{className:"widget-edit"},a.default.createElement(n.Button,{bsStyle:"link",className:"btn-text",title:"Edit widget",onClick:this._editConfig},a.default.createElement("i",{className:"fa fa-pencil"}))));return a.default.createElement("div",null,this.props.locked?r:s)}});exports.default=r,e.exports=exports.default},1341:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var i=t(2),a=function(e){return e&&e.__esModule?e:{default:e}}(i),n=t(48),r=a.default.createClass({displayName:"WidgetHeader",propTypes:{title:i.PropTypes.string.isRequired,error:i.PropTypes.any,errorMessage:i.PropTypes.string,calculatedAt:i.PropTypes.string},render:function(){var e=void 0;this.props.error&&(e=a.default.createElement("span",{className:"load-error",title:this.props.errorMessage},a.default.createElement("i",{className:"fa fa-exclamation-triangle"})));var t=void 0;return t=this.props.calculatedAt?a.default.createElement("span",{title:this.props.calculatedAt},a.default.createElement(n.Timestamp,{dateTime:this.props.calculatedAt,relative:!0})):"Loading...",a.default.createElement("div",null,a.default.createElement("div",{className:"widget-update-info"},e,t),a.default.createElement("div",{className:"widget-title"},this.props.title),a.default.createElement("div",{className:"clearfix"}))}});exports.default=r,e.exports=exports.default},1342:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var i=t(2),a=function(e){return e&&e.__esModule?e:{default:e}}(i),n=t(15),r=a.default.createClass({displayName:"WidgetVisualizationNotFound",propTypes:{widgetClassName:a.default.PropTypes.string.isRequired},render:function(){return a.default.createElement(n.Alert,{bsStyle:"danger"},a.default.createElement("i",{className:"fa fa-exclamation-circle"})," Widget Visualization (",a.default.createElement("i",null,this.props.widgetClassName),") not found. Seems like the plugin supplying this widget is not loaded.")}});exports.default=r,e.exports=exports.default},1343:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var i=t(2),a=function(e){return e&&e.__esModule?e:{default:e}}(i),n=t(43),r=a.default.createClass({displayName:"CountWidgetCreateConfiguration",propTypes:{config:i.PropTypes.object.isRequired,onChange:i.PropTypes.func.isRequired},getInitialConfiguration:function(){return{trend:!1,lower_is_better:!1}},render:function(){return a.default.createElement("fieldset",null,a.default.createElement(n.Input,{key:"trend",type:"checkbox",id:"count-trend",name:"trend",label:"Display trend",checked:this.props.config.trend,onChange:this.props.onChange,help:"Show trend information for this number."}),a.default.createElement(n.Input,{key:"lowerIsBetter",type:"checkbox",id:"count-lower-is-better",name:"lower_is_better",label:"Lower is better",disabled:!1===this.props.config.trend,checked:this.props.config.lower_is_better,onChange:this.props.onChange,help:"Use green colour when trend goes down."}))}});exports.default=r,e.exports=exports.default},1344:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var i=t(2),a=function(e){return e&&e.__esModule?e:{default:e}}(i),n=t(43),r=t(1035),s=a.default.createClass({displayName:"CountWidgetEditConfiguration",propTypes:{config:i.PropTypes.object.isRequired,onChange:i.PropTypes.func.isRequired,showQueryConfig:i.PropTypes.bool},getDefaultProps:function(){return{showQueryConfig:!0}},render:function(){return a.default.createElement("fieldset",null,this.props.showQueryConfig&&a.default.createElement(r.QueryConfiguration,this.props),a.default.createElement(n.Input,{key:"trend",type:"checkbox",id:"count-trend",name:"trend",label:"Display trend",defaultChecked:this.props.config.trend,onChange:this.props.onChange,help:"Show trend information for this number."}),a.default.createElement(n.Input,{key:"lowerIsBetter",type:"checkbox",id:"count-lower-is-better",name:"lower_is_better",label:"Lower is better",disabled:!1===this.props.config.trend,defaultChecked:this.props.config.lower_is_better,onChange:this.props.onChange,help:"Use green colour when trend goes down."}))}});exports.default=s,e.exports=exports.default},1345:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(43),s=t(1035),o=t(18),l=i(o),d=l.default.getStore("FieldGraphs"),u=n.default.createClass({displayName:"FieldChartWidgetConfiguration",propTypes:{config:a.PropTypes.object.isRequired,onChange:a.PropTypes.func.isRequired},render:function(){return n.default.createElement("fieldset",null,n.default.createElement(s.QueryConfiguration,this.props),n.default.createElement(r.Input,{key:"fieldChartStatisticalFunction",id:"chart-statistical-function",name:"valuetype",type:"select",label:"Statistical function",defaultValue:this.props.config.valuetype,onChange:this.props.onChange,help:"Statistical function applied to the data."},d.constructor.FUNCTIONS.keySeq().map(function(e){return n.default.createElement("option",{key:e,value:e},d.constructor.FUNCTIONS.get(e))})))}});exports.default=u,e.exports=exports.default},1346:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var i=t(2),a=function(e){return e&&e.__esModule?e:{default:e}}(i),n=t(43),r=a.default.createClass({displayName:"QueryConfiguration",propTypes:{config:i.PropTypes.object.isRequired,onChange:i.PropTypes.func.isRequired},render:function(){return a.default.createElement(n.Input,{type:"text",key:"query",id:"query",name:"query",label:"Search query",defaultValue:this.props.config.query,onChange:this.props.onChange,help:"Search query that will be executed to get the widget value."})}});exports.default=r,e.exports=exports.default},1347:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var i=t(2),a=function(e){return e&&e.__esModule?e:{default:e}}(i),n=t(43),r=a.default.createClass({displayName:"QuickValuesWidgetCreateConfiguration",propTypes:{config:i.PropTypes.object.isRequired,onChange:i.PropTypes.func.isRequired},getInitialConfiguration:function(){return{show_pie_chart:!0,show_data_table:!0}},render:function(){return a.default.createElement("fieldset",null,a.default.createElement(n.Input,{key:"showPieChart",type:"checkbox",id:"quickvalues-show-pie-chart",name:"show_pie_chart",label:"Show pie chart",checked:this.props.config.show_pie_chart,onChange:this.props.onChange,help:"Include a pie chart representation of the data."}),a.default.createElement(n.Input,{key:"showDataTable",type:"checkbox",id:"quickvalues-show-data-table",name:"show_data_table",label:"Show data table",checked:this.props.config.show_data_table,onChange:this.props.onChange,help:"Include a table with quantitative information."}))}});exports.default=r,e.exports=exports.default},1348:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var i=t(2),a=function(e){return e&&e.__esModule?e:{default:e}}(i),n=t(43),r=t(1035),s=a.default.createClass({displayName:"QuickValuesWidgetEditConfiguration",propTypes:{config:i.PropTypes.object.isRequired,onChange:i.PropTypes.func.isRequired},render:function(){return a.default.createElement("fieldset",null,a.default.createElement(r.QueryConfiguration,this.props),a.default.createElement(n.Input,{key:"showPieChart",type:"checkbox",id:"quickvalues-show-pie-chart",name:"show_pie_chart",label:"Show pie chart",defaultChecked:this.props.config.show_pie_chart,onChange:this.props.onChange,help:"Represent data in a pie chart"}),a.default.createElement(n.Input,{key:"showDataTable",type:"checkbox",id:"quickvalues-show-data-table",name:"show_data_table",label:"Show data table",defaultChecked:this.props.config.show_data_table,onChange:this.props.onChange,help:"Include a table with quantitative information."}))}});exports.default=s,e.exports=exports.default},1349:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(43),s=(t(1181),t(259)),o=i(s),l=t(950),d=i(l),u=t(18),c=i(u),f=c.default.getStore("FieldGraphs"),h=n.default.createClass({displayName:"StackedChartWidgetConfiguration",propTypes:{config:a.PropTypes.object.isRequired,onChange:a.PropTypes.func.isRequired},_setSeriesSetting:function(e,t,i){var a=o.default.clone(this.props.config.series);a[e][t]=i,this.props.onChange("series",a)},_bindSeriesValue:function(e){this._setSeriesSetting(e.target.getAttribute("data-series"),e.target.name,d.default.getValueFromInput(e.target))},render:function(){var e=this,t=[];return this.props.config.series.forEach(function(i){var a=e.props.config.series.indexOf(i);t.push(n.default.createElement("fieldset",{key:"series"+a},n.default.createElement("legend",null,"Series #",a+1),n.default.createElement(r.Input,{type:"text",id:"series-"+a+"-field",name:"field",label:"Field","data-series":a,defaultValue:i.field,onChange:e._bindSeriesValue,help:"Field used to get the series value.",required:!0}),n.default.createElement(r.Input,{type:"text",id:"series-"+a+"-query",name:"query",label:"Search query","data-series":a,defaultValue:i.query,onChange:e._bindSeriesValue,help:"Search query that will be executed to get the series value."}),n.default.createElement(r.Input,{type:"select",id:"series-"+a+"-statistical-function",name:"statistical_function",label:"Statistical function","data-series":a,defaultValue:i.statistical_function,onChange:e._bindSeriesValue,help:"Statistical function applied to the series."},f.constructor.FUNCTIONS.keySeq().map(function(e){return n.default.createElement("option",{key:e,value:e},f.constructor.FUNCTIONS.get(e))}))))},this),n.default.createElement("fieldset",null,t)}});exports.default=h,e.exports=exports.default},1350:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},n=t(2),r=i(n),s=t(43),o=t(951),l=i(o),d=t(1035),u=t(18),c=i(u),f=c.default.getStore("FieldStatistics"),h=r.default.createClass({displayName:"StatisticalCountWidgetCreateConfiguration",propTypes:{config:n.PropTypes.object.isRequired,fields:n.PropTypes.array.isRequired,onChange:n.PropTypes.func.isRequired},getInitialState:function(){return{sortedFields:this._sortFields(this.props.fields),sortedStatisticalFunctions:this._sortStatisticalFunctions(f.FUNCTIONS.keySeq().toJS())}},componentWillReceiveProps:function(e){this.props.fields!==e.fields&&this.setState({sortedFields:this._sortFields(e.fields)})},_sortFields:function(e){return e.sort(function(e,t){return(0,l.default)(e.toLowerCase(),t.toLowerCase())})},_sortStatisticalFunctions:function(e){return e.sort()},getInitialConfiguration:function(){var e=this.refs.countConfiguration.getInitialConfiguration(),t={};return Object.keys(e).forEach(function(i){return t[i]=e[i]}),t.field=this.state.sortedFields[0],t.stats_function=this.state.sortedStatisticalFunctions[0],t},render:function(){return r.default.createElement("fieldset",null,r.default.createElement(s.Input,{key:"field",type:"select",id:"stats-count-field",name:"field",label:"Field name",help:"Select the field name you want to use in the widget.",value:this.props.config.field,onChange:this.props.onChange},this.state.sortedFields.map(function(e){return r.default.createElement("option",{key:e,value:e},e)})),r.default.createElement(s.Input,{key:"stats_function",type:"select",id:"stats-count-function",name:"stats_function",label:"Statistical function",help:"Select the statistical function to use in the widget.",value:this.props.config.stats_function,onChange:this.props.onChange},this.state.sortedStatisticalFunctions.map(function(e){return r.default.createElement("option",{key:e,value:e},f.FUNCTIONS.get(e))})),r.default.createElement(d.CountWidgetCreateConfiguration,a({ref:"countConfiguration"},this.props)))}});exports.default=h,e.exports=exports.default},1351:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},n=t(2),r=i(n),s=t(43),o=t(1035),l=t(18),d=i(l),u=d.default.getStore("FieldStatistics"),c=r.default.createClass({displayName:"StatisticalCountWidgetConfiguration",propTypes:{config:n.PropTypes.object.isRequired,onChange:n.PropTypes.func.isRequired},render:function(){var e="stddev"===this.props.config.stats_function?"std_deviation":this.props.config.stats_function;return r.default.createElement("fieldset",null,r.default.createElement(o.QueryConfiguration,this.props),r.default.createElement(s.Input,{key:"statsCountStatisticalFunction",type:"select",id:"count-statistical-function",name:"stats_function",label:"Statistical function",defaultValue:e,onChange:this.props.onChange,help:"Statistical function applied to the data."},u.FUNCTIONS.keySeq().sort().map(function(e){return r.default.createElement("option",{key:e,value:e},u.FUNCTIONS.get(e))})),r.default.createElement(o.CountWidgetEditConfiguration,a({},this.props,{showQueryConfig:!1})))}});exports.default=c,e.exports=exports.default},1352:function(e,exports,t){"use strict";var i=t(258),a=t(1336),n=t(1035);i.PluginStore.register(new i.PluginManifest({},{widgets:[{type:"SEARCH_RESULT_COUNT",displayName:"Search result count",defaultHeight:1,defaultWidth:1,visualizationComponent:a.NumericVisualization,configurationCreateComponent:n.CountWidgetCreateConfiguration,configurationEditComponent:n.CountWidgetEditConfiguration},{type:"STREAM_SEARCH_RESULT_COUNT",displayName:"Stream search result count",defaultHeight:1,defaultWidth:1,visualizationComponent:a.NumericVisualization,configurationCreateComponent:n.CountWidgetCreateConfiguration,configurationEditComponent:n.CountWidgetEditConfiguration},{type:"STATS_COUNT",displayName:"Statistical value",defaultHeight:1,defaultWidth:1,visualizationComponent:a.NumericVisualization,configurationCreateComponent:n.StatisticalCountWidgetCreateConfiguration,configurationEditComponent:n.StatisticalCountWidgetEditConfiguration},{type:"SEARCH_RESULT_CHART",displayName:"Search result graph",defaultHeight:1,defaultWidth:2,visualizationComponent:a.HistogramVisualization},{type:"QUICKVALUES",displayName:"Quick values",defaultHeight:3,defaultWidth:1,visualizationComponent:a.QuickValuesVisualization,configurationCreateComponent:n.QuickValuesWidgetCreateConfiguration,configurationEditComponent:n.QuickValuesWidgetEditConfiguration},{type:"FIELD_CHART",displayName:"Field graph",defaultHeight:1,defaultWidth:2,visualizationComponent:a.GraphVisualization,configurationEditComponent:n.FieldChartWidgetConfiguration},{type:"STACKED_CHART",displayName:"Stacked graph",defaultHeight:1,defaultWidth:2,visualizationComponent:a.StackedGraphVisualization,configurationEditComponent:n.StackedChartWidgetConfiguration}]}))},1353:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(12),n=i(a),r=t(120),s=i(r),o=t(49),l=i(o),d=t(1354),u=i(d),c=t(280),f=(i(c),t(281)),h=(i(f),t(115)),p=i(h),g={_histogram:[],_histogramContainer:(0,n.default)("#result-graph"),_yAxis:(0,n.default)("#y_axis"),_graphTimeline:(0,n.default)("#result-graph-timeline"),_annotator:void 0,_resultHistogramGraph:void 0,_getHistogramContainerWidth:function(){return this._histogramContainer.width()},resetContainerElements:function(e){this._resultHistogramGraph=void 0,this._histogramContainer=(0,n.default)("#result-graph",e),this._yAxis=(0,n.default)("#y_axis",e),this._graphTimeline=(0,n.default)("#result-graph-timeline",e)},setData:function(e,t){this._histogram=e,this._stream=t},drawResultGraph:function(){if(0!==this._histogramContainer.length&&void 0===this._resultHistogramGraph){this._histogramContainer.html(""),this._yAxis.html(""),this._graphTimeline.html("");var e=(0,n.default)(".date-histogram-res-selector.selected-resolution").data("resolution"),t=new s.default.Graph({element:this._histogramContainer[0],width:this._getHistogramContainerWidth(),height:120,renderer:"bar",resolution:e,series:[{name:"Messages",data:this._histogram,color:"#26ADE4"}]});new s.default.Graph.Axis.Y({graph:t,tickFormat:s.default.Fixtures.Number.formatKMBT,orientation:"left",element:this._yAxis[0],pixelsPerTick:30}),void 0!=t.series&&void 0!=t.series[0]&&t.series[0].data.length>1&&new s.default.Graph.Axis.Time({graph:t,ticksTreatment:"glow",timeFixture:new s.default.Fixtures.Graylog2Time}),new s.default.Graph.HoverDetail({graph:t,formatter:function(e,t,i){var a=new l.default(1e3*t).toString(l.default.Formats.COMPLETE),n='<span class="date">'+a+"</span>";return(0,p.default)(parseInt(i)).format("0,0")+" messages<br>"+n},xFormatter:function(e){return new Date(1e3*e).toDateString()}}),new s.default.Graph.Graylog2Selector({graph:t}),this._annotator=new s.default.Graph.Annotate({graph:t,element:this._graphTimeline[0]}),u.default.fillAlertAnnotator(this._histogram,this._stream,this._annotator),t.render(),this._resultHistogramGraph=t}},updateData:function(e){this._histogram.length>0&&void 0!==this._resultHistogramGraph&&(this._histogram=e,this._resultHistogramGraph.series[0].data=e,this._resetAlertAnnotator(),this._resultHistogramGraph.update())},_resetAlertAnnotator:function(){var e=(0,n.default)(".content",this._graphTimeline);u.default.fillAlertAnnotator(this._histogram,this._stream,this._annotator,function(){e.remove()})},redrawResultGraph:function(){this._histogram.length>0&&void 0!==this._resultHistogramGraph&&(this._resultHistogramGraph.configure({width:this._getHistogramContainerWidth()}),this._resultHistogramGraph.render())}};exports.default=g,e.exports=exports.default},1354:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(7),n=i(a),r=t(18),s=i(r),o=t(49),l=i(o),d=n.default.getActions("Alerts"),u=(s.default.getStore("Alerts"),s.default.getStore("Streams")),c={streams:[],initialize:function(){var e=this;u.listStreams().then(function(t){e.streams=t})},fillAlertAnnotator:function(e,t,i,a){var n=this;if(e&&e[0]&&e[0].x){var r=e[0].x,s=void 0;s=t?d.list.triggerPromise(t,r):d.listAllStreams.triggerPromise(r),s.then(function(e){n._addAnnotations(e.alerts,i),"function"==typeof a&&a()})}},_addAnnotations:function(e,t){var i=this;e.length>0&&!this.streams&&console.warn("Could not resolve stream names on alert annotations: stream list was not loaded."),e.forEach(function(e){var a=l.default.fromUTCDateTime(e.triggered_at).toMoment().unix();t.add(a,i._getAlertAnnotation(e)),t.update()})},_getAlertAnnotation:function(e){var t=void 0;return this.streams&&(t=this.streams.filter(function(t){return t.id===e.stream_id})[0]),t=t||{title:"Undefined"},"<i class='fa fa-warning'></i> Stream \""+t.title+'" triggered an alert: '+e.description}};c.initialize(),exports.default=c,e.exports=exports.default},1357:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(1),s=i(r),o=t(1265),l=i(o),d=t(260),u=i(d),c=t(1253),f=i(c);t(1492),t(1491),t(1489),t(1490);var h=t(18),p=i(h),g=p.default.getStore("CurrentUser"),m=n.default.createClass({displayName:"App",propTypes:{children:a.PropTypes.oneOfType([a.PropTypes.arrayOf(a.PropTypes.element),a.PropTypes.element]).isRequired,location:a.PropTypes.object.isRequired},mixins:[s.default.connect(g)],render:function(){return this.state.currentUser?n.default.createElement("div",null,n.default.createElement(l.default,{requestPath:this.props.location.pathname,fullName:this.state.currentUser.full_name,loginName:this.state.currentUser.username,permissions:this.state.currentUser.permissions}),n.default.createElement("div",{id:"scroll-to-hint",style:{display:"none"},className:"alpha80"},n.default.createElement("i",{className:"fa fa-arrow-up"})),this.props.children,n.default.createElement(f.default,null)):n.default.createElement(u.default,null)}});exports.default=m,e.exports=exports.default},1358:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(273),s=t(258),o=t(1357),l=i(o),d=t(1359),u=i(d),c=t(1360),f=i(c),h=t(166),p=i(h),g=t(4),m=i(g),_=t(75),y=i(_),v=t(1480),x=i(v),S=t(1213),b=i(S),w=t(1476),T=i(w),E=t(1484),P=i(E),A=t(1441),C=i(A),O=t(1474),R=i(O),N=t(1439),M=i(N),L=t(1440),I=i(L),k=t(1468),D=i(k),F=t(1469),V=i(F),G=t(1448),j=i(G),H=t(1481),z=i(H),B=t(1482),U=i(B),W=t(1483),X=i(W),q=t(1447),Y=i(q),Q=t(1475),K=i(Q),J=t(1479),Z=i(J),ee=t(1462),te=i(ee),ie=t(1470),ae=i(ie),ne=t(1453),re=i(ne),se=t(1445),oe=i(se),le=t(1449),de=i(le),ue=t(1456),ce=i(ue),fe=t(1452),he=i(fe),pe=t(1485),ge=i(pe),me=t(1473),_e=i(me),ye=t(1444),ve=i(ye),xe=t(1451),Se=i(xe),be=t(1488),we=i(be),Te=t(1446),Ee=i(Te),Pe=t(1450),Ae=i(Pe),Ce=t(1455),Oe=i(Ce),Re=t(1486),Ne=i(Re),Me=t(1460),Le=i(Me),Ie=t(1461),ke=i(Ie),De=t(1467),Fe=i(De),Ve=t(1454),Ge=i(Ve),je=t(1477),He=i(je),ze=t(1478),Be=i(ze),Ue=t(1471),We=i(Ue),Xe=t(1487),qe=i(Xe),Ye=t(1443),Qe=i(Ye),Ke=t(1472),Je=i(Ke),Ze=t(1442),$e=i(Ze),et=t(1459),tt=i(et),it=t(1457),at=i(it),nt=t(1458),rt=i(nt),st=t(1465),ot=i(st),lt=t(1463),dt=i(lt),ut=t(1464),ct=i(ut),ft=n.default.createClass({displayName:"AppRouter",render:function(){var e=s.PluginStore.exports("routes").map(function(e){return n.default.createElement(r.Route,{key:e.component.displayName,path:m.default.appPrefixed(e.path),component:e.component})});return n.default.createElement(r.Router,{history:p.default},n.default.createElement(r.Route,{path:y.default.STARTPAGE,component:l.default},n.default.createElement(r.IndexRoute,{component:x.default}),n.default.createElement(r.Route,{component:u.default},n.default.createElement(r.Route,{path:y.default.SEARCH,component:b.default}),n.default.createElement(r.Route,{path:y.default.message_show(":index",":messageId"),component:T.default}),n.default.createElement(r.Route,{path:y.default.SOURCES,component:Z.default}),n.default.createElement(r.Route,{path:y.default.stream_search(":streamId"),component:X.default}),n.default.createElement(r.Redirect,{from:y.default.legacy_stream_search(":streamId"),to:y.default.stream_search(":streamId")})),n.default.createElement(r.Route,{component:f.default},n.default.createElement(r.Route,{path:y.default.GETTING_STARTED,component:Ge.default}),n.default.createElement(r.Route,{path:y.default.STREAMS,component:P.default}),n.default.createElement(r.Route,{path:y.default.stream_edit(":streamId"),component:z.default}),n.default.createElement(r.Route,{path:y.default.stream_outputs(":streamId"),component:U.default}),n.default.createElement(r.Route,{path:y.default.ALERTS.LIST,component:C.default}),n.default.createElement(r.Route,{path:y.default.ALERTS.CONDITIONS,component:M.default}),n.default.createElement(r.Route,{path:y.default.ALERTS.NEW_CONDITION,component:D.default}),n.default.createElement(r.Route,{path:y.default.ALERTS.NOTIFICATIONS,component:I.default}),n.default.createElement(r.Route,{path:y.default.ALERTS.NEW_NOTIFICATION,component:V.default}),n.default.createElement(r.Route,{path:y.default.show_alert_condition(":streamId",":conditionId"),component:j.default}),n.default.createElement(r.Route,{path:y.default.show_alert(":alertId"),component:R.default}),n.default.createElement(r.Route,{path:y.default.DASHBOARDS,component:Y.default}),n.default.createElement(r.Route,{path:y.default.dashboard_show(":dashboardId"),component:K.default}),n.default.createElement(r.Route,{path:y.default.SYSTEM.INPUTS,component:te.default}),n.default.createElement(r.Route,{path:y.default.node_inputs(":nodeId"),component:ae.default}),n.default.createElement(r.Route,{path:y.default.global_input_extractors(":inputId"),component:re.default}),n.default.createElement(r.Route,{path:y.default.local_input_extractors(":nodeId",":inputId"),component:re.default}),n.default.createElement(r.Route,{path:y.default.new_extractor(":nodeId",":inputId"),component:oe.default}),n.default.createElement(r.Route,{path:y.default.edit_extractor(":nodeId",":inputId",":extractorId"),component:de.default}),n.default.createElement(r.Route,{path:y.default.import_extractors(":nodeId",":inputId"),component:ce.default}),n.default.createElement(r.Route,{path:y.default.export_extractors(":nodeId",":inputId"),component:he.default}),n.default.createElement(r.Route,{path:y.default.SYSTEM.CONFIGURATIONS,component:Qe.default}),n.default.createElement(r.Route,{path:y.default.SYSTEM.CONTENTPACKS.LIST,component:ve.default}),n.default.createElement(r.Route,{path:y.default.SYSTEM.CONTENTPACKS.EXPORT,component:Se.default}),n.default.createElement(r.Route,{path:y.default.SYSTEM.GROKPATTERNS,component:Oe.default}),n.default.createElement(r.Route,{path:y.default.SYSTEM.INDICES.LIST,component:ke.default}),n.default.createElement(r.Route,{path:y.default.SYSTEM.INDEX_SETS.CREATE,component:rt.default}),n.default.createElement(r.Route,{path:y.default.SYSTEM.INDEX_SETS.SHOW(":indexSetId"),component:tt.default}),n.default.createElement(r.Route,{path:y.default.SYSTEM.INDEX_SETS.CONFIGURATION(":indexSetId"),component:at.default}),n.default.createElement(r.Route,{path:y.default.SYSTEM.INDICES.FAILURES,component:Le.default}),n.default.createElement(r.Route,{path:y.default.SYSTEM.LOOKUPTABLES.OVERVIEW,component:ot.default}),n.default.createElement(r.Route,{path:y.default.SYSTEM.LOOKUPTABLES.CREATE,component:ot.default,action:"create"}),n.default.createElement(r.Route,{path:y.default.SYSTEM.LOOKUPTABLES.show(":tableName"),component:ot.default,action:"show"}),n.default.createElement(r.Route,{path:y.default.SYSTEM.LOOKUPTABLES.edit(":tableName"),component:ot.default,action:"edit"}),n.default.createElement(r.Route,{path:y.default.SYSTEM.LOOKUPTABLES.CACHES.OVERVIEW,component:dt.default}),n.default.createElement(r.Route,{path:y.default.SYSTEM.LOOKUPTABLES.CACHES.CREATE,component:dt.default,action:"create"}),n.default.createElement(r.Route,{path:y.default.SYSTEM.LOOKUPTABLES.CACHES.show(":cacheName"),component:dt.default,action:"show"}),n.default.createElement(r.Route,{path:y.default.SYSTEM.LOOKUPTABLES.CACHES.edit(":cacheName"),component:dt.default,action:"edit"}),n.default.createElement(r.Route,{path:y.default.SYSTEM.LOOKUPTABLES.DATA_ADAPTERS.OVERVIEW,component:ct.default}),n.default.createElement(r.Route,{path:y.default.SYSTEM.LOOKUPTABLES.DATA_ADAPTERS.CREATE,component:ct.default,action:"create"}),n.default.createElement(r.Route,{path:y.default.SYSTEM.LOOKUPTABLES.DATA_ADAPTERS.show(":adapterName"),component:ct.default,action:"show"}),n.default.createElement(r.Route,{path:y.default.SYSTEM.LOOKUPTABLES.DATA_ADAPTERS.edit(":adapterName"),component:ct.default,action:"edit"}),n.default.createElement(r.Route,{path:y.default.SYSTEM.LOGGING,component:Fe.default}),n.default.createElement(r.Route,{path:y.default.SYSTEM.METRICS(":nodeId"),component:He.default}),n.default.createElement(r.Route,{path:y.default.SYSTEM.NODES.LIST,component:We.default}),n.default.createElement(r.Route,{path:y.default.SYSTEM.NODES.SHOW(":nodeId"),component:Be.default}),n.default.createElement(r.Route,{path:y.default.SYSTEM.OUTPUTS,component:ge.default}),n.default.createElement(r.Route,{path:y.default.SYSTEM.AUTHENTICATION.OVERVIEW,component:$e.default},n.default.createElement(r.IndexRoute,{component:we.default}),n.default.createElement(r.Route,{path:y.default.SYSTEM.AUTHENTICATION.USERS.LIST,component:we.default}),n.default.createElement(r.Route,{path:y.default.SYSTEM.AUTHENTICATION.USERS.CREATE,component:Ee.default}),n.default.createElement(r.Route,{path:y.default.SYSTEM.AUTHENTICATION.USERS.edit(":username"),component:Ae.default}),n.default.createElement(r.Route,{path:y.default.SYSTEM.AUTHENTICATION.ROLES,component:_e.default}),n.default.createElement(r.Route,{path:y.default.SYSTEM.AUTHENTICATION.PROVIDERS.CONFIG}),n.default.createElement(r.Route,{path:y.default.SYSTEM.AUTHENTICATION.PROVIDERS.provider(":name")})),n.default.createElement(r.Route,{path:y.default.SYSTEM.OVERVIEW,component:Ne.default}),n.default.createElement(r.Route,{path:y.default.SYSTEM.THREADDUMP(":nodeId"),component:qe.default}),e,n.default.createElement(r.Route,{path:"*",component:Je.default}))))}});exports.default=ft,e.exports=exports.default},1359:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(1),s=i(r),o=t(15),l=t(48),d=t(1201),u=i(d),c=t(75),f=i(c),h=t(18),p=i(h),g=t(7),m=i(g),_=p.default.getStore("CurrentUser"),y=p.default.getStore("Search"),v=p.default.getStore("SavedSearches"),x=p.default.getStore("Streams"),S=p.default.getStore("Configurations"),b=m.default.getActions("SavedSearches"),w=m.default.getActions("Configuration"),T=n.default.createClass({displayName:"AppWithSearchBar",propTypes:{children:a.PropTypes.element.isRequired,location:a.PropTypes.object,params:a.PropTypes.object},mixins:[s.default.connect(_),s.default.connect(v),s.default.connect(S)],getInitialState:function(){return{forceFetch:!1,savedSearches:void 0,stream:void 0,searchesClusterConfig:void 0}},componentDidMount:function(){b.list.triggerPromise(),w.listSearchesClusterConfig(),this._loadStream(this.props.params.streamId)},componentWillReceiveProps:function(e){this._loadStream(e.params.streamId)},componentWillUnmount:function(){y.unload()},_resetForceFetch:function(){this.setState({forceFetch:!1})},_loadStream:function(e){var t=this;e?x.get(e,function(e){return t.setState({stream:e},t._updateSearchParams)}):this.setState({stream:void 0},this._updateSearchParams)},_updateSearchParams:function(){y.searchInStream=this.state.stream,y.load(),this.refs.searchBar&&this.refs.searchBar.reload()},_isLoading:function(){return!this.state.savedSearches||!this.state.searchesClusterConfig||this.props.params.streamId&&!this.state.stream},_decorateChildren:function(e){var t=this;return n.default.Children.map(e,function(e){return n.default.cloneElement(e,{searchConfig:t.state.searchesClusterConfig,forceFetch:t.state.forceFetch})})},_searchBarShouldDisplayRefreshControls:function(){return this.props.location.pathname!==f.default.SOURCES},_onExecuteSearch:function(){this.setState({forceFetch:!0},this._resetForceFetch)},render:function(){return this._isLoading()?n.default.createElement(l.Spinner,null):(y.load(),y.initializeFieldsFromHash(),n.default.createElement("div",{className:"container-fluid"},n.default.createElement(u.default,{ref:"searchBar",userPreferences:this.state.currentUser.preferences,savedSearches:this.state.savedSearches,config:this.state.searchesClusterConfig,displayRefreshControls:this._searchBarShouldDisplayRefreshControls(),onExecuteSearch:this._onExecuteSearch}),n.default.createElement(o.Row,{id:"main-row"},n.default.createElement(o.Col,{md:12,id:"main-content"},this._decorateChildren(this.props.children)))))}});exports.default=T,e.exports=exports.default},1360:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var i=t(2),a=function(e){return e&&e.__esModule?e:{default:e}}(i),n=t(15),r=a.default.createClass({displayName:"AppWithoutSearchBar",propTypes:{children:i.PropTypes.oneOfType([i.PropTypes.arrayOf(i.PropTypes.element),i.PropTypes.element]).isRequired},render:function(){return a.default.createElement("div",{className:"container-fluid"},a.default.createElement(n.Row,{id:"main-row"},a.default.createElement(n.Col,{md:12,id:"main-content"},this.props.children)))}});exports.default=r,e.exports=exports.default},1361:function(e,exports,t){"use strict";var i=t(18),a=i.getStore("Fields"),n=t(1207),r=t(1363),s=t(1362),$=t(12),o=(t(171),function(){function e(e){this.queryInputContainer=e,this.fieldsPromise=a.loadFields(),this.limit=10,this.displayKey="value",this.typeAheadConfig={hint:!0,highlight:!0,minLength:1},this.typeAheadSource={name:"fields",displayKey:this.displayKey,source:this.codeCompletionProvider.bind(this),templates:{suggestion:function(e){return"<p><strong>"+e.prefix+"</strong>"+e.match.substring(0,e.match.indexOf(e.currentSegment))+"<strong>"+e.currentSegment+"</strong>"+e.match.substring(e.match.indexOf(e.currentSegment)+e.currentSegment.length)+"</p>"}}}}return e.prototype.display=function(){var e=this;this.fieldsPromise.then(function(t){e.fields=t,$(e.queryInputContainer).typeahead(e.typeAheadConfig,e.typeAheadSource)})},e.prototype._value=function(){return $(this.queryInputContainer).typeahead("val")},e.prototype.update=function(e){this._value()!==e&&$(this.queryInputContainer).typeahead("val",e)},e.prototype.codeCompletionProvider=function(e,t){var i="",a=[],s=[],o=new n.QueryParser(e),l=o.parse(),d=new r;d.visit(l);var u=d.result();if(0===u.length)s=s.concat(this.fieldsCompletions()),s=s.concat(this.unaryOperatorsCompletions());else{var c=u[u.length-1],f=u[u.length-2],h=u[u.length-3],p=u[0],g=this.splitQuery(l,c);if(e=g.current,i=g.prefix,c instanceof n.TermAST){s=s.concat(this.fieldsCompletions());if(!(f instanceof n.ModifierAST)){if(u.length>1&&!(f instanceof n.ExpressionAST)){var m=!(f instanceof n.ModifierAST&&f.isNOTModifier());s=s.concat(this.binaryOperatorsCompletions(m))}s=s.concat(this.unaryOperatorsCompletions())}}var _=!(h instanceof n.MissingAST||p instanceof n.ExpressionAST);if(c instanceof n.MissingAST&&_){var y=i.charAt(i.length-1),v=i.trim().charAt(i.trim().length-1);" "!==y&&-1===["+","-","!"].indexOf(v)&&(i+=" "),s=s.concat(this.fieldsCompletions()),s=s.concat(this.unaryOperatorsCompletions())}}this.filterCompletionMatches(i,e,s,a,{prefixOnly:!0}),this.filterCompletionMatches(i,e,s,a),t(a)},e.prototype.splitQuery=function(e,t){var i=new s;i.visit(t);var a=i.result(),n=new s(t);return n.visit(e),{current:a,prefix:n.result()}},e.prototype.fieldsCompletions=function(){var e=[];return this.fields.forEach(function(t){e.push(t+":"),e.push("_exists_:"+t),e.push("_missing_:"+t)}),e},e.prototype.unaryOperatorsCompletions=function(){return["+","-","!","NOT"]},e.prototype.binaryOperatorsCompletions=function(e){var t=[];return t.push("&&","AND"),e&&t.push("!","NOT"),t.push("||","OR"),t},e.prototype.filterCompletionMatches=function(e,t,i,a,n){var r=this;i.forEach(function(i){var s=n&&n.prefixOnly?0===i.indexOf(t):-1!==i.indexOf(t)&&0!==i.indexOf(t);if(a.length<r.limit&&s){var o={value:(e+i).trim(),match:i,currentSegment:t,prefix:e};a.push(o)}})},e}());e.exports=o},1362:function(e,exports,t){"use strict";var i=function(e,t){function i(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},a=t(1208),n=function(e){function t(){for(var t=[],i=0;i<arguments.length;i++)t[i-0]=arguments[i];e.call(this),this.buffer=[],this.skipASTs=[],this.skipASTs=t}return i(t,e),t.prototype.visit=function(t){-1===this.skipASTs.indexOf(t)&&e.prototype.visit.call(this,t)},t.prototype.visitMissingAST=function(e){this.dumpPrefix(e),this.dumpSuffix(e)},t.prototype.visitTermAST=function(e){this.dumpWithPrefixAndSuffix(e)},t.prototype.visitTermWithFieldAST=function(e){this.dumpWithPrefixAndSuffixWithField(e)},t.prototype.visitModifierAST=function(e){this.dumpHidden(e.hiddenModifierPrefix),this.dumpToken(e.modifier),this.dumpHidden(e.hiddenModifierSuffix),this.visit(e.right)},t.prototype.visitExpressionAST=function(e){this.dumpPrefix(e),this.visit(e.left),this.dumpHidden(e.hiddenOpPrefix),this.dumpToken(e.op),this.dumpHidden(e.hiddenOpSuffix),this.visit(e.right),this.dumpSuffix(e)},t.prototype.visitExpressionListAST=function(e){var t=this;this.dumpPrefix(e),e.expressions.forEach(function(e){return t.visit(e)}),this.dumpSuffix(e)},t.prototype.dumpWithPrefixAndSuffix=function(e){this.dumpPrefix(e),this.dumpToken(e.term),this.dumpSuffix(e)},t.prototype.dumpWithPrefixAndSuffixWithField=function(e){this.dumpPrefix(e),this.dumpToken(e.field),this.dumpHidden(e.hiddenColonPrefix),this.dumpToken(e.colon),this.dumpHidden(e.hiddenColonSuffix),this.dumpToken(e.term),this.dumpSuffix(e)},t.prototype.dumpSuffix=function(e){this.dumpHidden(e.hiddenSuffix)},t.prototype.dumpHidden=function(e){var t=this;e.forEach(function(e){return t.dumpToken(e)})},t.prototype.dumpPrefix=function(e){this.dumpHidden(e.hiddenPrefix)},t.prototype.dumpToken=function(e){null!==e&&this.buffer.push(e.asString())},t.prototype.result=function(){return this.buffer.join("")},t}(a);e.exports=n},1363:function(e,exports,t){"use strict";var i=function(e,t){function i(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},a=t(1208),n=function(e){function t(){e.apply(this,arguments),this.serializedAST=[]}return i(t,e),t.prototype.visitMissingAST=function(e){this.serialize(e)},t.prototype.visitTermAST=function(e){this.serialize(e)},t.prototype.visitTermWithFieldAST=function(e){this.serialize(e)},t.prototype.visitModifierAST=function(e){this.serialize(e),this.visit(e.right)},t.prototype.visitExpressionAST=function(e){this.visit(e.left),this.serialize(e),this.visit(e.right)},t.prototype.visitExpressionListAST=function(e){var t=this;this.serialize(e),e.expressions.forEach(function(e){return t.visit(e)})},t.prototype.result=function(){return this.serializedAST},t.prototype.serialize=function(e){this.serializedAST.push(e)},t}(a);e.exports=n},1391:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(1358),s=i(r),o=n.default.createClass({displayName:"LoggedInPage",render:function(){return n.default.createElement(s.default,null)}});exports.default=o,e.exports=exports.default},1416:function(e,exports){+function($){"use strict";function e(e){return this.each(function(){var i=$(this),a=i.data("bs.affix"),n="object"==typeof e&&e;a||i.data("bs.affix",a=new t(this,n)),"string"==typeof e&&a[e]()})}var t=function(e,i){this.options=$.extend({},t.DEFAULTS,i),this.$target=$(this.options.target).on("scroll.bs.affix.data-api",$.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",$.proxy(this.checkPositionWithEventLoop,this)),this.$element=$(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};t.VERSION="3.3.6",t.RESET="affix affix-top affix-bottom",t.DEFAULTS={offset:0,target:window},t.prototype.getState=function(e,t,i,a){var n=this.$target.scrollTop(),r=this.$element.offset(),s=this.$target.height();if(null!=i&&"top"==this.affixed)return n<i&&"top";if("bottom"==this.affixed)return null!=i?!(n+this.unpin<=r.top)&&"bottom":!(n+s<=e-a)&&"bottom";var o=null==this.affixed,l=o?n:r.top,d=o?s:t;return null!=i&&n<=i?"top":null!=a&&l+d>=e-a&&"bottom"},t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var e=this.$target.scrollTop(),i=this.$element.offset();return this.pinnedOffset=i.top-e},t.prototype.checkPositionWithEventLoop=function(){setTimeout($.proxy(this.checkPosition,this),1)},t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),i=this.options.offset,a=i.top,n=i.bottom,r=Math.max($(document).height(),$(document.body).height());"object"!=typeof i&&(n=a=i),"function"==typeof a&&(a=i.top(this.$element)),"function"==typeof n&&(n=i.bottom(this.$element));var s=this.getState(r,e,a,n);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var o="affix"+(s?"-"+s:""),l=$.Event(o+".bs.affix");if(this.$element.trigger(l),l.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(t.RESET).addClass(o).trigger(o.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:r-e-n})}};var i=$.fn.affix;$.fn.affix=e,$.fn.affix.Constructor=t,$.fn.affix.noConflict=function(){return $.fn.affix=i,this},$(window).on("load",function(){$('[data-spy="affix"]').each(function(){var t=$(this),i=t.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),e.call(t,i)})})}(jQuery)},1417:function(e,exports,t){!function(t,i){e.exports=i()}(0,function(){"use strict";function e(e,t){function i(e,t){e.attr("transform",function(e){return"translate("+Math.ceil(t(e)+S)+", 0)"})}function a(e,t){e.attr("transform",function(e){return"translate(0,"+Math.ceil(t(e))+")"})}function n(e){var t=e[0],i=e[e.length-1];return t<i?[t,i]:[i,t]}function r(e){var t,i,a=[];if(e.ticks)return e.ticks.apply(e,p);for(i=e.domain(),t=Math.ceil(i[0]);t<i[1];t++)a.push(t);return a.length>0&&a[0]>0&&a.unshift(a[0]-(a[1]-a[0])),a}function o(){var e,i=m.copy();return t.isCategory&&(e=m.domain(),i.domain([e[0],e[1]-1])),i}function l(e){var t=h?h(e):e;return void 0!==t?t:""}function d(e){if(s)return s;var t={h:11.5,w:5.5};return e.select("text").text(l).each(function(e){var i=this.getBoundingClientRect(),a=l(e),n=i.height,r=a?i.width/a.length:void 0;n&&r&&(t.h=n,t.w=r)}).text(""),s=t,t}function u(i){return t.withoutTransition?i:e.transition(i)}function c(s){s.each(function(){function s(e,i){function a(e,t){r=void 0;for(var o=1;o<t.length;o++)if(" "===t.charAt(o)&&(r=o),n=t.substr(0,o+1),s=z.w*n.length,i<s)return a(e.concat(t.substr(0,r||o)),t.slice(r?r+1:o));return e.concat(t)}var n,r,s,o=l(e),d=[];return"[object Array]"===Object.prototype.toString.call(o)?o:((!i||i<=0)&&(i=W?95:t.isCategory?Math.ceil(A(C[1])-A(C[0]))-12:110),a(d,o+""))}function h(e,t){var i=z.h;return 0===t&&(i="left"===_||"right"===_?-((B[e.index]-1)*(z.h/2)-3):".71em"),i}function p(e){var t=m(e)+(g?0:S);return L[0]<t&&t<L[1]?y:0}var b,w,T,E=c.g=e.select(this),P=this.__chart__||m,A=this.__chart__=o(),C=x||r(A),O=E.selectAll(".tick").data(C,A),R=O.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),N=O.exit().remove(),M=u(O).style("opacity",1),L=m.rangeExtent?m.rangeExtent():n(m.range()),I=E.selectAll(".domain").data([0]),k=(I.enter().append("path").attr("class","domain"),u(I));R.append("line"),R.append("text");var D=R.select("line"),F=M.select("line"),V=R.select("text"),G=M.select("text");t.isCategory?(S=Math.ceil((A(1)-A(0))/2),w=g?0:S,T=g?S:0):S=w=0;var j,H,z=d(E.select(".tick")),B=[],U=Math.max(y,0)+v,W="left"===_||"right"===_;j=O.select("text"),H=j.selectAll("tspan").data(function(e,i){var a=t.tickMultiline?s(e,t.tickWidth):[].concat(l(e));return B[i]=a.length,a.map(function(e){return{index:i,splitted:e}})}),H.enter().append("tspan"),H.exit().remove(),H.text(function(e){return e.splitted});var X=t.tickTextRotate;switch(_){case"bottom":b=i,D.attr("y2",y),V.attr("y",U),F.attr("x1",w).attr("x2",w).attr("y2",p),G.attr("x",0).attr("y",function(e){return e?11.5-e/15*2.5*(e>0?1:-1):U}(X)).style("text-anchor",function(e){return e?e>0?"start":"end":"middle"}(X)).attr("transform",function(e){return e?"rotate("+e+")":""}(X)),H.attr("x",0).attr("dy",h).attr("dx",function(e){return e?8*Math.sin(Math.PI*(e/180)):0}(X)),k.attr("d","M"+L[0]+","+f+"V0H"+L[1]+"V"+f);break;case"top":b=i,D.attr("y2",-y),V.attr("y",-U),F.attr("x2",0).attr("y2",-y),G.attr("x",0).attr("y",-U),j.style("text-anchor","middle"),H.attr("x",0).attr("dy","0em"),k.attr("d","M"+L[0]+","+-f+"V0H"+L[1]+"V"+-f);break;case"left":b=a,D.attr("x2",-y),V.attr("x",-U),F.attr("x2",-y).attr("y1",T).attr("y2",T),G.attr("x",-U).attr("y",S),j.style("text-anchor","end"),H.attr("x",-U).attr("dy",h),k.attr("d","M"+-f+","+L[0]+"H0V"+L[1]+"H"+-f);break;case"right":b=a,D.attr("x2",y),V.attr("x",U),F.attr("x2",y).attr("y2",0),G.attr("x",U).attr("y",0),j.style("text-anchor","start"),H.attr("x",U).attr("dy",h),k.attr("d","M"+f+","+L[0]+"H0V"+L[1]+"H"+f)}if(A.rangeBand){var q=A,Y=q.rangeBand()/2;P=A=function(e){return q(e)+Y}}else P.rangeBand?P=A:N.call(b,A);R.call(b,P),M.call(b,A)})}var f,h,p,g,m=e.scale.linear(),_="bottom",y=6,v=3,x=null,S=0,b=!0;return t=t||{},f=t.withOuterTick?6:0,c.scale=function(e){return arguments.length?(m=e,c):m},c.orient=function(e){return arguments.length?(_=e in{top:1,right:1,bottom:1,left:1}?e+"":"bottom",c):_},c.tickFormat=function(e){return arguments.length?(h=e,c):h},c.tickCentered=function(e){return arguments.length?(g=e,c):g},c.tickOffset=function(){return S},c.tickInterval=function(){var e,i;return t.isCategory?e=2*S:(i=c.g.select("path.domain").node().getTotalLength()-2*f,e=i/c.g.selectAll("line").size()),e===1/0?0:e},c.ticks=function(){return arguments.length?(p=arguments,c):p},c.tickCulling=function(e){return arguments.length?(b=e,c):b},c.tickValues=function(e){if("function"==typeof e)x=function(){return e(m.domain())};else{if(!arguments.length)return x;x=e}return c},c}function i(e){a.call(this,e)}function a(e){this.owner=e}function n(e){var t=this.internal=new r(this);t.loadConfig(e),t.beforeInit(e),t.init(),t.afterInit(e),function e(t,i,a){Object.keys(t).forEach(function(n){i[n]=t[n].bind(a),Object.keys(t[n]).length>0&&e(t[n],i[n],a)})}(w,this,this)}function r(e){var i=this;i.d3=window.d3?window.d3:t(76),i.api=e,i.config=i.getDefaultConfig(),i.data={},i.cache={},i.axes={}}var s,o={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},l=function(e){return e||0===e},d=function(e){return"function"==typeof e},u=function(e){return Array.isArray(e)},c=function(e){return"string"==typeof e},f=function(e){return void 0===e},h=function(e){return void 0!==e},p=function(e){return 10*Math.ceil(e/10)},g=function(e){return Math.ceil(e)+.5},m=function(e){return e[1]-e[0]},_=function(e){return void 0===e||null===e||c(e)&&0===e.length||"object"==typeof e&&0===Object.keys(e).length},y=function(e){return!T.isEmpty(e)},v=function(e,t,i){return h(e[t])?e[t]:i},x=function(e,t){var i=!1;return Object.keys(e).forEach(function(a){e[a]===t&&(i=!0)}),i},S=function(e){return"string"==typeof e?e.replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},b=function(e){var t=e.getBoundingClientRect(),i=[e.pathSegList.getItem(0),e.pathSegList.getItem(1)];return{x:i[0].x,y:Math.min(i[0].y,i[1].y),width:t.width,height:t.height}};!function(e,t){if(Object.create)t.prototype=Object.create(e.prototype);else{var i=function(){};i.prototype=e.prototype,t.prototype=new i}t.prototype.constructor=t}(a,i),i.prototype.init=function(){var e=this.owner,t=e.config,i=e.main;e.axes.x=i.append("g").attr("class",o.axis+" "+o.axisX).attr("clip-path",e.clipPathForXAxis).attr("transform",e.getTranslate("x")).style("visibility",t.axis_x_show?"visible":"hidden"),e.axes.x.append("text").attr("class",o.axisXLabel).attr("transform",t.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),e.axes.y=i.append("g").attr("class",o.axis+" "+o.axisY).attr("clip-path",t.axis_y_inner?"":e.clipPathForYAxis).attr("transform",e.getTranslate("y")).style("visibility",t.axis_y_show?"visible":"hidden"),e.axes.y.append("text").attr("class",o.axisYLabel).attr("transform",t.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),e.axes.y2=i.append("g").attr("class",o.axis+" "+o.axisY2).attr("transform",e.getTranslate("y2")).style("visibility",t.axis_y2_show?"visible":"hidden"),e.axes.y2.append("text").attr("class",o.axisY2Label).attr("transform",t.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},i.prototype.getXAxis=function(t,i,a,n,r,s,o){var l=this.owner,d=l.config,u={isCategory:l.isCategorized(),withOuterTick:r,tickMultiline:d.axis_x_tick_multiline,tickWidth:d.axis_x_tick_width,tickTextRotate:o?0:d.axis_x_tick_rotate,withoutTransition:s},c=e(l.d3,u).scale(t).orient(i);return l.isTimeSeries()&&n&&"function"!=typeof n&&(n=n.map(function(e){return l.parseDate(e)})),c.tickFormat(a).tickValues(n),l.isCategorized()&&(c.tickCentered(d.axis_x_tick_centered),_(d.axis_x_tick_culling)&&(d.axis_x_tick_culling=!1)),c},i.prototype.updateXAxisTickValues=function(e,t){var i,a=this.owner,n=a.config;return(n.axis_x_tick_fit||n.axis_x_tick_count)&&(i=this.generateTickValues(a.mapTargetsToUniqueXs(e),n.axis_x_tick_count,a.isTimeSeries())),t?t.tickValues(i):(a.xAxis.tickValues(i),a.subXAxis.tickValues(i)),i},i.prototype.getYAxis=function(t,i,a,n,r,s,o){var l=this.owner,d=l.config,u={withOuterTick:r,withoutTransition:s,tickTextRotate:o?0:d.axis_y_tick_rotate},c=e(l.d3,u).scale(t).orient(i).tickFormat(a);return l.isTimeSeriesY()?c.ticks(l.d3.time[d.axis_y_tick_time_value],d.axis_y_tick_time_interval):c.tickValues(n),c},i.prototype.getId=function(e){var t=this.owner.config;return e in t.data_axes?t.data_axes[e]:"y"},i.prototype.getXAxisTickFormat=function(){var e=this.owner,t=e.config,i=e.isTimeSeries()?e.defaultAxisTimeFormat:e.isCategorized()?e.categoryName:function(e){return e<0?e.toFixed(0):e};return t.axis_x_tick_format&&(d(t.axis_x_tick_format)?i=t.axis_x_tick_format:e.isTimeSeries()&&(i=function(i){return i?e.axisTimeFormat(t.axis_x_tick_format)(i):""})),d(i)?function(t){return i.call(e,t)}:i},i.prototype.getTickValues=function(e,t){return e||(t?t.tickValues():void 0)},i.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},i.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},i.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},i.prototype.getLabelOptionByAxisId=function(e){var t,i=this.owner,a=i.config;return"y"===e?t=a.axis_y_label:"y2"===e?t=a.axis_y2_label:"x"===e&&(t=a.axis_x_label),t},i.prototype.getLabelText=function(e){var t=this.getLabelOptionByAxisId(e);return c(t)?t:t?t.text:null},i.prototype.setLabelText=function(e,t){var i=this.owner,a=i.config,n=this.getLabelOptionByAxisId(e);c(n)?"y"===e?a.axis_y_label=t:"y2"===e?a.axis_y2_label=t:"x"===e&&(a.axis_x_label=t):n&&(n.text=t)},i.prototype.getLabelPosition=function(e,t){var i=this.getLabelOptionByAxisId(e),a=i&&"object"==typeof i&&i.position?i.position:t;return{isInner:a.indexOf("inner")>=0,isOuter:a.indexOf("outer")>=0,isLeft:a.indexOf("left")>=0,isCenter:a.indexOf("center")>=0,isRight:a.indexOf("right")>=0,isTop:a.indexOf("top")>=0,isMiddle:a.indexOf("middle")>=0,isBottom:a.indexOf("bottom")>=0}},i.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},i.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},i.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},i.prototype.getLabelPositionById=function(e){return"y2"===e?this.getY2AxisLabelPosition():"y"===e?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},i.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},i.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},i.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},i.prototype.xForAxisLabel=function(e,t){var i=this.owner;return e?t.isLeft?0:t.isCenter?i.width/2:i.width:t.isBottom?-i.height:t.isMiddle?-i.height/2:0},i.prototype.dxForAxisLabel=function(e,t){return e?t.isLeft?"0.5em":t.isRight?"-0.5em":"0":t.isTop?"-0.5em":t.isBottom?"0.5em":"0"},i.prototype.textAnchorForAxisLabel=function(e,t){return e?t.isLeft?"start":t.isCenter?"middle":"end":t.isBottom?"start":t.isMiddle?"middle":"end"},i.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},i.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},i.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},i.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},i.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},i.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},i.prototype.dyForXAxisLabel=function(){var e=this.owner,t=e.config,i=this.getXAxisLabelPosition();return t.axis_rotated?i.isInner?"1.2em":-25-this.getMaxTickWidth("x"):i.isInner?"-0.5em":t.axis_x_height?t.axis_x_height-10:"3em"},i.prototype.dyForYAxisLabel=function(){var e=this.owner,t=this.getYAxisLabelPosition();return e.config.axis_rotated?t.isInner?"-0.5em":"3em":t.isInner?"1.2em":-10-(e.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},i.prototype.dyForY2AxisLabel=function(){var e=this.owner,t=this.getY2AxisLabelPosition();return e.config.axis_rotated?t.isInner?"1.2em":"-2.2em":t.isInner?"-0.5em":15+(e.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},i.prototype.textAnchorForXAxisLabel=function(){var e=this.owner;return this.textAnchorForAxisLabel(!e.config.axis_rotated,this.getXAxisLabelPosition())},i.prototype.textAnchorForYAxisLabel=function(){var e=this.owner;return this.textAnchorForAxisLabel(e.config.axis_rotated,this.getYAxisLabelPosition())},i.prototype.textAnchorForY2AxisLabel=function(){var e=this.owner;return this.textAnchorForAxisLabel(e.config.axis_rotated,this.getY2AxisLabelPosition())},i.prototype.getMaxTickWidth=function(e,t){var i,a,n,r,s,o=this.owner,l=o.config,d=0;return t&&o.currentMaxTickWidths[e]?o.currentMaxTickWidths[e]:(o.svg&&(i=o.filterTargetsToShow(o.data.targets),"y"===e?(a=o.y.copy().domain(o.getYDomain(i,"y")),n=this.getYAxis(a,o.yOrient,l.axis_y_tick_format,o.yAxisTickValues,!1,!0,!0)):"y2"===e?(a=o.y2.copy().domain(o.getYDomain(i,"y2")),n=this.getYAxis(a,o.y2Orient,l.axis_y2_tick_format,o.y2AxisTickValues,!1,!0,!0)):(a=o.x.copy().domain(o.getXDomain(i)),n=this.getXAxis(a,o.xOrient,o.xAxisTickFormat,o.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(i,n)),r=o.d3.select("body").append("div").classed("c3",!0),s=r.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),s.append("g").call(n).each(function(){o.d3.select(this).selectAll("text").each(function(){var e=this.getBoundingClientRect();d<e.width&&(d=e.width)}),r.remove()})),o.currentMaxTickWidths[e]=d<=0?o.currentMaxTickWidths[e]:d,o.currentMaxTickWidths[e])},i.prototype.updateLabels=function(e){var t=this.owner,i=t.main.select("."+o.axisX+" ."+o.axisXLabel),a=t.main.select("."+o.axisY+" ."+o.axisYLabel),n=t.main.select("."+o.axisY2+" ."+o.axisY2Label);(e?i.transition():i).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(e?a.transition():a).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(e?n.transition():n).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},i.prototype.getPadding=function(e,t,i,a){var n="number"==typeof e?e:e[t];return l(n)?"ratio"===e.unit?e[t]*a:this.convertPixelsToAxisPadding(n,a):i},i.prototype.convertPixelsToAxisPadding=function(e,t){var i=this.owner;return t*(e/(i.config.axis_rotated?i.width:i.height))},i.prototype.generateTickValues=function(e,t,i){var a,n,r,s,o,l,u,c=e;if(t)if(1===(a=d(t)?t():t))c=[e[0]];else if(2===a)c=[e[0],e[e.length-1]];else if(a>2){for(s=a-2,n=e[0],r=e[e.length-1],o=(r-n)/(s+1),c=[n],l=0;l<s;l++)u=+n+o*(l+1),c.push(i?new Date(u):u);c.push(r)}return i||(c=c.sort(function(e,t){return e-t})),c},i.prototype.generateTransitions=function(e){var t=this.owner,i=t.axes;return{axisX:e?i.x.transition().duration(e):i.x,axisY:e?i.y.transition().duration(e):i.y,axisY2:e?i.y2.transition().duration(e):i.y2,axisSubX:e?i.subx.transition().duration(e):i.subx}},i.prototype.redraw=function(e,t){var i=this.owner;i.axes.x.style("opacity",t?0:1),i.axes.y.style("opacity",t?0:1),i.axes.y2.style("opacity",t?0:1),i.axes.subx.style("opacity",t?0:1),e.axisX.call(i.xAxis),e.axisY.call(i.yAxis),e.axisY2.call(i.y2Axis),e.axisSubX.call(i.subXAxis)};var w,T,E={version:"0.4.14"};return E.generate=function(e){return new n(e)},E.chart={fn:n.prototype,internal:{fn:r.prototype,axis:{fn:i.prototype}}},w=E.chart.fn,T=E.chart.internal.fn,E.chart.internal.axis.fn,T.beforeInit=function(){},T.afterInit=function(){},T.init=function(){var e=this,t=e.config;if(e.initParams(),t.data_url)e.convertUrlToData(t.data_url,t.data_mimeType,t.data_headers,t.data_keys,e.initWithData);else if(t.data_json)e.initWithData(e.convertJsonToData(t.data_json,t.data_keys));else if(t.data_rows)e.initWithData(e.convertRowsToData(t.data_rows));else{if(!t.data_columns)throw Error("url or json or rows or columns is required.");e.initWithData(e.convertColumnsToData(t.data_columns))}},T.initParams=function(){var e=this,t=e.d3,i=e.config;e.clipId="c3-"+ +new Date+"-clip",e.clipIdForXAxis=e.clipId+"-xaxis",e.clipIdForYAxis=e.clipId+"-yaxis",e.clipIdForGrid=e.clipId+"-grid",e.clipIdForSubchart=e.clipId+"-subchart",e.clipPath=e.getClipPath(e.clipId),e.clipPathForXAxis=e.getClipPath(e.clipIdForXAxis),e.clipPathForYAxis=e.getClipPath(e.clipIdForYAxis),e.clipPathForGrid=e.getClipPath(e.clipIdForGrid),e.clipPathForSubchart=e.getClipPath(e.clipIdForSubchart),e.dragStart=null,e.dragging=!1,e.flowing=!1,e.cancelClick=!1,e.mouseover=!1,e.transiting=!1,e.color=e.generateColor(),e.levelColor=e.generateLevelColor(),e.dataTimeFormat=i.data_xLocaltime?t.time.format:t.time.format.utc,e.axisTimeFormat=i.axis_x_localtime?t.time.format:t.time.format.utc,e.defaultAxisTimeFormat=e.axisTimeFormat.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%-m/%-d",function(e){return e.getDay()&&1!==e.getDate()}],["%-m/%-d",function(e){return 1!==e.getDate()}],["%-m/%-d",function(e){return e.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),e.hiddenTargetIds=[],e.hiddenLegendIds=[],e.focusedTargetIds=[],e.defocusedTargetIds=[],e.xOrient=i.axis_rotated?"left":"bottom",e.yOrient=i.axis_rotated?i.axis_y_inner?"top":"bottom":i.axis_y_inner?"right":"left",e.y2Orient=i.axis_rotated?i.axis_y2_inner?"bottom":"top":i.axis_y2_inner?"left":"right",e.subXOrient=i.axis_rotated?"left":"bottom",e.isLegendRight="right"===i.legend_position,e.isLegendInset="inset"===i.legend_position,e.isLegendTop="top-left"===i.legend_inset_anchor||"top-right"===i.legend_inset_anchor,e.isLegendLeft="top-left"===i.legend_inset_anchor||"bottom-left"===i.legend_inset_anchor,e.legendStep=0,e.legendItemWidth=0,e.legendItemHeight=0,e.currentMaxTickWidths={x:0,y:0,y2:0},e.rotated_padding_left=30,e.rotated_padding_right=i.axis_rotated&&!i.axis_x_show?0:30,e.rotated_padding_top=5,e.withoutFadeIn={},e.intervalForObserveInserted=void 0,e.axes.subx=t.selectAll([])},T.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},T.initWithData=function(e){var t,a,n=this,r=n.d3,s=n.config,l=!0;n.axis=new i(n),n.initPie&&n.initPie(),n.initBrush&&n.initBrush(),n.initZoom&&n.initZoom(),s.bindto?"function"==typeof s.bindto.node?n.selectChart=s.bindto:n.selectChart=r.select(s.bindto):n.selectChart=r.selectAll([]),n.selectChart.empty()&&(n.selectChart=r.select(document.createElement("div")).style("opacity",0),n.observeInserted(n.selectChart),l=!1),n.selectChart.html("").classed("c3",!0),n.data.xs={},n.data.targets=n.convertDataToTargets(e),s.data_filter&&(n.data.targets=n.data.targets.filter(s.data_filter)),s.data_hide&&n.addHiddenTargetIds(!0===s.data_hide?n.mapToIds(n.data.targets):s.data_hide),s.legend_hide&&n.addHiddenLegendIds(!0===s.legend_hide?n.mapToIds(n.data.targets):s.legend_hide),n.hasType("gauge")&&(s.legend_show=!1),n.updateSizes(),n.updateScales(),n.x.domain(r.extent(n.getXDomain(n.data.targets))),n.y.domain(n.getYDomain(n.data.targets,"y")),n.y2.domain(n.getYDomain(n.data.targets,"y2")),n.subX.domain(n.x.domain()),n.subY.domain(n.y.domain()),n.subY2.domain(n.y2.domain()),n.orgXDomain=n.x.domain(),n.brush&&n.brush.scale(n.subX),s.zoom_enabled&&n.zoom.scale(n.x),n.svg=n.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return s.onmouseover.call(n)}).on("mouseleave",function(){return s.onmouseout.call(n)}),n.config.svg_classname&&n.svg.attr("class",n.config.svg_classname),t=n.svg.append("defs"),n.clipChart=n.appendClip(t,n.clipId),n.clipXAxis=n.appendClip(t,n.clipIdForXAxis),n.clipYAxis=n.appendClip(t,n.clipIdForYAxis),n.clipGrid=n.appendClip(t,n.clipIdForGrid),n.clipSubchart=n.appendClip(t,n.clipIdForSubchart),n.updateSvgSize(),a=n.main=n.svg.append("g").attr("transform",n.getTranslate("main")),n.initSubchart&&n.initSubchart(),n.initTooltip&&n.initTooltip(),n.initLegend&&n.initLegend(),n.initTitle&&n.initTitle(),a.append("text").attr("class",o.text+" "+o.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),n.initRegion(),n.initGrid(),a.append("g").attr("clip-path",n.clipPath).attr("class",o.chart),s.grid_lines_front&&n.initGridLines(),n.initEventRect(),n.initChartElements(),a.insert("rect",s.zoom_privileged?null:"g."+o.regions).attr("class",o.zoomRect).attr("width",n.width).attr("height",n.height).style("opacity",0).on("dblclick.zoom",null),s.axis_x_extent&&n.brush.extent(n.getDefaultExtent()),n.axis.init(),n.updateTargets(n.data.targets),l&&(n.updateDimension(),n.config.oninit.call(n),n.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),n.bindResize(),n.api.element=n.selectChart.node()},T.smoothLines=function(e,t){var i=this;"grid"===t&&e.each(function(){var e=i.d3.select(this),t=e.attr("x1"),a=e.attr("x2"),n=e.attr("y1"),r=e.attr("y2");e.attr({x1:Math.ceil(t),x2:Math.ceil(a),y1:Math.ceil(n),y2:Math.ceil(r)})})},T.updateSizes=function(){var e=this,t=e.config,i=e.legend?e.getLegendHeight():0,a=e.legend?e.getLegendWidth():0,n=e.isLegendRight||e.isLegendInset?0:i,r=e.hasArcType(),s=t.axis_rotated||r?0:e.getHorizontalAxisHeight("x"),o=t.subchart_show&&!r?t.subchart_size_height+s:0;e.currentWidth=e.getCurrentWidth(),e.currentHeight=e.getCurrentHeight(),e.margin=t.axis_rotated?{top:e.getHorizontalAxisHeight("y2")+e.getCurrentPaddingTop(),right:r?0:e.getCurrentPaddingRight(),bottom:e.getHorizontalAxisHeight("y")+n+e.getCurrentPaddingBottom(),left:o+(r?0:e.getCurrentPaddingLeft())}:{top:4+e.getCurrentPaddingTop(),right:r?0:e.getCurrentPaddingRight(),bottom:s+o+n+e.getCurrentPaddingBottom(),left:r?0:e.getCurrentPaddingLeft()},e.margin2=t.axis_rotated?{top:e.margin.top,right:NaN,bottom:20+n,left:e.rotated_padding_left}:{top:e.currentHeight-o-n,right:NaN,bottom:s+n,left:e.margin.left},e.margin3={top:0,right:NaN,bottom:0,left:0},e.updateSizeForLegend&&e.updateSizeForLegend(i,a),e.width=e.currentWidth-e.margin.left-e.margin.right,e.height=e.currentHeight-e.margin.top-e.margin.bottom,e.width<0&&(e.width=0),e.height<0&&(e.height=0),e.width2=t.axis_rotated?e.margin.left-e.rotated_padding_left-e.rotated_padding_right:e.width,e.height2=t.axis_rotated?e.height:e.currentHeight-e.margin2.top-e.margin2.bottom,e.width2<0&&(e.width2=0),e.height2<0&&(e.height2=0),e.arcWidth=e.width-(e.isLegendRight?a+10:0),e.arcHeight=e.height-(e.isLegendRight?0:10),e.hasType("gauge")&&!t.gauge_fullCircle&&(e.arcHeight+=e.height-e.getGaugeLabelHeight()),e.updateRadius&&e.updateRadius(),e.isLegendRight&&r&&(e.margin3.left=e.arcWidth/2+1.1*e.radiusExpanded)},T.updateTargets=function(e){var t=this;t.updateTargetsForText(e),t.updateTargetsForBar(e),t.updateTargetsForLine(e),t.hasArcType()&&t.updateTargetsForArc&&t.updateTargetsForArc(e),t.updateTargetsForSubchart&&t.updateTargetsForSubchart(e),t.showTargets()},T.showTargets=function(){var e=this;e.svg.selectAll("."+o.target).filter(function(t){return e.isTargetToShow(t.id)}).transition().duration(e.config.transition_duration).style("opacity",1)},T.redraw=function(e,t){var i,a,n,r,s,l,d,u,c,f,h,p,g,m,_,y,x,S,b,w,T,E,P,A,C,O,R,N,M,L=this,I=L.main,k=L.d3,D=L.config,F=L.getShapeIndices(L.isAreaType),V=L.getShapeIndices(L.isBarType),G=L.getShapeIndices(L.isLineType),j=L.hasArcType(),H=L.filterTargetsToShow(L.data.targets),z=L.xv.bind(L);if(e=e||{},i=v(e,"withY",!0),a=v(e,"withSubchart",!0),n=v(e,"withTransition",!0),l=v(e,"withTransform",!1),d=v(e,"withUpdateXDomain",!1),u=v(e,"withUpdateOrgXDomain",!1),c=v(e,"withTrimXDomain",!0),g=v(e,"withUpdateXAxis",d),f=v(e,"withLegend",!1),h=v(e,"withEventRect",!0),p=v(e,"withDimension",!0),r=v(e,"withTransitionForExit",n),s=v(e,"withTransitionForAxis",n),b=n?D.transition_duration:0,w=r?b:0,T=s?b:0,t=t||L.axis.generateTransitions(T),f&&D.legend_show?L.updateLegend(L.mapToIds(L.data.targets),e,t):p&&L.updateDimension(!0),L.isCategorized()&&0===H.length&&L.x.domain([0,L.axes.x.selectAll(".tick").size()]),H.length?(L.updateXDomain(H,d,u,c),D.axis_x_tick_values||(A=L.axis.updateXAxisTickValues(H))):(L.xAxis.tickValues([]),L.subXAxis.tickValues([])),D.zoom_rescale&&!e.flow&&(R=L.x.orgDomain()),L.y.domain(L.getYDomain(H,"y",R)),L.y2.domain(L.getYDomain(H,"y2",R)),!D.axis_y_tick_values&&D.axis_y_tick_count&&L.yAxis.tickValues(L.axis.generateTickValues(L.y.domain(),D.axis_y_tick_count)),!D.axis_y2_tick_values&&D.axis_y2_tick_count&&L.y2Axis.tickValues(L.axis.generateTickValues(L.y2.domain(),D.axis_y2_tick_count)),L.axis.redraw(t,j),L.axis.updateLabels(n),(d||g)&&H.length)if(D.axis_x_tick_culling&&A){for(C=1;C<A.length;C++)if(A.length/C<D.axis_x_tick_culling_max){O=C;break}L.svg.selectAll("."+o.axisX+" .tick text").each(function(e){var t=A.indexOf(e);t>=0&&k.select(this).style("display",t%O?"none":"block")})}else L.svg.selectAll("."+o.axisX+" .tick text").style("display","block");m=L.generateDrawArea?L.generateDrawArea(F,!1):void 0,_=L.generateDrawBar?L.generateDrawBar(V):void 0,y=L.generateDrawLine?L.generateDrawLine(G,!1):void 0,x=L.generateXYForText(F,V,G,!0),S=L.generateXYForText(F,V,G,!1),i&&(L.subY.domain(L.getYDomain(H,"y")),L.subY2.domain(L.getYDomain(H,"y2"))),L.updateXgridFocus(),I.select("text."+o.text+"."+o.empty).attr("x",L.width/2).attr("y",L.height/2).text(D.data_empty_label_text).transition().style("opacity",H.length?0:1),L.updateGrid(b),L.updateRegion(b),L.updateBar(w),L.updateLine(w),L.updateArea(w),L.updateCircle(),L.hasDataLabel()&&L.updateText(w),L.redrawTitle&&L.redrawTitle(),L.redrawArc&&L.redrawArc(b,w,l),L.redrawSubchart&&L.redrawSubchart(a,t,b,w,F,V,G),I.selectAll("."+o.selectedCircles).filter(L.isBarType.bind(L)).selectAll("circle").remove(),D.interaction_enabled&&!e.flow&&h&&(L.redrawEventRect(),L.updateZoom&&L.updateZoom()),L.updateCircleY(),N=(L.config.axis_rotated?L.circleY:L.circleX).bind(L),M=(L.config.axis_rotated?L.circleX:L.circleY).bind(L),e.flow&&(P=L.generateFlow({targets:H,flow:e.flow,duration:e.flow.duration,drawBar:_,drawLine:y,drawArea:m,cx:N,cy:M,xv:z,xForText:x,yForText:S})),(b||P)&&L.isTabVisible()?k.transition().duration(b).each(function(){var t=[];[L.redrawBar(_,!0),L.redrawLine(y,!0),L.redrawArea(m,!0),L.redrawCircle(N,M,!0),L.redrawText(x,S,e.flow,!0),L.redrawRegion(!0),L.redrawGrid(!0)].forEach(function(e){e.forEach(function(e){t.push(e)})}),E=L.generateWait(),t.forEach(function(e){E.add(e)})}).call(E,function(){P&&P(),D.onrendered&&D.onrendered.call(L)}):(L.redrawBar(_),L.redrawLine(y),L.redrawArea(m),L.redrawCircle(N,M),L.redrawText(x,S,e.flow),L.redrawRegion(),L.redrawGrid(),D.onrendered&&D.onrendered.call(L)),L.mapToIds(L.data.targets).forEach(function(e){L.withoutFadeIn[e]=!0})},T.updateAndRedraw=function(e){var t,i=this,a=i.config;e=e||{},e.withTransition=v(e,"withTransition",!0),e.withTransform=v(e,"withTransform",!1),e.withLegend=v(e,"withLegend",!1),e.withUpdateXDomain=!0,e.withUpdateOrgXDomain=!0,e.withTransitionForExit=!1,e.withTransitionForTransform=v(e,"withTransitionForTransform",e.withTransition),i.updateSizes(),e.withLegend&&a.legend_show||(t=i.axis.generateTransitions(e.withTransitionForAxis?a.transition_duration:0),i.updateScales(),i.updateSvgSize(),i.transformAll(e.withTransitionForTransform,t)),i.redraw(e,t)},T.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},T.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},T.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},T.isCustomX=function(){var e=this,t=e.config;return!e.isTimeSeries()&&(t.data_x||y(t.data_xs))},T.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},T.getTranslate=function(e){var t,i,a=this,n=a.config;return"main"===e?(t=g(a.margin.left),i=g(a.margin.top)):"context"===e?(t=g(a.margin2.left),i=g(a.margin2.top)):"legend"===e?(t=a.margin3.left,i=a.margin3.top):"x"===e?(t=0,i=n.axis_rotated?0:a.height):"y"===e?(t=0,i=n.axis_rotated?a.height:0):"y2"===e?(t=n.axis_rotated?0:a.width,i=n.axis_rotated?1:0):"subx"===e?(t=0,i=n.axis_rotated?0:a.height2):"arc"===e&&(t=a.arcWidth/2,i=a.arcHeight/2),"translate("+t+","+i+")"},T.initialOpacity=function(e){return null!==e.value&&this.withoutFadeIn[e.id]?1:0},T.initialOpacityForCircle=function(e){return null!==e.value&&this.withoutFadeIn[e.id]?this.opacityForCircle(e):0},T.opacityForCircle=function(e){var t=d(this.config.point_show)?this.config.point_show(e):this.config.point_show,i=t?1:0;return l(e.value)?this.isScatterType(e)?.5:i:0},T.opacityForText=function(){return this.hasDataLabel()?1:0},T.xx=function(e){return e?this.x(e.x):null},T.xv=function(e){var t=this,i=e.value;return t.isTimeSeries()?i=t.parseDate(e.value):t.isCategorized()&&"string"==typeof e.value&&(i=t.config.axis_x_categories.indexOf(e.value)),Math.ceil(t.x(i))},T.yv=function(e){var t=this,i=e.axis&&"y2"===e.axis?t.y2:t.y;return Math.ceil(i(e.value))},T.subxx=function(e){return e?this.subX(e.x):null},T.transformMain=function(e,t){var i,a,n,r=this;t&&t.axisX?i=t.axisX:(i=r.main.select("."+o.axisX),e&&(i=i.transition())),t&&t.axisY?a=t.axisY:(a=r.main.select("."+o.axisY),e&&(a=a.transition())),t&&t.axisY2?n=t.axisY2:(n=r.main.select("."+o.axisY2),e&&(n=n.transition())),(e?r.main.transition():r.main).attr("transform",r.getTranslate("main")),i.attr("transform",r.getTranslate("x")),a.attr("transform",r.getTranslate("y")),n.attr("transform",r.getTranslate("y2")),r.main.select("."+o.chartArcs).attr("transform",r.getTranslate("arc"))},T.transformAll=function(e,t){var i=this;i.transformMain(e,t),i.config.subchart_show&&i.transformContext(e,t),i.legend&&i.transformLegend(e)},T.updateSvgSize=function(){var e=this,t=e.svg.select(".c3-brush .background");e.svg.attr("width",e.currentWidth).attr("height",e.currentHeight),e.svg.selectAll(["#"+e.clipId,"#"+e.clipIdForGrid]).select("rect").attr("width",e.width).attr("height",e.height),e.svg.select("#"+e.clipIdForXAxis).select("rect").attr("x",e.getXAxisClipX.bind(e)).attr("y",e.getXAxisClipY.bind(e)).attr("width",e.getXAxisClipWidth.bind(e)).attr("height",e.getXAxisClipHeight.bind(e)),e.svg.select("#"+e.clipIdForYAxis).select("rect").attr("x",e.getYAxisClipX.bind(e)).attr("y",e.getYAxisClipY.bind(e)).attr("width",e.getYAxisClipWidth.bind(e)).attr("height",e.getYAxisClipHeight.bind(e)),e.svg.select("#"+e.clipIdForSubchart).select("rect").attr("width",e.width).attr("height",t.size()?t.attr("height"):0),e.svg.select("."+o.zoomRect).attr("width",e.width).attr("height",e.height),e.selectChart.style("max-height",e.currentHeight+"px")},T.updateDimension=function(e){var t=this;e||(t.config.axis_rotated?(t.axes.x.call(t.xAxis),t.axes.subx.call(t.subXAxis)):(t.axes.y.call(t.yAxis),t.axes.y2.call(t.y2Axis))),t.updateSizes(),t.updateScales(),t.updateSvgSize(),t.transformAll(!1)},T.observeInserted=function(e){var t,i=this;if("undefined"==typeof MutationObserver)return void window.console.error("MutationObserver not defined.");t=new MutationObserver(function(a){a.forEach(function(a){"childList"===a.type&&a.previousSibling&&(t.disconnect(),i.intervalForObserveInserted=window.setInterval(function(){e.node().parentNode&&(window.clearInterval(i.intervalForObserveInserted),i.updateDimension(),i.brush&&i.brush.update(),i.config.oninit.call(i),i.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),e.transition().style("opacity",1))},10))})}),t.observe(e.node(),{attributes:!0,childList:!0,characterData:!0})},T.bindResize=function(){var e=this,t=e.config;if(e.resizeFunction=e.generateResize(),e.resizeFunction.add(function(){t.onresize.call(e)}),t.resize_auto&&e.resizeFunction.add(function(){void 0!==e.resizeTimeout&&window.clearTimeout(e.resizeTimeout),e.resizeTimeout=window.setTimeout(function(){delete e.resizeTimeout,e.api.flush()},100)}),e.resizeFunction.add(function(){t.onresized.call(e)}),window.attachEvent)window.attachEvent("onresize",e.resizeFunction);else if(window.addEventListener)window.addEventListener("resize",e.resizeFunction,!1);else{var i=window.onresize;i?i.add&&i.remove||(i=e.generateResize(),i.add(window.onresize)):i=e.generateResize(),i.add(e.resizeFunction),window.onresize=i}},T.generateResize=function(){function e(){t.forEach(function(e){e()})}var t=[];return e.add=function(e){t.push(e)},e.remove=function(e){for(var i=0;i<t.length;i++)if(t[i]===e){t.splice(i,1);break}},e},T.endall=function(e,t){var i=0;e.each(function(){++i}).each("end",function(){--i||t.apply(this,arguments)})},T.generateWait=function(){var e=[],t=function(t,i){var a=setInterval(function(){var t=0;e.forEach(function(e){if(e.empty())return void(t+=1);try{e.transition()}catch(e){t+=1}}),t===e.length&&(clearInterval(a),i&&i())},10)};return t.add=function(t){e.push(t)},t},T.parseDate=function(e){var t,i=this;return e instanceof Date?t=e:"string"==typeof e?t=i.dataTimeFormat(i.config.data_xFormat).parse(e):"object"==typeof e?t=new Date(+e):"number"!=typeof e||isNaN(e)||(t=new Date(+e)),t&&!isNaN(+t)||window.console.error("Failed to parse x '"+e+"' to Date object"),t},T.isTabVisible=function(){var e;return void 0!==document.hidden?e="hidden":void 0!==document.mozHidden?e="mozHidden":void 0!==document.msHidden?e="msHidden":void 0!==document.webkitHidden&&(e="webkitHidden"),!document[e]},T.isValue=l,T.isFunction=d,T.isString=c,T.isUndefined=f,T.isDefined=h,T.ceil10=p,T.asHalfPixel=g,T.diffDomain=m,T.isEmpty=_,T.notEmpty=y,T.notEmpty=y,T.getOption=v,T.hasValue=x,T.sanitise=S,T.getPathBox=b,T.CLASS=o,Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),i=this,a=function(){},n=function(){return i.apply(this instanceof a?this:e,t.concat(Array.prototype.slice.call(arguments)))};return a.prototype=this.prototype,n.prototype=new a,n}),function(){"SVGPathSeg"in window||(window.SVGPathSeg=function(e,t,i){this.pathSegType=e,this.pathSegTypeAsLetter=t,this._owningPathSegList=i},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",e)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(e,t,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",e),this._x=t,this._y=i},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(e,t,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",e),this._x=t,this._y=i},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(e,t,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",e),this._x=t,this._y=i},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(e,t,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",e),this._x=t,this._y=i},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(e,t,i,a,n,r,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",e),this._x=t,this._y=i,this._x1=a,this._y1=n,this._x2=r,this._y2=s},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(e,t,i,a,n,r,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",e),this._x=t,this._y=i,this._x1=a,this._y1=n,this._x2=r,this._y2=s},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(e,t,i,a,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",e),this._x=t,this._y=i,this._x1=a,this._y1=n},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(e,t,i,a,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",e),this._x=t,this._y=i,this._x1=a,this._y1=n},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(e,t,i,a,n,r,s,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",e),this._x=t,this._y=i,this._r1=a,this._r2=n,this._angle=r,this._largeArcFlag=s,this._sweepFlag=o},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(e){this._r1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(e){this._r2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(e){this._angle=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(e,t,i,a,n,r,s,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",e),this._x=t,this._y=i,this._r1=a,this._r2=n,this._angle=r,this._largeArcFlag=s,this._sweepFlag=o},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(e){this._r1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(e){this._r2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(e){this._angle=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",e),this._x=t},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",e),this._x=t},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",e),this._y=t},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",e),this._y=t},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(e,t,i,a,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",e),this._x=t,this._y=i,this._x2=a,this._y2=n},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(e,t,i,a,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",e),this._x=t,this._y=i,this._x2=a,this._y2=n},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(e,t,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",e),this._x=t,this._y=i},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(e,t,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",e),this._x=t,this._y=i},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(e,t){return new window.SVGPathSegMovetoAbs(void 0,e,t)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(e,t){return new window.SVGPathSegMovetoRel(void 0,e,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(e,t){return new window.SVGPathSegLinetoAbs(void 0,e,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(e,t){return new window.SVGPathSegLinetoRel(void 0,e,t)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(e,t,i,a,n,r){return new window.SVGPathSegCurvetoCubicAbs(void 0,e,t,i,a,n,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(e,t,i,a,n,r){return new window.SVGPathSegCurvetoCubicRel(void 0,e,t,i,a,n,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(e,t,i,a){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,e,t,i,a)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(e,t,i,a){return new window.SVGPathSegCurvetoQuadraticRel(void 0,e,t,i,a)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(e,t,i,a,n,r,s){return new window.SVGPathSegArcAbs(void 0,e,t,i,a,n,r,s)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(e,t,i,a,n,r,s){return new window.SVGPathSegArcRel(void 0,e,t,i,a,n,r,s)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(e){return new window.SVGPathSegLinetoHorizontalAbs(void 0,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(e){return new window.SVGPathSegLinetoHorizontalRel(void 0,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(e){return new window.SVGPathSegLinetoVerticalAbs(void 0,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(e){return new window.SVGPathSegLinetoVerticalRel(void 0,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(e,t,i,a){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,e,t,i,a)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(e,t,i,a){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,e,t,i,a)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(e,t){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,e,t)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(e,t){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,e,t)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(e){if(void 0===e||!isFinite(e))throw"Invalid arguments.";var t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d",this.getAttribute("d"));var i=t.pathSegList.numberOfItems-1;if(i<=0)return 0;do{if(t.pathSegList.removeItem(i),e>t.getTotalLength())break;i--}while(i>0);return i})),"SVGPathSegList"in window||(window.SVGPathSegList=function(e){this._pathElement=e,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(e){if(this._pathElement){var t=!1;e.forEach(function(e){"d"==e.attributeName&&(t=!0)}),t&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(e){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(e){e._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(e){return this._checkPathSynchronizedToList(),this._list=[e],e._owningPathSegList=this,this._writeListToPath(),e},window.SVGPathSegList.prototype._checkValidIndex=function(e){if(isNaN(e)||e<0||e>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(e){return this._checkPathSynchronizedToList(),this._checkValidIndex(e),this._list[e]},window.SVGPathSegList.prototype.insertItemBefore=function(e,t){return this._checkPathSynchronizedToList(),t>this.numberOfItems&&(t=this.numberOfItems),e._owningPathSegList&&(e=e.clone()),this._list.splice(t,0,e),e._owningPathSegList=this,this._writeListToPath(),e},window.SVGPathSegList.prototype.replaceItem=function(e,t){return this._checkPathSynchronizedToList(),e._owningPathSegList&&(e=e.clone()),this._checkValidIndex(t),this._list[t]=e,e._owningPathSegList=this,this._writeListToPath(),e},window.SVGPathSegList.prototype.removeItem=function(e){this._checkPathSynchronizedToList(),this._checkValidIndex(e);var t=this._list[e];return this._list.splice(e,1),this._writeListToPath(),t},window.SVGPathSegList.prototype.appendItem=function(e){return this._checkPathSynchronizedToList(),e._owningPathSegList&&(e=e.clone()),this._list.push(e),e._owningPathSegList=this,this._writeListToPath(),e},window.SVGPathSegList._pathSegArrayAsString=function(e){var t="",i=!0;return e.forEach(function(e){i?(i=!1,t+=e._asPathString()):t+=" "+e._asPathString()}),t},window.SVGPathSegList.prototype._parsePath=function(e){if(!e||0==e.length)return[];var t=this,i=function(){this.pathSegList=[]};i.prototype.appendSegment=function(e){this.pathSegList.push(e)};var a=function(e){this._string=e,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};a.prototype._isCurrentSpace=function(){var e=this._string[this._currentIndex];return e<=" "&&(" "==e||"\n"==e||"\t"==e||"\r"==e||"\f"==e)},a.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},a.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},a.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},a.prototype.peekSegmentType=function(){var e=this._string[this._currentIndex];return this._pathSegTypeFromChar(e)},a.prototype._pathSegTypeFromChar=function(e){switch(e){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},a.prototype._nextCommandHelper=function(e,t){return("+"==e||"-"==e||"."==e||e>="0"&&e<="9")&&t!=window.SVGPathSeg.PATHSEG_CLOSEPATH?t==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:t==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:t:window.SVGPathSeg.PATHSEG_UNKNOWN},a.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var e=this.peekSegmentType();return e==window.SVGPathSeg.PATHSEG_MOVETO_ABS||e==window.SVGPathSeg.PATHSEG_MOVETO_REL},a.prototype._parseNumber=function(){var e=0,t=0,i=1,a=0,n=1,r=1,s=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,n=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&"."!=this._string.charAt(this._currentIndex))){for(var o=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=o)for(var l=this._currentIndex-1,d=1;l>=o;)t+=d*(this._string.charAt(l--)-"0"),d*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(++this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)i*=10,a+=(this._string.charAt(this._currentIndex)-"0")/i,this._currentIndex+=1}if(this._currentIndex!=s&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,r=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)e*=10,e+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var u=t+a;if(u*=n,e&&(u*=Math.pow(10,r*e)),s!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),u}},a.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var e=!1,t=this._string.charAt(this._currentIndex++);if("0"==t)e=!1;else{if("1"!=t)return;e=!0}return this._skipOptionalSpacesOrDelimiter(),e}},a.prototype.parseSegment=function(){var e=this._string[this._currentIndex],i=this._pathSegTypeFromChar(e);if(i==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN)return null;if((i=this._nextCommandHelper(e,this._previousCommand))==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=i,i){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(t,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(t,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(t,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(t,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(t,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(t,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(t,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(t,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(t);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var a={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(t,a.x,a.y,a.x1,a.y1,a.x2,a.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var a={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicAbs(t,a.x,a.y,a.x1,a.y1,a.x2,a.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var a={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothRel(t,a.x,a.y,a.x2,a.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var a={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothAbs(t,a.x,a.y,a.x2,a.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var a={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticRel(t,a.x,a.y,a.x1,a.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var a={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticAbs(t,a.x,a.y,a.x1,a.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(t,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(t,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:var a={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcRel(t,a.x,a.y,a.x1,a.y1,a.arcAngle,a.arcLarge,a.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:var a={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcAbs(t,a.x,a.y,a.x1,a.y1,a.arcAngle,a.arcLarge,a.arcSweep);default:throw"Unknown path seg type."}};var n=new i,r=new a(e);if(!r.initialCommandIsMoveTo())return[];for(;r.hasMoreData();){var s=r.parseSegment();if(!s)return[];n.appendSegment(s)}return n.pathSegList})}(),w.axis=function(){},w.axis.labels=function(e){var t=this.internal;arguments.length&&(Object.keys(e).forEach(function(i){t.axis.setLabelText(i,e[i])}),t.axis.updateLabels())},w.axis.max=function(e){var t=this.internal,i=t.config;if(!arguments.length)return{x:i.axis_x_max,y:i.axis_y_max,y2:i.axis_y2_max};"object"==typeof e?(l(e.x)&&(i.axis_x_max=e.x),l(e.y)&&(i.axis_y_max=e.y),l(e.y2)&&(i.axis_y2_max=e.y2)):i.axis_y_max=i.axis_y2_max=e,t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},w.axis.min=function(e){var t=this.internal,i=t.config;if(!arguments.length)return{x:i.axis_x_min,y:i.axis_y_min,y2:i.axis_y2_min};"object"==typeof e?(l(e.x)&&(i.axis_x_min=e.x),l(e.y)&&(i.axis_y_min=e.y),l(e.y2)&&(i.axis_y2_min=e.y2)):i.axis_y_min=i.axis_y2_min=e,t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},w.axis.range=function(e){if(!arguments.length)return{max:this.axis.max(),min:this.axis.min()};h(e.max)&&this.axis.max(e.max),h(e.min)&&this.axis.min(e.min)},w.category=function(e,t){var i=this.internal,a=i.config;return arguments.length>1&&(a.axis_x_categories[e]=t,i.redraw()),a.axis_x_categories[e]},w.categories=function(e){var t=this.internal,i=t.config;return arguments.length?(i.axis_x_categories=e,t.redraw(),i.axis_x_categories):i.axis_x_categories},w.resize=function(e){var t=this.internal,i=t.config;i.size_width=e?e.width:null,i.size_height=e?e.height:null,this.flush()},w.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},w.destroy=function(){var e=this.internal;if(window.clearInterval(e.intervalForObserveInserted),void 0!==e.resizeTimeout&&window.clearTimeout(e.resizeTimeout),window.detachEvent)window.detachEvent("onresize",e.resizeFunction);else if(window.removeEventListener)window.removeEventListener("resize",e.resizeFunction);else{var t=window.onresize;t&&t.add&&t.remove&&t.remove(e.resizeFunction)}return e.selectChart.classed("c3",!1).html(""),Object.keys(e).forEach(function(t){e[t]=null}),null},w.color=function(e){return this.internal.color(e)},w.data=function(e){var t=this.internal.data.targets;return void 0===e?t:t.filter(function(t){return[].concat(e).indexOf(t.id)>=0})},w.data.shown=function(e){return this.internal.filterTargetsToShow(this.data(e))},w.data.values=function(e){var t,i=null;return e&&(t=this.data(e),i=t[0]?t[0].values.map(function(e){return e.value}):null),i},w.data.names=function(e){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",e)},w.data.colors=function(e){return this.internal.updateDataAttributes("colors",e)},w.data.axes=function(e){return this.internal.updateDataAttributes("axes",e)},w.flow=function(e){var t,i,a,n,r,s,o,d=this.internal,u=[],c=d.getMaxDataCount(),f=0,p=0;if(e.json)i=d.convertJsonToData(e.json,e.keys);else if(e.rows)i=d.convertRowsToData(e.rows);else{if(!e.columns)return;i=d.convertColumnsToData(e.columns)}t=d.convertDataToTargets(i,!0),d.data.targets.forEach(function(e){var i,a,n=!1;for(i=0;i<t.length;i++)if(e.id===t[i].id){for(n=!0,e.values[e.values.length-1]&&(p=e.values[e.values.length-1].index+1),f=t[i].values.length,a=0;a<f;a++)t[i].values[a].index=p+a,d.isTimeSeries()||(t[i].values[a].x=p+a);e.values=e.values.concat(t[i].values),t.splice(i,1);break}n||u.push(e.id)}),d.data.targets.forEach(function(e){var t,i;for(t=0;t<u.length;t++)if(e.id===u[t])for(p=e.values[e.values.length-1].index+1,i=0;i<f;i++)e.values.push({id:e.id,index:p+i,x:d.isTimeSeries()?d.getOtherTargetX(p+i):p+i,value:null})}),d.data.targets.length&&t.forEach(function(e){var t,i=[];for(t=d.data.targets[0].values[0].index;t<p;t++)i.push({id:e.id,index:t,x:d.isTimeSeries()?d.getOtherTargetX(t):t,value:null});e.values.forEach(function(e){e.index+=p,d.isTimeSeries()||(e.x+=p)}),e.values=i.concat(e.values)}),d.data.targets=d.data.targets.concat(t),d.getMaxDataCount(),n=d.data.targets[0],r=n.values[0],h(e.to)?(f=0,o=d.isTimeSeries()?d.parseDate(e.to):e.to,n.values.forEach(function(e){e.x<o&&f++})):h(e.length)&&(f=e.length),c?1===c&&d.isTimeSeries()&&(s=(n.values[n.values.length-1].x-r.x)/2,a=[new Date(+r.x-s),new Date(+r.x+s)],d.updateXDomain(null,!0,!0,!1,a)):(s=d.isTimeSeries()?n.values.length>1?n.values[n.values.length-1].x-r.x:r.x-d.getXDomain(d.data.targets)[0]:1,a=[r.x-s,r.x],d.updateXDomain(null,!0,!0,!1,a)),d.updateTargets(d.data.targets),d.redraw({flow:{index:r.index,length:f,duration:l(e.duration)?e.duration:d.config.transition_duration,done:e.done,orgDataCount:c},withLegend:!0,withTransition:c>1,withTrimXDomain:!1,withUpdateXAxis:!0})},T.generateFlow=function(e){var t=this,i=t.config,a=t.d3;return function(){var n,r,s,l=e.targets,d=e.flow,u=e.drawBar,c=e.drawLine,f=e.drawArea,h=e.cx,p=e.cy,g=e.xv,_=e.xForText,y=e.yForText,v=e.duration,x=1,S=d.index,b=d.length,w=t.getValueOnIndex(t.data.targets[0].values,S),T=t.getValueOnIndex(t.data.targets[0].values,S+b),E=t.x.domain(),P=d.duration||v,A=d.done||function(){},C=t.generateWait(),O=t.xgrid||a.selectAll([]),R=t.xgridLines||a.selectAll([]),N=t.mainRegion||a.selectAll([]),M=t.mainText||a.selectAll([]),L=t.mainBar||a.selectAll([]),I=t.mainLine||a.selectAll([]),k=t.mainArea||a.selectAll([]),D=t.mainCircle||a.selectAll([]);t.flowing=!0,t.data.targets.forEach(function(e){e.values.splice(0,b)}),s=t.updateXDomain(l,!0,!0),t.updateXGrid&&t.updateXGrid(!0),d.orgDataCount?n=1===d.orgDataCount||(w&&w.x)===(T&&T.x)?t.x(E[0])-t.x(s[0]):t.isTimeSeries()?t.x(E[0])-t.x(s[0]):t.x(w.x)-t.x(T.x):1!==t.data.targets[0].values.length?n=t.x(E[0])-t.x(s[0]):t.isTimeSeries()?(w=t.getValueOnIndex(t.data.targets[0].values,0),T=t.getValueOnIndex(t.data.targets[0].values,t.data.targets[0].values.length-1),n=t.x(w.x)-t.x(T.x)):n=m(s)/2,x=m(E)/m(s),r="translate("+n+",0) scale("+x+",1)",t.hideXGridFocus(),a.transition().ease("linear").duration(P).each(function(){C.add(t.axes.x.transition().call(t.xAxis)),C.add(L.transition().attr("transform",r)),C.add(I.transition().attr("transform",r)),C.add(k.transition().attr("transform",r)),C.add(D.transition().attr("transform",r)),C.add(M.transition().attr("transform",r)),C.add(N.filter(t.isRegionOnX).transition().attr("transform",r)),C.add(O.transition().attr("transform",r)),C.add(R.transition().attr("transform",r))}).call(C,function(){var e,a=[],n=[],r=[];if(b){for(e=0;e<b;e++)a.push("."+o.shape+"-"+(S+e)),n.push("."+o.text+"-"+(S+e)),r.push("."+o.eventRect+"-"+(S+e));t.svg.selectAll("."+o.shapes).selectAll(a).remove(),t.svg.selectAll("."+o.texts).selectAll(n).remove(),t.svg.selectAll("."+o.eventRects).selectAll(r).remove(),t.svg.select("."+o.xgrid).remove()}O.attr("transform",null).attr(t.xgridAttr),R.attr("transform",null),R.select("line").attr("x1",i.axis_rotated?0:g).attr("x2",i.axis_rotated?t.width:g),R.select("text").attr("x",i.axis_rotated?t.width:0).attr("y",g),L.attr("transform",null).attr("d",u),I.attr("transform",null).attr("d",c),k.attr("transform",null).attr("d",f),D.attr("transform",null).attr("cx",h).attr("cy",p),M.attr("transform",null).attr("x",_).attr("y",y).style("fill-opacity",t.opacityForText.bind(t)),N.attr("transform",null),N.select("rect").filter(t.isRegionOnX).attr("x",t.regionX.bind(t)).attr("width",t.regionWidth.bind(t)),i.interaction_enabled&&t.redrawEventRect(),A(),t.flowing=!1})}},w.focus=function(e){var t,i=this.internal;e=i.mapToTargetIds(e),t=i.svg.selectAll(i.selectorTargets(e.filter(i.isTargetToShow,i))),this.revert(),this.defocus(),t.classed(o.focused,!0).classed(o.defocused,!1),i.hasArcType()&&i.expandArc(e),i.toggleFocusLegend(e,!0),i.focusedTargetIds=e,i.defocusedTargetIds=i.defocusedTargetIds.filter(function(t){return e.indexOf(t)<0})},w.defocus=function(e){var t,i=this.internal;e=i.mapToTargetIds(e),t=i.svg.selectAll(i.selectorTargets(e.filter(i.isTargetToShow,i))),t.classed(o.focused,!1).classed(o.defocused,!0),i.hasArcType()&&i.unexpandArc(e),i.toggleFocusLegend(e,!1),i.focusedTargetIds=i.focusedTargetIds.filter(function(t){return e.indexOf(t)<0}),i.defocusedTargetIds=e},w.revert=function(e){var t,i=this.internal;e=i.mapToTargetIds(e),t=i.svg.selectAll(i.selectorTargets(e)),t.classed(o.focused,!1).classed(o.defocused,!1),i.hasArcType()&&i.unexpandArc(e),i.config.legend_show&&(i.showLegend(e.filter(i.isLegendToShow.bind(i))),i.legend.selectAll(i.selectorLegends(e)).filter(function(){return i.d3.select(this).classed(o.legendItemFocused)}).classed(o.legendItemFocused,!1)),i.focusedTargetIds=[],i.defocusedTargetIds=[]},w.xgrids=function(e){var t=this.internal,i=t.config;return e?(i.grid_x_lines=e,t.redrawWithoutRescale(),i.grid_x_lines):i.grid_x_lines},w.xgrids.add=function(e){var t=this.internal;return this.xgrids(t.config.grid_x_lines.concat(e||[]))},w.xgrids.remove=function(e){this.internal.removeGridLines(e,!0)},w.ygrids=function(e){var t=this.internal,i=t.config;return e?(i.grid_y_lines=e,t.redrawWithoutRescale(),i.grid_y_lines):i.grid_y_lines},w.ygrids.add=function(e){var t=this.internal;return this.ygrids(t.config.grid_y_lines.concat(e||[]))},w.ygrids.remove=function(e){this.internal.removeGridLines(e,!1)},w.groups=function(e){var t=this.internal,i=t.config;return f(e)?i.data_groups:(i.data_groups=e,t.redraw(),i.data_groups)},w.legend=function(){},w.legend.show=function(e){var t=this.internal;t.showLegend(t.mapToTargetIds(e)),t.updateAndRedraw({withLegend:!0})},w.legend.hide=function(e){var t=this.internal;t.hideLegend(t.mapToTargetIds(e)),t.updateAndRedraw({withLegend:!0})},w.load=function(e){var t=this.internal,i=t.config;if(e.xs&&t.addXs(e.xs),"names"in e&&w.data.names.bind(this)(e.names),"classes"in e&&Object.keys(e.classes).forEach(function(t){i.data_classes[t]=e.classes[t]}),"categories"in e&&t.isCategorized()&&(i.axis_x_categories=e.categories),"axes"in e&&Object.keys(e.axes).forEach(function(t){i.data_axes[t]=e.axes[t]}),"colors"in e&&Object.keys(e.colors).forEach(function(t){i.data_colors[t]=e.colors[t]}),"cacheIds"in e&&t.hasCaches(e.cacheIds))return void t.load(t.getCaches(e.cacheIds),e.done);"unload"in e?t.unload(t.mapToTargetIds("boolean"==typeof e.unload&&e.unload?null:e.unload),function(){t.loadFromArgs(e)}):t.loadFromArgs(e)},w.unload=function(e){var t=this.internal;e=e||{},e instanceof Array?e={ids:e}:"string"==typeof e&&(e={ids:[e]}),t.unload(t.mapToTargetIds(e.ids),function(){t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.done&&e.done()})},w.regions=function(e){var t=this.internal,i=t.config;return e?(i.regions=e,t.redrawWithoutRescale(),i.regions):i.regions},w.regions.add=function(e){var t=this.internal,i=t.config;return e?(i.regions=i.regions.concat(e),t.redrawWithoutRescale(),i.regions):i.regions},w.regions.remove=function(e){var t,i,a,n=this.internal,r=n.config;return e=e||{},t=n.getOption(e,"duration",r.transition_duration),i=n.getOption(e,"classes",[o.region]),a=n.main.select("."+o.regions).selectAll(i.map(function(e){return"."+e})),(t?a.transition().duration(t):a).style("opacity",0).remove(),r.regions=r.regions.filter(function(e){var t=!1;return!e.class||(e.class.split(" ").forEach(function(e){i.indexOf(e)>=0&&(t=!0)}),!t)}),r.regions},w.selected=function(e){var t=this.internal,i=t.d3;return i.merge(t.main.selectAll("."+o.shapes+t.getTargetSelectorSuffix(e)).selectAll("."+o.shape).filter(function(){return i.select(this).classed(o.SELECTED)}).map(function(e){return e.map(function(e){var t=e.__data__;return t.data?t.data:t})}))},w.select=function(e,t,i){var a=this.internal,n=a.d3,r=a.config;r.data_selection_enabled&&a.main.selectAll("."+o.shapes).selectAll("."+o.shape).each(function(s,l){var d=n.select(this),u=s.data?s.data.id:s.id,c=a.getToggle(this,s).bind(a),f=r.data_selection_grouped||!e||e.indexOf(u)>=0,p=!t||t.indexOf(l)>=0,g=d.classed(o.SELECTED);d.classed(o.line)||d.classed(o.area)||(f&&p?r.data_selection_isselectable(s)&&!g&&c(!0,d.classed(o.SELECTED,!0),s,l):h(i)&&i&&g&&c(!1,d.classed(o.SELECTED,!1),s,l))})},w.unselect=function(e,t){var i=this.internal,a=i.d3,n=i.config;n.data_selection_enabled&&i.main.selectAll("."+o.shapes).selectAll("."+o.shape).each(function(r,s){var l=a.select(this),d=r.data?r.data.id:r.id,u=i.getToggle(this,r).bind(i),c=n.data_selection_grouped||!e||e.indexOf(d)>=0,f=!t||t.indexOf(s)>=0,h=l.classed(o.SELECTED);l.classed(o.line)||l.classed(o.area)||c&&f&&n.data_selection_isselectable(r)&&h&&u(!1,l.classed(o.SELECTED,!1),r,s)})},w.show=function(e,t){var i,a=this.internal;e=a.mapToTargetIds(e),t=t||{},a.removeHiddenTargetIds(e),i=a.svg.selectAll(a.selectorTargets(e)),i.transition().style("opacity",1,"important").call(a.endall,function(){i.style("opacity",null).style("opacity",1)}),t.withLegend&&a.showLegend(e),a.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},w.hide=function(e,t){var i,a=this.internal;e=a.mapToTargetIds(e),t=t||{},a.addHiddenTargetIds(e),i=a.svg.selectAll(a.selectorTargets(e)),i.transition().style("opacity",0,"important").call(a.endall,function(){i.style("opacity",null).style("opacity",0)}),t.withLegend&&a.hideLegend(e),a.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},w.toggle=function(e,t){var i=this,a=this.internal;a.mapToTargetIds(e).forEach(function(e){a.isTargetToShow(e)?i.hide(e,t):i.show(e,t)})},w.tooltip=function(){},w.tooltip.show=function(e){var t,i,a=this.internal;e.mouse&&(i=e.mouse),e.data?a.isMultipleX()?(i=[a.x(e.data.x),a.getYScale(e.data.id)(e.data.value)],t=null):t=l(e.data.index)?e.data.index:a.getIndexByX(e.data.x):void 0!==e.x?t=a.getIndexByX(e.x):void 0!==e.index&&(t=e.index),a.dispatchEvent("mouseover",t,i),a.dispatchEvent("mousemove",t,i),a.config.tooltip_onshow.call(a,e.data)},w.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},w.transform=function(e,t){var i=this.internal,a=["pie","donut"].indexOf(e)>=0?{withTransform:!0}:null;i.transformTo(t,e,a)},T.transformTo=function(e,t,i){var a=this,n=!a.hasArcType(),r=i||{withTransitionForAxis:n};r.withTransitionForTransform=!1,a.transiting=!1,a.setTargetType(e,t),a.updateTargets(a.data.targets),a.updateAndRedraw(r)},w.x=function(e){var t=this.internal;return arguments.length&&(t.updateTargetX(t.data.targets,e),t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),t.data.xs},w.xs=function(e){var t=this.internal;return arguments.length&&(t.updateTargetXs(t.data.targets,e),t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),t.data.xs},w.zoom=function(e){var t=this.internal;return e&&(t.isTimeSeries()&&(e=e.map(function(e){return t.parseDate(e)})),t.brush.extent(e),t.redraw({withUpdateXDomain:!0,withY:t.config.zoom_rescale}),t.config.zoom_onzoom.call(this,t.x.orgDomain())),t.brush.extent()},w.zoom.enable=function(e){var t=this.internal;t.config.zoom_enabled=e,t.updateAndRedraw()},w.unzoom=function(){var e=this.internal;e.brush.clear().update(),e.redraw({withUpdateXDomain:!0})},w.zoom.max=function(e){var t=this.internal,i=t.config,a=t.d3;if(0!==e&&!e)return i.zoom_x_max;i.zoom_x_max=a.max([t.orgXDomain[1],e])},w.zoom.min=function(e){var t=this.internal,i=t.config,a=t.d3;if(0!==e&&!e)return i.zoom_x_min;i.zoom_x_min=a.min([t.orgXDomain[0],e])},w.zoom.range=function(e){if(!arguments.length)return{max:this.domain.max(),min:this.domain.min()};h(e.max)&&this.domain.max(e.max),h(e.min)&&this.domain.min(e.min)},T.initPie=function(){var e=this,t=e.d3,i=e.config;e.pie=t.layout.pie().value(function(e){return e.values.reduce(function(e,t){return e+t.value},0)}),i.data_order||e.pie.sort(null)},T.updateRadius=function(){var e=this,t=e.config,i=t.gauge_width||t.donut_width;e.radiusExpanded=Math.min(e.arcWidth,e.arcHeight)/2,e.radius=.95*e.radiusExpanded,e.innerRadiusRatio=i?(e.radius-i)/e.radius:.6,e.innerRadius=e.hasType("donut")||e.hasType("gauge")?e.radius*e.innerRadiusRatio:0},T.updateArc=function(){var e=this;e.svgArc=e.getSvgArc(),e.svgArcExpanded=e.getSvgArcExpanded(),e.svgArcExpandedSub=e.getSvgArcExpanded(.98)},T.updateAngle=function(e){var t,i,a,n,r=this,s=r.config,o=!1,l=0;return s?(r.pie(r.filterTargetsToShow(r.data.targets)).forEach(function(t){o||t.data.id!==e.data.id||(o=!0,e=t,e.index=l),l++}),isNaN(e.startAngle)&&(e.startAngle=0),isNaN(e.endAngle)&&(e.endAngle=e.startAngle),r.isGaugeType(e.data)&&(t=s.gauge_min,i=s.gauge_max,a=Math.PI*(s.gauge_fullCircle?2:1)/(i-t),n=e.value<t?0:e.value<i?e.value-t:i-t,e.startAngle=s.gauge_startingAngle,e.endAngle=e.startAngle+a*n),o?e:null):null},T.getSvgArc=function(){var e=this,t=e.d3.svg.arc().outerRadius(e.radius).innerRadius(e.innerRadius),i=function(i,a){var n;return a?t(i):(n=e.updateAngle(i),n?t(n):"M 0 0")};return i.centroid=t.centroid,i},T.getSvgArcExpanded=function(e){var t=this,i=t.d3.svg.arc().outerRadius(t.radiusExpanded*(e||1)).innerRadius(t.innerRadius);return function(e){var a=t.updateAngle(e);return a?i(a):"M 0 0"}},T.getArc=function(e,t,i){return i||this.isArcType(e.data)?this.svgArc(e,t):"M 0 0"},T.transformForArcLabel=function(e){var t,i,a,n,r,s=this,o=s.config,l=s.updateAngle(e),u="";return l&&!s.hasType("gauge")&&(t=this.svgArc.centroid(l),i=isNaN(t[0])?0:t[0],a=isNaN(t[1])?0:t[1],n=Math.sqrt(i*i+a*a),r=s.hasType("donut")&&o.donut_label_ratio?d(o.donut_label_ratio)?o.donut_label_ratio(e,s.radius,n):o.donut_label_ratio:s.hasType("pie")&&o.pie_label_ratio?d(o.pie_label_ratio)?o.pie_label_ratio(e,s.radius,n):o.pie_label_ratio:s.radius&&n?(36/s.radius>.375?1.175-36/s.radius:.8)*s.radius/n:0,u="translate("+i*r+","+a*r+")"),u},T.getArcRatio=function(e){var t=this,i=t.config,a=Math.PI*(t.hasType("gauge")&&!i.gauge_fullCircle?1:2);return e?(e.endAngle-e.startAngle)/a:null},T.convertToArcData=function(e){return this.addName({id:e.data.id,value:e.value,ratio:this.getArcRatio(e),index:e.index})},T.textForArcLabel=function(e){var t,i,a,n,r,s=this;return s.shouldShowArcLabel()?(t=s.updateAngle(e),i=t?t.value:null,a=s.getArcRatio(t),n=e.data.id,s.hasType("gauge")||s.meetsArcLabelThreshold(a)?(r=s.getArcLabelFormat(),r?r(i,a,n):s.defaultArcValueFormat(i,a)):""):""},T.textForGaugeMinMax=function(e,t){var i=this,a=i.getGaugeLabelExtents();return a?a(e,t):e},T.expandArc=function(e){var t,i=this;if(i.transiting)return void(t=window.setInterval(function(){i.transiting||(window.clearInterval(t),i.legend.selectAll(".c3-legend-item-focused").size()>0&&i.expandArc(e))},10));e=i.mapToTargetIds(e),i.svg.selectAll(i.selectorTargets(e,"."+o.chartArc)).each(function(e){i.shouldExpand(e.data.id)&&i.d3.select(this).selectAll("path").transition().duration(i.expandDuration(e.data.id)).attr("d",i.svgArcExpanded).transition().duration(2*i.expandDuration(e.data.id)).attr("d",i.svgArcExpandedSub).each(function(e){i.isDonutType(e.data)})})},T.unexpandArc=function(e){var t=this;t.transiting||(e=t.mapToTargetIds(e),t.svg.selectAll(t.selectorTargets(e,"."+o.chartArc)).selectAll("path").transition().duration(function(e){return t.expandDuration(e.data.id)}).attr("d",t.svgArc),t.svg.selectAll("."+o.arc).style("opacity",1))},T.expandDuration=function(e){var t=this,i=t.config;return t.isDonutType(e)?i.donut_expand_duration:t.isGaugeType(e)?i.gauge_expand_duration:t.isPieType(e)?i.pie_expand_duration:50},T.shouldExpand=function(e){var t=this,i=t.config;return t.isDonutType(e)&&i.donut_expand||t.isGaugeType(e)&&i.gauge_expand||t.isPieType(e)&&i.pie_expand},T.shouldShowArcLabel=function(){var e=this,t=e.config,i=!0;return e.hasType("donut")?i=t.donut_label_show:e.hasType("pie")&&(i=t.pie_label_show),i},T.meetsArcLabelThreshold=function(e){var t=this,i=t.config;return e>=(t.hasType("donut")?i.donut_label_threshold:i.pie_label_threshold)},T.getArcLabelFormat=function(){var e=this,t=e.config,i=t.pie_label_format;return e.hasType("gauge")?i=t.gauge_label_format:e.hasType("donut")&&(i=t.donut_label_format),i},T.getGaugeLabelExtents=function(){return this.config.gauge_label_extents},T.getArcTitle=function(){var e=this;return e.hasType("donut")?e.config.donut_title:""},T.updateTargetsForArc=function(e){var t,i,a=this,n=a.main,r=a.classChartArc.bind(a),s=a.classArcs.bind(a),l=a.classFocus.bind(a);t=n.select("."+o.chartArcs).selectAll("."+o.chartArc).data(a.pie(e)).attr("class",function(e){return r(e)+l(e.data)}),i=t.enter().append("g").attr("class",r),i.append("g").attr("class",s),i.append("text").attr("dy",a.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},T.initArc=function(){var e=this;e.arcs=e.main.select("."+o.chart).append("g").attr("class",o.chartArcs).attr("transform",e.getTranslate("arc")),e.arcs.append("text").attr("class",o.chartArcsTitle).style("text-anchor","middle").text(e.getArcTitle())},T.redrawArc=function(e,t,i){var a,n=this,r=n.d3,s=n.config,l=n.main;a=l.selectAll("."+o.arcs).selectAll("."+o.arc).data(n.arcData.bind(n)),a.enter().append("path").attr("class",n.classArc.bind(n)).style("fill",function(e){return n.color(e.data)}).style("cursor",function(e){return s.interaction_enabled&&s.data_selection_isselectable(e)?"pointer":null}).style("opacity",0).each(function(e){n.isGaugeType(e.data)&&(e.startAngle=e.endAngle=s.gauge_startingAngle),this._current=e}),a.attr("transform",function(e){return!n.isGaugeType(e.data)&&i?"scale(0)":""}).style("opacity",function(e){return e===this._current?0:1}).on("mouseover",s.interaction_enabled?function(e){var t,i;n.transiting||(t=n.updateAngle(e))&&(i=n.convertToArcData(t),n.expandArc(t.data.id),n.api.focus(t.data.id),n.toggleFocusLegend(t.data.id,!0),n.config.data_onmouseover(i,this))}:null).on("mousemove",s.interaction_enabled?function(e){var t,i,a=n.updateAngle(e);a&&(t=n.convertToArcData(a),i=[t],n.showTooltip(i,this))}:null).on("mouseout",s.interaction_enabled?function(e){var t,i;n.transiting||(t=n.updateAngle(e))&&(i=n.convertToArcData(t),n.unexpandArc(t.data.id),n.api.revert(),n.revertLegend(),n.hideTooltip(),n.config.data_onmouseout(i,this))}:null).on("click",s.interaction_enabled?function(e,t){var i,a=n.updateAngle(e);a&&(i=n.convertToArcData(a),n.toggleShape&&n.toggleShape(this,i,t),n.config.data_onclick.call(n.api,i,this))}:null).each(function(){n.transiting=!0}).transition().duration(e).attrTween("d",function(e){var t,i=n.updateAngle(e);return i?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),t=r.interpolate(this._current,i),this._current=t(0),function(i){var a=t(i);return a.data=e.data,n.getArc(a,!0)}):function(){return"M 0 0"}}).attr("transform",i?"scale(1)":"").style("fill",function(e){return n.levelColor?n.levelColor(e.data.values[0].value):n.color(e.data.id)}).style("opacity",1).call(n.endall,function(){n.transiting=!1}),a.exit().transition().duration(t).style("opacity",0).remove(),l.selectAll("."+o.chartArc).select("text").style("opacity",0).attr("class",function(e){return n.isGaugeType(e.data)?o.gaugeValue:""}).text(n.textForArcLabel.bind(n)).attr("transform",n.transformForArcLabel.bind(n)).style("font-size",function(e){return n.isGaugeType(e.data)?Math.round(n.radius/5)+"px":""}).transition().duration(e).style("opacity",function(e){return n.isTargetToShow(e.data.id)&&n.isArcType(e.data)?1:0}),l.select("."+o.chartArcsTitle).style("opacity",n.hasType("donut")||n.hasType("gauge")?1:0),n.hasType("gauge")&&(n.arcs.select("."+o.chartArcsBackground).attr("d",function(){var e={data:[{value:s.gauge_max}],startAngle:s.gauge_startingAngle,endAngle:-1*s.gauge_startingAngle};return n.getArc(e,!0,!0)}),n.arcs.select("."+o.chartArcsGaugeUnit).attr("dy",".75em").text(s.gauge_label_show?s.gauge_units:""),n.arcs.select("."+o.chartArcsGaugeMin).attr("dx",-1*(n.innerRadius+(n.radius-n.innerRadius)/(s.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(s.gauge_label_show?n.textForGaugeMinMax(s.gauge_min,!1):""),n.arcs.select("."+o.chartArcsGaugeMax).attr("dx",n.innerRadius+(n.radius-n.innerRadius)/(s.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(s.gauge_label_show?n.textForGaugeMinMax(s.gauge_max,!0):""))},T.initGauge=function(){var e=this.arcs;this.hasType("gauge")&&(e.append("path").attr("class",o.chartArcsBackground),e.append("text").attr("class",o.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),e.append("text").attr("class",o.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),e.append("text").attr("class",o.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},T.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},T.hasCaches=function(e){for(var t=0;t<e.length;t++)if(!(e[t]in this.cache))return!1;return!0},T.addCache=function(e,t){this.cache[e]=this.cloneTarget(t)},T.getCaches=function(e){var t,i=[];for(t=0;t<e.length;t++)e[t]in this.cache&&i.push(this.cloneTarget(this.cache[e[t]]));return i},T.categoryName=function(e){var t=this.config;return e<t.axis_x_categories.length?t.axis_x_categories[e]:e},T.generateClass=function(e,t){return" "+e+" "+e+this.getTargetSelectorSuffix(t)},T.classText=function(e){return this.generateClass(o.text,e.index)},T.classTexts=function(e){return this.generateClass(o.texts,e.id)},T.classShape=function(e){return this.generateClass(o.shape,e.index)},T.classShapes=function(e){return this.generateClass(o.shapes,e.id)},T.classLine=function(e){return this.classShape(e)+this.generateClass(o.line,e.id)},T.classLines=function(e){return this.classShapes(e)+this.generateClass(o.lines,e.id)},T.classCircle=function(e){return this.classShape(e)+this.generateClass(o.circle,e.index)},T.classCircles=function(e){return this.classShapes(e)+this.generateClass(o.circles,e.id)},T.classBar=function(e){return this.classShape(e)+this.generateClass(o.bar,e.index)},T.classBars=function(e){return this.classShapes(e)+this.generateClass(o.bars,e.id)},T.classArc=function(e){return this.classShape(e.data)+this.generateClass(o.arc,e.data.id)},T.classArcs=function(e){return this.classShapes(e.data)+this.generateClass(o.arcs,e.data.id)},T.classArea=function(e){return this.classShape(e)+this.generateClass(o.area,e.id)},T.classAreas=function(e){return this.classShapes(e)+this.generateClass(o.areas,e.id)},T.classRegion=function(e,t){return this.generateClass(o.region,t)+" "+("class"in e?e.class:"")},T.classEvent=function(e){return this.generateClass(o.eventRect,e.index)},T.classTarget=function(e){var t=this,i=t.config.data_classes[e],a="";return i&&(a=" "+o.target+"-"+i),t.generateClass(o.target,e)+a},T.classFocus=function(e){return this.classFocused(e)+this.classDefocused(e)},T.classFocused=function(e){return" "+(this.focusedTargetIds.indexOf(e.id)>=0?o.focused:"")},T.classDefocused=function(e){return" "+(this.defocusedTargetIds.indexOf(e.id)>=0?o.defocused:"")},T.classChartText=function(e){return o.chartText+this.classTarget(e.id)},T.classChartLine=function(e){return o.chartLine+this.classTarget(e.id)},T.classChartBar=function(e){return o.chartBar+this.classTarget(e.id)},T.classChartArc=function(e){return o.chartArc+this.classTarget(e.data.id)},T.getTargetSelectorSuffix=function(e){return e||0===e?("-"+e).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},T.selectorTarget=function(e,t){return(t||"")+"."+o.target+this.getTargetSelectorSuffix(e)},T.selectorTargets=function(e,t){var i=this;return e=e||[],e.length?e.map(function(e){return i.selectorTarget(e,t)}):null},T.selectorLegend=function(e){return"."+o.legendItem+this.getTargetSelectorSuffix(e)},T.selectorLegends=function(e){var t=this;return e&&e.length?e.map(function(e){return t.selectorLegend(e)}):null},T.getClipPath=function(e){return"url("+(window.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0?"":document.URL.split("#")[0])+"#"+e+")"},T.appendClip=function(e,t){return e.append("clipPath").attr("id",t).append("rect")},T.getAxisClipX=function(e){var t=Math.max(30,this.margin.left);return e?-(1+t):-(t-1)},T.getAxisClipY=function(e){return e?-20:-this.margin.top},T.getXAxisClipX=function(){var e=this;return e.getAxisClipX(!e.config.axis_rotated)},T.getXAxisClipY=function(){var e=this;return e.getAxisClipY(!e.config.axis_rotated)},T.getYAxisClipX=function(){var e=this;return e.config.axis_y_inner?-1:e.getAxisClipX(e.config.axis_rotated)},T.getYAxisClipY=function(){var e=this;return e.getAxisClipY(e.config.axis_rotated)},T.getAxisClipWidth=function(e){var t=this,i=Math.max(30,t.margin.left),a=Math.max(30,t.margin.right);return e?t.width+2+i+a:t.margin.left+20},T.getAxisClipHeight=function(e){return(e?this.margin.bottom:this.margin.top+this.height)+20},T.getXAxisClipWidth=function(){var e=this;return e.getAxisClipWidth(!e.config.axis_rotated)},T.getXAxisClipHeight=function(){var e=this;return e.getAxisClipHeight(!e.config.axis_rotated)},T.getYAxisClipWidth=function(){var e=this;return e.getAxisClipWidth(e.config.axis_rotated)+(e.config.axis_y_inner?20:0)},T.getYAxisClipHeight=function(){var e=this;return e.getAxisClipHeight(e.config.axis_rotated)},T.generateColor=function(){var e=this,t=e.config,i=e.d3,a=t.data_colors,n=y(t.color_pattern)?t.color_pattern:i.scale.category10().range(),r=t.data_color,s=[];return function(e){var t,i=e.id||e.data&&e.data.id||e;return a[i]instanceof Function?t=a[i](e):a[i]?t=a[i]:(s.indexOf(i)<0&&s.push(i),t=n[s.indexOf(i)%n.length],a[i]=t),r instanceof Function?r(t,e):t}},T.generateLevelColor=function(){var e=this,t=e.config,i=t.color_pattern,a=t.color_threshold,n="value"===a.unit,r=a.values&&a.values.length?a.values:[],s=a.max||100;return y(t.color_threshold)?function(e){var t,a=i[i.length-1];for(t=0;t<r.length;t++)if((n?e:100*e/s)<r[t]){a=i[t];break}return a}:null},T.getDefaultConfig=function(){var e={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(e){return e},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_value:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,gauge_fullCircle:!1,gauge_label_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,spline_interpolation_type:"cardinal",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:function(e,t,i,a){return this.getTooltipContent?this.getTooltipContent(e,t,i,a):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(t){e[t]=this.additionalConfig[t]},this),e},T.additionalConfig={},T.loadConfig=function(e){function t(){var e=a.shift();return e&&i&&"object"==typeof i&&e in i?(i=i[e],t()):e?void 0:i}var i,a,n,r=this.config;Object.keys(r).forEach(function(s){i=e,a=s.split("_"),n=t(),h(n)&&(r[s]=n)})},T.convertUrlToData=function(e,t,i,a,n){var r=this,s=t||"csv",o=r.d3.xhr(e);i&&Object.keys(i).forEach(function(e){o.header(e,i[e])}),o.get(function(e,t){var i,o=t.response||t.responseText;if(!t)throw new Error(e.responseURL+" "+e.status+" ("+e.statusText+")");i="json"===s?r.convertJsonToData(JSON.parse(o),a):"tsv"===s?r.convertTsvToData(o):r.convertCsvToData(o),n.call(r,i)})},T.convertXsvToData=function(e,t){var i,a=t.parseRows(e);return 1===a.length?(i=[{}],a[0].forEach(function(e){i[0][e]=null})):i=t.parse(e),i},T.convertCsvToData=function(e){return this.convertXsvToData(e,this.d3.csv)},T.convertTsvToData=function(e){return this.convertXsvToData(e,this.d3.tsv)},T.convertJsonToData=function(e,t){var i,a,n=this,r=[];return t?(t.x?(i=t.value.concat(t.x),n.config.data_x=t.x):i=t.value,r.push(i),e.forEach(function(e){var t=[];i.forEach(function(i){var a=n.findValueInJson(e,i);f(a)&&(a=null),t.push(a)}),r.push(t)}),a=n.convertRowsToData(r)):(Object.keys(e).forEach(function(t){r.push([t].concat(e[t]))}),a=n.convertColumnsToData(r)),a},T.findValueInJson=function(e,t){t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");for(var i=t.split("."),a=0;a<i.length;++a){var n=i[a];if(!(n in e))return;e=e[n]}return e},T.convertRowsToData=function(e){var t,i,a=e[0],n={},r=[];for(t=1;t<e.length;t++){for(n={},i=0;i<e[t].length;i++){if(f(e[t][i]))throw new Error("Source data is missing a component at ("+t+","+i+")!");n[a[i]]=e[t][i]}r.push(n)}return r},T.convertColumnsToData=function(e){var t,i,a,n=[];for(t=0;t<e.length;t++)for(a=e[t][0],i=1;i<e[t].length;i++){if(f(n[i-1])&&(n[i-1]={}),f(e[t][i]))throw new Error("Source data is missing a component at ("+t+","+i+")!");n[i-1][a]=e[t][i]}return n},T.convertDataToTargets=function(e,t){var i,a=this,n=a.config,r=a.d3.keys(e[0]).filter(a.isNotX,a),s=a.d3.keys(e[0]).filter(a.isX,a);return r.forEach(function(i){var r=a.getXKey(i);a.isCustomX()||a.isTimeSeries()?s.indexOf(r)>=0?a.data.xs[i]=(t&&a.data.xs[i]?a.data.xs[i]:[]).concat(e.map(function(e){return e[r]}).filter(l).map(function(e,t){return a.generateTargetX(e,i,t)})):n.data_x?a.data.xs[i]=a.getOtherTargetXs():y(n.data_xs)&&(a.data.xs[i]=a.getXValuesOfXKey(r,a.data.targets)):a.data.xs[i]=e.map(function(e,t){return t})}),r.forEach(function(e){if(!a.data.xs[e])throw new Error('x is not defined for id = "'+e+'".')}),i=r.map(function(t,i){var r=n.data_idConverter(t);return{id:r,id_org:t,values:e.map(function(e,s){var o,l=a.getXKey(t),d=e[l],u=null===e[t]||isNaN(e[t])?null:+e[t];return a.isCustomX()&&a.isCategorized()&&!f(d)?(0===i&&0===s&&(n.axis_x_categories=[]),-1===(o=n.axis_x_categories.indexOf(d))&&(o=n.axis_x_categories.length,n.axis_x_categories.push(d))):o=a.generateTargetX(d,t,s),(f(e[t])||a.data.xs[t].length<=s)&&(o=void 0),{x:o,value:u,id:r}}).filter(function(e){return h(e.x)})}}),i.forEach(function(e){var t;n.data_xSort&&(e.values=e.values.sort(function(e,t){return(e.x||0===e.x?e.x:1/0)-(t.x||0===t.x?t.x:1/0)})),t=0,e.values.forEach(function(e){e.index=t++}),a.data.xs[e.id].sort(function(e,t){return e-t})}),a.hasNegativeValue=a.hasNegativeValueInTargets(i),a.hasPositiveValue=a.hasPositiveValueInTargets(i),n.data_type&&a.setTargetType(a.mapToIds(i).filter(function(e){return!(e in n.data_types)}),n.data_type),i.forEach(function(e){a.addCache(e.id_org,e)}),i},T.isX=function(e){var t=this,i=t.config;return i.data_x&&e===i.data_x||y(i.data_xs)&&x(i.data_xs,e)},T.isNotX=function(e){return!this.isX(e)},T.getXKey=function(e){var t=this,i=t.config;return i.data_x?i.data_x:y(i.data_xs)?i.data_xs[e]:null},T.getXValuesOfXKey=function(e,t){var i,a=this;return(t&&y(t)?a.mapToIds(t):[]).forEach(function(t){a.getXKey(t)===e&&(i=a.data.xs[t])}),i},T.getIndexByX=function(e){var t=this,i=t.filterByX(t.data.targets,e);return i.length?i[0].index:null},T.getXValue=function(e,t){var i=this;return e in i.data.xs&&i.data.xs[e]&&l(i.data.xs[e][t])?i.data.xs[e][t]:t},T.getOtherTargetXs=function(){var e=this,t=Object.keys(e.data.xs);return t.length?e.data.xs[t[0]]:null},T.getOtherTargetX=function(e){var t=this.getOtherTargetXs();return t&&e<t.length?t[e]:null},T.addXs=function(e){var t=this;Object.keys(e).forEach(function(i){t.config.data_xs[i]=e[i]})},T.hasMultipleX=function(e){return this.d3.set(Object.keys(e).map(function(t){return e[t]})).size()>1},T.isMultipleX=function(){return y(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},T.addName=function(e){var t,i=this;return e&&(t=i.config.data_names[e.id],e.name=void 0!==t?t:e.id),e},T.getValueOnIndex=function(e,t){var i=e.filter(function(e){return e.index===t});return i.length?i[0]:null},T.updateTargetX=function(e,t){var i=this;e.forEach(function(e){e.values.forEach(function(a,n){a.x=i.generateTargetX(t[n],e.id,n)}),i.data.xs[e.id]=t})},T.updateTargetXs=function(e,t){var i=this;e.forEach(function(e){t[e.id]&&i.updateTargetX([e],t[e.id])})},T.generateTargetX=function(e,t,i){var a=this;return a.isTimeSeries()?e?a.parseDate(e):a.parseDate(a.getXValue(t,i)):a.isCustomX()&&!a.isCategorized()?l(e)?+e:a.getXValue(t,i):i},T.cloneTarget=function(e){return{id:e.id,id_org:e.id_org,values:e.values.map(function(e){return{x:e.x,value:e.value,id:e.id}})}},T.updateXs=function(){var e=this;e.data.targets.length&&(e.xs=[],e.data.targets[0].values.forEach(function(t){e.xs[t.index]=t.x}))},T.getPrevX=function(e){var t=this.xs[e-1];return void 0!==t?t:null},T.getNextX=function(e){var t=this.xs[e+1];return void 0!==t?t:null},T.getMaxDataCount=function(){var e=this;return e.d3.max(e.data.targets,function(e){return e.values.length})},T.getMaxDataCountTarget=function(e){var t,i=e.length,a=0;return i>1?e.forEach(function(e){e.values.length>a&&(t=e,a=e.values.length)}):t=i?e[0]:null,t},T.getEdgeX=function(e){var t=this;return e.length?[t.d3.min(e,function(e){return e.values[0].x}),t.d3.max(e,function(e){return e.values[e.values.length-1].x})]:[0,0]},T.mapToIds=function(e){return e.map(function(e){return e.id})},T.mapToTargetIds=function(e){var t=this;return e?[].concat(e):t.mapToIds(t.data.targets)},T.hasTarget=function(e,t){var i,a=this.mapToIds(e);for(i=0;i<a.length;i++)if(a[i]===t)return!0;return!1},T.isTargetToShow=function(e){return this.hiddenTargetIds.indexOf(e)<0},T.isLegendToShow=function(e){return this.hiddenLegendIds.indexOf(e)<0},T.filterTargetsToShow=function(e){var t=this;return e.filter(function(e){return t.isTargetToShow(e.id)})},T.mapTargetsToUniqueXs=function(e){var t=this,i=t.d3.set(t.d3.merge(e.map(function(e){return e.values.map(function(e){return+e.x})}))).values();return i=t.isTimeSeries()?i.map(function(e){return new Date(+e)}):i.map(function(e){return+e}),i.sort(function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN})},T.addHiddenTargetIds=function(e){e=e instanceof Array?e:new Array(e);for(var t=0;t<e.length;t++)this.hiddenTargetIds.indexOf(e[t])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(e[t]))},T.removeHiddenTargetIds=function(e){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(t){return e.indexOf(t)<0})},T.addHiddenLegendIds=function(e){e=e instanceof Array?e:new Array(e);for(var t=0;t<e.length;t++)this.hiddenLegendIds.indexOf(e[t])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(e[t]))},T.removeHiddenLegendIds=function(e){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(t){return e.indexOf(t)<0})},T.getValuesAsIdKeyed=function(e){var t={};return e.forEach(function(e){t[e.id]=[],e.values.forEach(function(i){t[e.id].push(i.value)})}),t},T.checkValueInTargets=function(e,t){var i,a,n,r=Object.keys(e);for(i=0;i<r.length;i++)for(n=e[r[i]].values,a=0;a<n.length;a++)if(t(n[a].value))return!0;return!1},T.hasNegativeValueInTargets=function(e){return this.checkValueInTargets(e,function(e){return e<0})},T.hasPositiveValueInTargets=function(e){return this.checkValueInTargets(e,function(e){return e>0})},T.isOrderDesc=function(){var e=this.config;return"string"==typeof e.data_order&&"desc"===e.data_order.toLowerCase()},T.isOrderAsc=function(){var e=this.config;return"string"==typeof e.data_order&&"asc"===e.data_order.toLowerCase()},T.orderTargets=function(e){var t=this,i=t.config,a=t.isOrderAsc(),n=t.isOrderDesc();return a||n?e.sort(function(e,t){var i=function(e,t){return e+Math.abs(t.value)},n=e.values.reduce(i,0),r=t.values.reduce(i,0);return a?r-n:n-r}):d(i.data_order)?e.sort(i.data_order):u(i.data_order)&&e.sort(function(e,t){return i.data_order.indexOf(e.id)-i.data_order.indexOf(t.id)}),e},T.filterByX=function(e,t){return this.d3.merge(e.map(function(e){return e.values})).filter(function(e){return e.x-t==0})},T.filterRemoveNull=function(e){return e.filter(function(e){return l(e.value)})},T.filterByXDomain=function(e,t){return e.map(function(e){return{id:e.id,id_org:e.id_org,values:e.values.filter(function(e){return t[0]<=e.x&&e.x<=t[1]})}})},T.hasDataLabel=function(){var e=this.config;return!("boolean"!=typeof e.data_labels||!e.data_labels)||!("object"!=typeof e.data_labels||!y(e.data_labels))},T.getDataLabelLength=function(e,t,i){var a=this,n=[0,0];return a.selectChart.select("svg").selectAll(".dummy").data([e,t]).enter().append("text").text(function(e){return a.dataLabelFormat(e.id)(e)}).each(function(e,t){n[t]=1.3*this.getBoundingClientRect()[i]}).remove(),n},T.isNoneArc=function(e){return this.hasTarget(this.data.targets,e.id)},T.isArc=function(e){return"data"in e&&this.hasTarget(this.data.targets,e.data.id)},T.findSameXOfValues=function(e,t){var i,a=e[t].x,n=[];for(i=t-1;i>=0&&a===e[i].x;i--)n.push(e[i]);for(i=t;i<e.length&&a===e[i].x;i++)n.push(e[i]);return n},T.findClosestFromTargets=function(e,t){var i,a=this;return i=e.map(function(e){return a.findClosest(e.values,t)}),a.findClosest(i,t)},T.findClosest=function(e,t){var i,a=this,n=a.config.point_sensitivity;return e.filter(function(e){return e&&a.isBarType(e.id)}).forEach(function(e){var t=a.main.select("."+o.bars+a.getTargetSelectorSuffix(e.id)+" ."+o.bar+"-"+e.index).node();!i&&a.isWithinBar(t)&&(i=e)}),e.filter(function(e){return e&&!a.isBarType(e.id)}).forEach(function(e){var r=a.dist(e,t);r<n&&(n=r,i=e)}),i},T.dist=function(e,t){var i=this,a=i.config,n=a.axis_rotated?1:0,r=a.axis_rotated?0:1,s=i.circleY(e,e.index),o=i.x(e.x);return Math.sqrt(Math.pow(o-t[n],2)+Math.pow(s-t[r],2))},T.convertValuesToStep=function(e){var t,i=[].concat(e);if(!this.isCategorized())return e;for(t=e.length+1;0<t;t--)i[t]=i[t-1];return i[0]={x:i[0].x-1,value:i[0].value,id:i[0].id},i[e.length+1]={x:i[e.length].x+1,value:i[e.length].value,id:i[e.length].id},i},T.updateDataAttributes=function(e,t){var i=this,a=i.config,n=a["data_"+e];return void 0===t?n:(Object.keys(t).forEach(function(e){n[e]=t[e]}),i.redraw({withLegend:!0}),n)},T.load=function(e,t){var i=this;e&&(t.filter&&(e=e.filter(t.filter)),(t.type||t.types)&&e.forEach(function(e){var a=t.types&&t.types[e.id]?t.types[e.id]:t.type;i.setTargetType(e.id,a)}),i.data.targets.forEach(function(t){for(var i=0;i<e.length;i++)if(t.id===e[i].id){t.values=e[i].values,e.splice(i,1);break}}),i.data.targets=i.data.targets.concat(e)),i.updateTargets(i.data.targets),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()},T.loadFromArgs=function(e){var t=this;e.data?t.load(t.convertDataToTargets(e.data),e):e.url?t.convertUrlToData(e.url,e.mimeType,e.headers,e.keys,function(i){t.load(t.convertDataToTargets(i),e)}):e.json?t.load(t.convertDataToTargets(t.convertJsonToData(e.json,e.keys)),e):e.rows?t.load(t.convertDataToTargets(t.convertRowsToData(e.rows)),e):e.columns?t.load(t.convertDataToTargets(t.convertColumnsToData(e.columns)),e):t.load(null,e)},T.unload=function(e,t){var i=this;if(t||(t=function(){}),!(e=e.filter(function(e){return i.hasTarget(i.data.targets,e)}))||0===e.length)return void t();i.svg.selectAll(e.map(function(e){return i.selectorTarget(e)})).transition().style("opacity",0).remove().call(i.endall,t),e.forEach(function(e){i.withoutFadeIn[e]=!1,i.legend&&i.legend.selectAll("."+o.legendItem+i.getTargetSelectorSuffix(e)).remove(),i.data.targets=i.data.targets.filter(function(t){return t.id!==e})})},T.getYDomainMin=function(e){var t,i,a,n,r,s,o=this,l=o.config,d=o.mapToIds(e),u=o.getValuesAsIdKeyed(e);if(l.data_groups.length>0)for(s=o.hasNegativeValueInTargets(e),t=0;t<l.data_groups.length;t++)if(n=l.data_groups[t].filter(function(e){return d.indexOf(e)>=0}),0!==n.length)for(a=n[0],s&&u[a]&&u[a].forEach(function(e,t){u[a][t]=e<0?e:0}),i=1;i<n.length;i++)r=n[i],u[r]&&u[r].forEach(function(e,t){o.axis.getId(r)!==o.axis.getId(a)||!u[a]||s&&+e>0||(u[a][t]+=+e)});return o.d3.min(Object.keys(u).map(function(e){return o.d3.min(u[e])}))},T.getYDomainMax=function(e){var t,i,a,n,r,s,o=this,l=o.config,d=o.mapToIds(e),u=o.getValuesAsIdKeyed(e);if(l.data_groups.length>0)for(s=o.hasPositiveValueInTargets(e),t=0;t<l.data_groups.length;t++)if(n=l.data_groups[t].filter(function(e){return d.indexOf(e)>=0}),0!==n.length)for(a=n[0],s&&u[a]&&u[a].forEach(function(e,t){u[a][t]=e>0?e:0}),i=1;i<n.length;i++)r=n[i],u[r]&&u[r].forEach(function(e,t){o.axis.getId(r)!==o.axis.getId(a)||!u[a]||s&&+e<0||(u[a][t]+=+e)});return o.d3.max(Object.keys(u).map(function(e){return o.d3.max(u[e])}))},T.getYDomain=function(e,t,i){var a,n,r,s,o,d,u,c,f,h,p=this,g=p.config,_=e.filter(function(e){return p.axis.getId(e.id)===t}),v=i?p.filterByXDomain(_,i):_,x="y2"===t?g.axis_y2_min:g.axis_y_min,S="y2"===t?g.axis_y2_max:g.axis_y_max,b=p.getYDomainMin(v),w=p.getYDomainMax(v),T="y2"===t?g.axis_y2_center:g.axis_y_center,E=p.hasType("bar",v)&&g.bar_zerobased||p.hasType("area",v)&&g.area_zerobased,P="y2"===t?g.axis_y2_inverted:g.axis_y_inverted,A=p.hasDataLabel()&&g.axis_rotated,C=p.hasDataLabel()&&!g.axis_rotated;return b=l(x)?x:l(S)?b<S?b:S-10:b,w=l(S)?S:l(x)?x<w?w:x+10:w,0===v.length?"y2"===t?p.y2.domain():p.y.domain():(isNaN(b)&&(b=0),isNaN(w)&&(w=b),b===w&&(b<0?w=0:b=0),f=b>=0&&w>=0,h=b<=0&&w<=0,(l(x)&&f||l(S)&&h)&&(E=!1),E&&(f&&(b=0),h&&(w=0)),n=Math.abs(w-b),r=s=.1*n,void 0!==T&&(o=Math.max(Math.abs(b),Math.abs(w)),w=T+o,b=T-o),A?(d=p.getDataLabelLength(b,w,"width"),u=m(p.y.range()),c=[d[0]/u,d[1]/u],r+=n*(c[1]/(1-c[0]-c[1])),s+=n*(c[0]/(1-c[0]-c[1]))):C&&(d=p.getDataLabelLength(b,w,"height"),r+=p.axis.convertPixelsToAxisPadding(d[1],n),s+=p.axis.convertPixelsToAxisPadding(d[0],n)),"y"===t&&y(g.axis_y_padding)&&(r=p.axis.getPadding(g.axis_y_padding,"top",r,n),s=p.axis.getPadding(g.axis_y_padding,"bottom",s,n)),"y2"===t&&y(g.axis_y2_padding)&&(r=p.axis.getPadding(g.axis_y2_padding,"top",r,n),s=p.axis.getPadding(g.axis_y2_padding,"bottom",s,n)),E&&(f&&(s=b),h&&(r=-w)),a=[b-s,w+r],P?a.reverse():a)},T.getXDomainMin=function(e){var t=this,i=t.config;return h(i.axis_x_min)?t.isTimeSeries()?this.parseDate(i.axis_x_min):i.axis_x_min:t.d3.min(e,function(e){return t.d3.min(e.values,function(e){return e.x})})},T.getXDomainMax=function(e){var t=this,i=t.config;return h(i.axis_x_max)?t.isTimeSeries()?this.parseDate(i.axis_x_max):i.axis_x_max:t.d3.max(e,function(e){return t.d3.max(e.values,function(e){return e.x})})},T.getXDomainPadding=function(e){var t,i,a,n,r=this,s=r.config,o=e[1]-e[0];return r.isCategorized()?i=0:r.hasType("bar")?(t=r.getMaxDataCount(),i=t>1?o/(t-1)/2:.5):i=.01*o,"object"==typeof s.axis_x_padding&&y(s.axis_x_padding)?(a=l(s.axis_x_padding.left)?s.axis_x_padding.left:i,n=l(s.axis_x_padding.right)?s.axis_x_padding.right:i):a=n="number"==typeof s.axis_x_padding?s.axis_x_padding:i,{left:a,right:n}},T.getXDomain=function(e){var t=this,i=[t.getXDomainMin(e),t.getXDomainMax(e)],a=i[0],n=i[1],r=t.getXDomainPadding(i),s=0,o=0;return a-n!=0||t.isCategorized()||(t.isTimeSeries()?(a=new Date(.5*a.getTime()),n=new Date(1.5*n.getTime())):(a=0===a?1:.5*a,n=0===n?-1:1.5*n)),(a||0===a)&&(s=t.isTimeSeries()?new Date(a.getTime()-r.left):a-r.left),(n||0===n)&&(o=t.isTimeSeries()?new Date(n.getTime()+r.right):n+r.right),[s,o]},T.updateXDomain=function(e,t,i,a,n){var r=this,s=r.config;return i&&(r.x.domain(n||r.d3.extent(r.getXDomain(e))),r.orgXDomain=r.x.domain(),s.zoom_enabled&&r.zoom.scale(r.x).updateScaleExtent(),r.subX.domain(r.x.domain()),r.brush&&r.brush.scale(r.subX)),t&&(r.x.domain(n||(!r.brush||r.brush.empty()?r.orgXDomain:r.brush.extent())),s.zoom_enabled&&r.zoom.scale(r.x).updateScaleExtent()),a&&r.x.domain(r.trimXDomain(r.x.orgDomain())),r.x.domain()},T.trimXDomain=function(e){var t=this.getZoomDomain(),i=t[0],a=t[1];return e[0]<=i&&(e[1]=+e[1]+(i-e[0]),e[0]=i),a<=e[1]&&(e[0]=+e[0]-(e[1]-a),e[1]=a),e},T.drag=function(e){var t,i,a,n,r,s,l,d,u=this,c=u.config,f=u.main,h=u.d3;u.hasArcType()||c.data_selection_enabled&&(c.zoom_enabled&&!u.zoom.altDomain||c.data_selection_multiple&&(t=u.dragStart[0],i=u.dragStart[1],a=e[0],n=e[1],r=Math.min(t,a),s=Math.max(t,a),l=c.data_selection_grouped?u.margin.top:Math.min(i,n),d=c.data_selection_grouped?u.height:Math.max(i,n),f.select("."+o.dragarea).attr("x",r).attr("y",l).attr("width",s-r).attr("height",d-l),f.selectAll("."+o.shapes).selectAll("."+o.shape).filter(function(e){return c.data_selection_isselectable(e)}).each(function(e,t){var i,a,n,c,f,p,g=h.select(this),m=g.classed(o.SELECTED),_=g.classed(o.INCLUDED),y=!1;if(g.classed(o.circle))i=1*g.attr("cx"),a=1*g.attr("cy"),f=u.togglePoint,y=r<i&&i<s&&l<a&&a<d;else{if(!g.classed(o.bar))return;p=b(this),i=p.x,a=p.y,n=p.width,c=p.height,f=u.togglePath,y=!(s<i||i+n<r||d<a||a+c<l)}y^_&&(g.classed(o.INCLUDED,!_),g.classed(o.SELECTED,!m),f.call(u,!m,g,e,t))})))},T.dragstart=function(e){var t=this,i=t.config;t.hasArcType()||i.data_selection_enabled&&(t.dragStart=e,t.main.select("."+o.chart).append("rect").attr("class",o.dragarea).style("opacity",.1),t.dragging=!0)},T.dragend=function(){var e=this,t=e.config;e.hasArcType()||t.data_selection_enabled&&(e.main.select("."+o.dragarea).transition().duration(100).style("opacity",0).remove(),e.main.selectAll("."+o.shape).classed(o.INCLUDED,!1),e.dragging=!1)},T.getYFormat=function(e){var t=this,i=e&&!t.hasType("gauge")?t.defaultArcValueFormat:t.yFormat,a=e&&!t.hasType("gauge")?t.defaultArcValueFormat:t.y2Format;return function(e,n,r){return("y2"===t.axis.getId(r)?a:i).call(t,e,n)}},T.yFormat=function(e){var t=this,i=t.config;return(i.axis_y_tick_format?i.axis_y_tick_format:t.defaultValueFormat)(e)},T.y2Format=function(e){var t=this,i=t.config;return(i.axis_y2_tick_format?i.axis_y2_tick_format:t.defaultValueFormat)(e)},T.defaultValueFormat=function(e){return l(e)?+e:""},T.defaultArcValueFormat=function(e,t){return(100*t).toFixed(1)+"%"},T.dataLabelFormat=function(e){var t=this,i=t.config.data_labels,a=function(e){return l(e)?+e:""};return"function"==typeof i.format?i.format:"object"==typeof i.format?i.format[e]?!0===i.format[e]?a:i.format[e]:function(){return""}:a},T.initGrid=function(){var e=this,t=e.config,i=e.d3;e.grid=e.main.append("g").attr("clip-path",e.clipPathForGrid).attr("class",o.grid),t.grid_x_show&&e.grid.append("g").attr("class",o.xgrids),t.grid_y_show&&e.grid.append("g").attr("class",o.ygrids),t.grid_focus_show&&e.grid.append("g").attr("class",o.xgridFocus).append("line").attr("class",o.xgridFocus),e.xgrid=i.selectAll([]),t.grid_lines_front||e.initGridLines()},T.initGridLines=function(){var e=this,t=e.d3;e.gridLines=e.main.append("g").attr("clip-path",e.clipPathForGrid).attr("class",o.grid+" "+o.gridLines),e.gridLines.append("g").attr("class",o.xgridLines),e.gridLines.append("g").attr("class",o.ygridLines),e.xgridLines=t.selectAll([])},T.updateXGrid=function(e){var t=this,i=t.config,a=t.d3,n=t.generateGridData(i.grid_x_type,t.x),r=t.isCategorized()?t.xAxis.tickOffset():0;t.xgridAttr=i.axis_rotated?{x1:0,x2:t.width,y1:function(e){return t.x(e)-r},y2:function(e){return t.x(e)-r}}:{x1:function(e){return t.x(e)+r},x2:function(e){return t.x(e)+r},y1:0,y2:t.height},t.xgrid=t.main.select("."+o.xgrids).selectAll("."+o.xgrid).data(n),t.xgrid.enter().append("line").attr("class",o.xgrid),e||t.xgrid.attr(t.xgridAttr).style("opacity",function(){return+a.select(this).attr(i.axis_rotated?"y1":"x1")===(i.axis_rotated?t.height:0)?0:1}),t.xgrid.exit().remove()},T.updateYGrid=function(){var e=this,t=e.config,i=e.yAxis.tickValues()||e.y.ticks(t.grid_y_ticks);e.ygrid=e.main.select("."+o.ygrids).selectAll("."+o.ygrid).data(i),e.ygrid.enter().append("line").attr("class",o.ygrid),e.ygrid.attr("x1",t.axis_rotated?e.y:0).attr("x2",t.axis_rotated?e.y:e.width).attr("y1",t.axis_rotated?0:e.y).attr("y2",t.axis_rotated?e.height:e.y),e.ygrid.exit().remove(),e.smoothLines(e.ygrid,"grid")},T.gridTextAnchor=function(e){return e.position?e.position:"end"},T.gridTextDx=function(e){return"start"===e.position?4:"middle"===e.position?0:-4},T.xGridTextX=function(e){return"start"===e.position?-this.height:"middle"===e.position?-this.height/2:0},T.yGridTextX=function(e){return"start"===e.position?0:"middle"===e.position?this.width/2:this.width},T.updateGrid=function(e){var t,i,a,n=this,r=n.main,s=n.config;n.grid.style("visibility",n.hasArcType()?"hidden":"visible"),r.select("line."+o.xgridFocus).style("visibility","hidden"),s.grid_x_show&&n.updateXGrid(),n.xgridLines=r.select("."+o.xgridLines).selectAll("."+o.xgridLine).data(s.grid_x_lines),t=n.xgridLines.enter().append("g").attr("class",function(e){return o.xgridLine+(e.class?" "+e.class:"")}),t.append("line").style("opacity",0),t.append("text").attr("text-anchor",n.gridTextAnchor).attr("transform",s.axis_rotated?"":"rotate(-90)").attr("dx",n.gridTextDx).attr("dy",-5).style("opacity",0),n.xgridLines.exit().transition().duration(e).style("opacity",0).remove(),s.grid_y_show&&n.updateYGrid(),n.ygridLines=r.select("."+o.ygridLines).selectAll("."+o.ygridLine).data(s.grid_y_lines),i=n.ygridLines.enter().append("g").attr("class",function(e){return o.ygridLine+(e.class?" "+e.class:"")}),i.append("line").style("opacity",0),i.append("text").attr("text-anchor",n.gridTextAnchor).attr("transform",s.axis_rotated?"rotate(-90)":"").attr("dx",n.gridTextDx).attr("dy",-5).style("opacity",0),a=n.yv.bind(n),n.ygridLines.select("line").transition().duration(e).attr("x1",s.axis_rotated?a:0).attr("x2",s.axis_rotated?a:n.width).attr("y1",s.axis_rotated?0:a).attr("y2",s.axis_rotated?n.height:a).style("opacity",1),n.ygridLines.select("text").transition().duration(e).attr("x",s.axis_rotated?n.xGridTextX.bind(n):n.yGridTextX.bind(n)).attr("y",a).text(function(e){return e.text}).style("opacity",1),n.ygridLines.exit().transition().duration(e).style("opacity",0).remove()},T.redrawGrid=function(e){var t=this,i=t.config,a=t.xv.bind(t),n=t.xgridLines.select("line"),r=t.xgridLines.select("text");return[(e?n.transition():n).attr("x1",i.axis_rotated?0:a).attr("x2",i.axis_rotated?t.width:a).attr("y1",i.axis_rotated?a:0).attr("y2",i.axis_rotated?a:t.height).style("opacity",1),(e?r.transition():r).attr("x",i.axis_rotated?t.yGridTextX.bind(t):t.xGridTextX.bind(t)).attr("y",a).text(function(e){return e.text}).style("opacity",1)]},T.showXGridFocus=function(e){var t=this,i=t.config,a=e.filter(function(e){return e&&l(e.value)}),n=t.main.selectAll("line."+o.xgridFocus),r=t.xx.bind(t);i.tooltip_show&&(t.hasType("scatter")||t.hasArcType()||(n.style("visibility","visible").data([a[0]]).attr(i.axis_rotated?"y1":"x1",r).attr(i.axis_rotated?"y2":"x2",r),t.smoothLines(n,"grid")))},T.hideXGridFocus=function(){this.main.select("line."+o.xgridFocus).style("visibility","hidden")},T.updateXgridFocus=function(){var e=this,t=e.config;e.main.select("line."+o.xgridFocus).attr("x1",t.axis_rotated?0:-10).attr("x2",t.axis_rotated?e.width:-10).attr("y1",t.axis_rotated?-10:0).attr("y2",t.axis_rotated?-10:e.height)},T.generateGridData=function(e,t){var i,a,n,r,s=this,l=[],d=s.main.select("."+o.axisX).selectAll(".tick").size();if("year"===e)for(i=s.getXDomain(),a=i[0].getFullYear(),n=i[1].getFullYear(),r=a;r<=n;r++)l.push(new Date(r+"-01-01 00:00:00"));else l=t.ticks(10),l.length>d&&(l=l.filter(function(e){return(""+e).indexOf(".")<0}));return l},T.getGridFilterToRemove=function(e){return e?function(t){var i=!1;return[].concat(e).forEach(function(e){("value"in e&&t.value===e.value||"class"in e&&t.class===e.class)&&(i=!0)}),i}:function(){return!0}},T.removeGridLines=function(e,t){var i=this,a=i.config,n=i.getGridFilterToRemove(e),r=function(e){return!n(e)},s=t?o.xgridLines:o.ygridLines,l=t?o.xgridLine:o.ygridLine;i.main.select("."+s).selectAll("."+l).filter(n).transition().duration(a.transition_duration).style("opacity",0).remove(),t?a.grid_x_lines=a.grid_x_lines.filter(r):a.grid_y_lines=a.grid_y_lines.filter(r)},T.initEventRect=function(){this.main.select("."+o.chart).append("g").attr("class",o.eventRects).style("fill-opacity",0)},T.redrawEventRect=function(){var e,t,i=this,a=i.config,n=i.isMultipleX(),r=i.main.select("."+o.eventRects).style("cursor",a.zoom_enabled?a.axis_rotated?"ns-resize":"ew-resize":null).classed(o.eventRectsMultiple,n).classed(o.eventRectsSingle,!n);r.selectAll("."+o.eventRect).remove(),i.eventRect=r.selectAll("."+o.eventRect),n?(e=i.eventRect.data([0]),i.generateEventRectsForMultipleXs(e.enter()),i.updateEventRect(e)):(t=i.getMaxDataCountTarget(i.data.targets),r.datum(t?t.values:[]),i.eventRect=r.selectAll("."+o.eventRect),e=i.eventRect.data(function(e){return e}),i.generateEventRectsForSingleX(e.enter()),i.updateEventRect(e),e.exit().remove())},T.updateEventRect=function(e){var t,i,a,n,r,s,o=this,l=o.config;e=e||o.eventRect.data(function(e){return e}),o.isMultipleX()?(t=0,i=0,a=o.width,n=o.height):(!o.isCustomX()&&!o.isTimeSeries()||o.isCategorized()?(r=o.getEventRectWidth(),s=function(e){return o.x(e.x)-r/2}):(o.updateXs(),r=function(e){var t=o.getPrevX(e.index),i=o.getNextX(e.index);return null===t&&null===i?l.axis_rotated?o.height:o.width:(null===t&&(t=o.x.domain()[0]),null===i&&(i=o.x.domain()[1]),Math.max(0,(o.x(i)-o.x(t))/2))},s=function(e){var t=o.getPrevX(e.index),i=o.getNextX(e.index),a=o.data.xs[e.id][e.index];return null===t&&null===i?0:(null===t&&(t=o.x.domain()[0]),(o.x(a)+o.x(t))/2)}),t=l.axis_rotated?0:s,i=l.axis_rotated?s:0,a=l.axis_rotated?o.width:r,n=l.axis_rotated?r:o.height),e.attr("class",o.classEvent.bind(o)).attr("x",t).attr("y",i).attr("width",a).attr("height",n)},T.generateEventRectsForSingleX=function(e){var t=this,i=t.d3,a=t.config;e.append("rect").attr("class",t.classEvent.bind(t)).style("cursor",a.data_selection_enabled&&a.data_selection_grouped?"pointer":null).on("mouseover",function(e){var i=e.index;t.dragging||t.flowing||t.hasArcType()||(a.point_focus_expand_enabled&&t.expandCircles(i,null,!0),t.expandBars(i,null,!0),t.main.selectAll("."+o.shape+"-"+i).each(function(e){a.data_onmouseover.call(t.api,e)}))}).on("mouseout",function(e){var i=e.index;t.config&&(t.hasArcType()||(t.hideXGridFocus(),t.hideTooltip(),t.unexpandCircles(),t.unexpandBars(),t.main.selectAll("."+o.shape+"-"+i).each(function(e){a.data_onmouseout.call(t.api,e)})))}).on("mousemove",function(e){var n,r=e.index,s=t.svg.select("."+o.eventRect+"-"+r);t.dragging||t.flowing||t.hasArcType()||(t.isStepType(e)&&"step-after"===t.config.line_step_type&&i.mouse(this)[0]<t.x(t.getXValue(e.id,r))&&(r-=1),n=t.filterTargetsToShow(t.data.targets).map(function(e){return t.addName(t.getValueOnIndex(e.values,r))}),a.tooltip_grouped&&(t.showTooltip(n,this),t.showXGridFocus(n)),(!a.tooltip_grouped||a.data_selection_enabled&&!a.data_selection_grouped)&&t.main.selectAll("."+o.shape+"-"+r).each(function(){i.select(this).classed(o.EXPANDED,!0),a.data_selection_enabled&&s.style("cursor",a.data_selection_grouped?"pointer":null),a.tooltip_grouped||(t.hideXGridFocus(),t.hideTooltip(),a.data_selection_grouped||(t.unexpandCircles(r),t.unexpandBars(r)))}).filter(function(e){return t.isWithinShape(this,e)}).each(function(e){a.data_selection_enabled&&(a.data_selection_grouped||a.data_selection_isselectable(e))&&s.style("cursor","pointer"),a.tooltip_grouped||(t.showTooltip([e],this),t.showXGridFocus([e]),a.point_focus_expand_enabled&&t.expandCircles(r,e.id,!0),t.expandBars(r,e.id,!0))}))}).on("click",function(e){var n=e.index;if(!t.hasArcType()&&t.toggleShape){if(t.cancelClick)return void(t.cancelClick=!1);t.isStepType(e)&&"step-after"===a.line_step_type&&i.mouse(this)[0]<t.x(t.getXValue(e.id,n))&&(n-=1),t.main.selectAll("."+o.shape+"-"+n).each(function(e){(a.data_selection_grouped||t.isWithinShape(this,e))&&(t.toggleShape(this,e,n),t.config.data_onclick.call(t.api,e,this))})}}).call(a.data_selection_draggable&&t.drag?i.behavior.drag().origin(Object).on("drag",function(){t.drag(i.mouse(this))}).on("dragstart",function(){t.dragstart(i.mouse(this))}).on("dragend",function(){t.dragend()}):function(){})},T.generateEventRectsForMultipleXs=function(e){function t(){i.svg.select("."+o.eventRect).style("cursor",null),i.hideXGridFocus(),i.hideTooltip(),i.unexpandCircles(),i.unexpandBars()}var i=this,a=i.d3,n=i.config;e.append("rect").attr("x",0).attr("y",0).attr("width",i.width).attr("height",i.height).attr("class",o.eventRect).on("mouseout",function(){i.config&&(i.hasArcType()||t())}).on("mousemove",function(){var e,r,s,l,d=i.filterTargetsToShow(i.data.targets);if(!i.dragging&&!i.hasArcType(d)){if(e=a.mouse(this),r=i.findClosestFromTargets(d,e),!i.mouseover||r&&r.id===i.mouseover.id||(n.data_onmouseout.call(i.api,i.mouseover),i.mouseover=void 0),!r)return void t();s=i.isScatterType(r)||!n.tooltip_grouped?[r]:i.filterByX(d,r.x),l=s.map(function(e){return i.addName(e)}),i.showTooltip(l,this),n.point_focus_expand_enabled&&i.expandCircles(r.index,r.id,!0),i.expandBars(r.index,r.id,!0),i.showXGridFocus(l),(i.isBarType(r.id)||i.dist(r,e)<n.point_sensitivity)&&(i.svg.select("."+o.eventRect).style("cursor","pointer"),i.mouseover||(n.data_onmouseover.call(i.api,r),i.mouseover=r))}}).on("click",function(){var e,t,r=i.filterTargetsToShow(i.data.targets);i.hasArcType(r)||(e=a.mouse(this),(t=i.findClosestFromTargets(r,e))&&(i.isBarType(t.id)||i.dist(t,e)<n.point_sensitivity)&&i.main.selectAll("."+o.shapes+i.getTargetSelectorSuffix(t.id)).selectAll("."+o.shape+"-"+t.index).each(function(){(n.data_selection_grouped||i.isWithinShape(this,t))&&(i.toggleShape(this,t,t.index),i.config.data_onclick.call(i.api,t,this))}))}).call(n.data_selection_draggable&&i.drag?a.behavior.drag().origin(Object).on("drag",function(){i.drag(a.mouse(this))}).on("dragstart",function(){i.dragstart(a.mouse(this))}).on("dragend",function(){i.dragend()}):function(){})},T.dispatchEvent=function(e,t,i){var a=this,n="."+o.eventRect+(a.isMultipleX()?"":"-"+t),r=a.main.select(n).node(),s=r.getBoundingClientRect(),l=s.left+(i?i[0]:0),d=s.top+(i?i[1]:0),u=document.createEvent("MouseEvents");u.initMouseEvent(e,!0,!0,window,0,l,d,l,d,!1,!1,!1,!1,0,null),r.dispatchEvent(u)},T.initLegend=function(){var e=this;if(e.legendItemTextBox={},e.legendHasRendered=!1,e.legend=e.svg.append("g").attr("transform",e.getTranslate("legend")),!e.config.legend_show)return e.legend.style("visibility","hidden"),void(e.hiddenLegendIds=e.mapToIds(e.data.targets));e.updateLegendWithDefaults()},T.updateLegendWithDefaults=function(){var e=this;e.updateLegend(e.mapToIds(e.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},T.updateSizeForLegend=function(e,t){var i=this,a=i.config,n={top:i.isLegendTop?i.getCurrentPaddingTop()+a.legend_inset_y+5.5:i.currentHeight-e-i.getCurrentPaddingBottom()-a.legend_inset_y,left:i.isLegendLeft?i.getCurrentPaddingLeft()+a.legend_inset_x+.5:i.currentWidth-t-i.getCurrentPaddingRight()-a.legend_inset_x+.5};i.margin3={top:i.isLegendRight?0:i.isLegendInset?n.top:i.currentHeight-e,right:NaN,bottom:0,left:i.isLegendRight?i.currentWidth-t:i.isLegendInset?n.left:0}},T.transformLegend=function(e){var t=this;(e?t.legend.transition():t.legend).attr("transform",t.getTranslate("legend"))},T.updateLegendStep=function(e){this.legendStep=e},T.updateLegendItemWidth=function(e){this.legendItemWidth=e},T.updateLegendItemHeight=function(e){this.legendItemHeight=e},T.getLegendWidth=function(){var e=this;return e.config.legend_show?e.isLegendRight||e.isLegendInset?e.legendItemWidth*(e.legendStep+1):e.currentWidth:0},T.getLegendHeight=function(){var e=this,t=0;return e.config.legend_show&&(t=e.isLegendRight?e.currentHeight:Math.max(20,e.legendItemHeight)*(e.legendStep+1)),t},T.opacityForLegend=function(e){return e.classed(o.legendItemHidden)?null:1},T.opacityForUnfocusedLegend=function(e){return e.classed(o.legendItemHidden)?null:.3},T.toggleFocusLegend=function(e,t){var i=this;e=i.mapToTargetIds(e),i.legend.selectAll("."+o.legendItem).filter(function(t){return e.indexOf(t)>=0}).classed(o.legendItemFocused,t).transition().duration(100).style("opacity",function(){return(t?i.opacityForLegend:i.opacityForUnfocusedLegend).call(i,i.d3.select(this))})},T.revertLegend=function(){var e=this,t=e.d3;e.legend.selectAll("."+o.legendItem).classed(o.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return e.opacityForLegend(t.select(this))})},T.showLegend=function(e){var t=this,i=t.config;i.legend_show||(i.legend_show=!0,t.legend.style("visibility","visible"),t.legendHasRendered||t.updateLegendWithDefaults()),t.removeHiddenLegendIds(e),t.legend.selectAll(t.selectorLegends(e)).style("visibility","visible").transition().style("opacity",function(){return t.opacityForLegend(t.d3.select(this))})},T.hideLegend=function(e){var t=this,i=t.config;i.legend_show&&_(e)&&(i.legend_show=!1,t.legend.style("visibility","hidden")),t.addHiddenLegendIds(e),t.legend.selectAll(t.selectorLegends(e)).style("opacity",0).style("visibility","hidden")},T.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},T.updateLegend=function(e,t,i){function a(e,t){return T.legendItemTextBox[t]||(T.legendItemTextBox[t]=T.getTextRect(e.textContent,o.legendItem,e)),T.legendItemTextBox[t]}function n(t,i,n){function r(e,t){t||(s=(p-M-h)/2)<R&&(s=(p-h)/2,M=0,V++),F[e]=V,D[V]=T.isLegendInset?10:s,L[e]=M,M+=h}var s,o,l=0===n,d=n===e.length-1,u=a(t,i),c=u.width+N+(!d||T.isLegendRight||T.isLegendInset?A:0)+E.legend_padding,f=u.height+P,h=T.isLegendRight||T.isLegendInset?f:c,p=T.isLegendRight||T.isLegendInset?T.getLegendHeight():T.getLegendWidth();if(l&&(M=0,V=0,C=0,O=0),E.legend_show&&!T.isLegendToShow(i))return void(I[i]=k[i]=F[i]=L[i]=0);I[i]=c,k[i]=f,(!C||c>=C)&&(C=c),(!O||f>=O)&&(O=f),o=T.isLegendRight||T.isLegendInset?O:C,E.legend_equally?(Object.keys(I).forEach(function(e){I[e]=C}),Object.keys(k).forEach(function(e){k[e]=O}),s=(p-o*e.length)/2,s<R?(M=0,V=0,e.forEach(function(e){r(e)})):r(i,!0)):r(i)}var r,s,l,d,u,c,f,p,g,m,_,y,x,S,b,w,T=this,E=T.config,P=4,A=10,C=0,O=0,R=10,N=E.legend_item_tile_width+5,M=0,L={},I={},k={},D=[0],F={},V=0;e=e.filter(function(e){return!h(E.data_names[e])||null!==E.data_names[e]}),t=t||{},_=v(t,"withTransition",!0),y=v(t,"withTransitionForTransform",!0),T.isLegendInset&&(V=E.legend_inset_step?E.legend_inset_step:e.length,T.updateLegendStep(V)),T.isLegendRight?(r=function(e){return C*F[e]},d=function(e){return D[F[e]]+L[e]}):T.isLegendInset?(r=function(e){return C*F[e]+10},d=function(e){return D[F[e]]+L[e]}):(r=function(e){return D[F[e]]+L[e]},d=function(e){return O*F[e]}),s=function(e,t){return r(e,t)+4+E.legend_item_tile_width},u=function(e,t){return d(e,t)+9},l=function(e,t){return r(e,t)},c=function(e,t){return d(e,t)-5},f=function(e,t){return r(e,t)-2},p=function(e,t){return r(e,t)-2+E.legend_item_tile_width},g=function(e,t){return d(e,t)+4},m=T.legend.selectAll("."+o.legendItem).data(e).enter().append("g").attr("class",function(e){return T.generateClass(o.legendItem,e)}).style("visibility",function(e){return T.isLegendToShow(e)?"visible":"hidden"}).style("cursor","pointer").on("click",function(e){E.legend_item_onclick?E.legend_item_onclick.call(T,e):T.d3.event.altKey?(T.api.hide(),T.api.show(e)):(T.api.toggle(e),T.isTargetToShow(e)?T.api.focus(e):T.api.revert())}).on("mouseover",function(e){E.legend_item_onmouseover?E.legend_item_onmouseover.call(T,e):(T.d3.select(this).classed(o.legendItemFocused,!0),!T.transiting&&T.isTargetToShow(e)&&T.api.focus(e))}).on("mouseout",function(e){E.legend_item_onmouseout?E.legend_item_onmouseout.call(T,e):(T.d3.select(this).classed(o.legendItemFocused,!1),T.api.revert())}),m.append("text").text(function(e){return h(E.data_names[e])?E.data_names[e]:e}).each(function(e,t){n(this,e,t)}).style("pointer-events","none").attr("x",T.isLegendRight||T.isLegendInset?s:-200).attr("y",T.isLegendRight||T.isLegendInset?-200:u),m.append("rect").attr("class",o.legendItemEvent).style("fill-opacity",0).attr("x",T.isLegendRight||T.isLegendInset?l:-200).attr("y",T.isLegendRight||T.isLegendInset?-200:c),m.append("line").attr("class",o.legendItemTile).style("stroke",T.color).style("pointer-events","none").attr("x1",T.isLegendRight||T.isLegendInset?f:-200).attr("y1",T.isLegendRight||T.isLegendInset?-200:g).attr("x2",T.isLegendRight||T.isLegendInset?p:-200).attr("y2",T.isLegendRight||T.isLegendInset?-200:g).attr("stroke-width",E.legend_item_tile_height),w=T.legend.select("."+o.legendBackground+" rect"),T.isLegendInset&&C>0&&0===w.size()&&(w=T.legend.insert("g","."+o.legendItem).attr("class",o.legendBackground).append("rect")),x=T.legend.selectAll("text").data(e).text(function(e){return h(E.data_names[e])?E.data_names[e]:e}).each(function(e,t){n(this,e,t)}),(_?x.transition():x).attr("x",s).attr("y",u),S=T.legend.selectAll("rect."+o.legendItemEvent).data(e),(_?S.transition():S).attr("width",function(e){return I[e]}).attr("height",function(e){return k[e]}).attr("x",l).attr("y",c),b=T.legend.selectAll("line."+o.legendItemTile).data(e),(_?b.transition():b).style("stroke",T.color).attr("x1",f).attr("y1",g).attr("x2",p).attr("y2",g),w&&(_?w.transition():w).attr("height",T.getLegendHeight()-12).attr("width",C*(V+1)+10),T.legend.selectAll("."+o.legendItem).classed(o.legendItemHidden,function(e){return!T.isTargetToShow(e)}),T.updateLegendItemWidth(C),T.updateLegendItemHeight(O),T.updateLegendStep(V),T.updateSizes(),T.updateScales(),T.updateSvgSize(),T.transformAll(y,i),T.legendHasRendered=!0},T.initRegion=function(){var e=this;e.region=e.main.append("g").attr("clip-path",e.clipPath).attr("class",o.regions)},T.updateRegion=function(e){var t=this,i=t.config;t.region.style("visibility",t.hasArcType()?"hidden":"visible"),t.mainRegion=t.main.select("."+o.regions).selectAll("."+o.region).data(i.regions),t.mainRegion.enter().append("g").append("rect").style("fill-opacity",0),t.mainRegion.attr("class",t.classRegion.bind(t)),t.mainRegion.exit().transition().duration(e).style("opacity",0).remove()},T.redrawRegion=function(e){var t=this,i=t.mainRegion.selectAll("rect").each(function(){var e=t.d3.select(this.parentNode).datum();t.d3.select(this).datum(e)}),a=t.regionX.bind(t),n=t.regionY.bind(t),r=t.regionWidth.bind(t),s=t.regionHeight.bind(t);return[(e?i.transition():i).attr("x",a).attr("y",n).attr("width",r).attr("height",s).style("fill-opacity",function(e){return l(e.opacity)?e.opacity:.1})]},T.regionX=function(e){var t=this,i=t.config,a="y"===e.axis?t.y:t.y2;return"y"===e.axis||"y2"===e.axis?i.axis_rotated&&"start"in e?a(e.start):0:i.axis_rotated?0:"start"in e?t.x(t.isTimeSeries()?t.parseDate(e.start):e.start):0},T.regionY=function(e){var t=this,i=t.config,a="y"===e.axis?t.y:t.y2;return"y"===e.axis||"y2"===e.axis?i.axis_rotated?0:"end"in e?a(e.end):0:i.axis_rotated&&"start"in e?t.x(t.isTimeSeries()?t.parseDate(e.start):e.start):0},T.regionWidth=function(e){var t,i=this,a=i.config,n=i.regionX(e),r="y"===e.axis?i.y:i.y2;return t="y"===e.axis||"y2"===e.axis?a.axis_rotated&&"end"in e?r(e.end):i.width:a.axis_rotated?i.width:"end"in e?i.x(i.isTimeSeries()?i.parseDate(e.end):e.end):i.width,t<n?0:t-n},T.regionHeight=function(e){var t,i=this,a=i.config,n=this.regionY(e),r="y"===e.axis?i.y:i.y2;return t="y"===e.axis||"y2"===e.axis?a.axis_rotated?i.height:"start"in e?r(e.start):i.height:a.axis_rotated&&"end"in e?i.x(i.isTimeSeries()?i.parseDate(e.end):e.end):i.height,t<n?0:t-n},T.isRegionOnX=function(e){return!e.axis||"x"===e.axis},T.getScale=function(e,t,i){return(i?this.d3.time.scale():this.d3.scale.linear()).range([e,t])},T.getX=function(e,t,i,a){var n,r=this,s=r.getScale(e,t,r.isTimeSeries()),o=i?s.domain(i):s;r.isCategorized()?(a=a||function(){return 0},s=function(e,t){var i=o(e)+a(e);return t?i:Math.ceil(i)}):s=function(e,t){var i=o(e);return t?i:Math.ceil(i)};for(n in o)s[n]=o[n];return s.orgDomain=function(){return o.domain()},r.isCategorized()&&(s.domain=function(e){return arguments.length?(o.domain(e),s):(e=this.orgDomain(),[e[0],e[1]+1])}),s},T.getY=function(e,t,i){var a=this.getScale(e,t,this.isTimeSeriesY());return i&&a.domain(i),a},T.getYScale=function(e){return"y2"===this.axis.getId(e)?this.y2:this.y},T.getSubYScale=function(e){return"y2"===this.axis.getId(e)?this.subY2:this.subY},T.updateScales=function(){var e=this,t=e.config,i=!e.x;e.xMin=t.axis_rotated?1:0,e.xMax=t.axis_rotated?e.height:e.width,e.yMin=t.axis_rotated?0:e.height,e.yMax=t.axis_rotated?e.width:1,e.subXMin=e.xMin,e.subXMax=e.xMax,e.subYMin=t.axis_rotated?0:e.height2,e.subYMax=t.axis_rotated?e.width2:1,e.x=e.getX(e.xMin,e.xMax,i?void 0:e.x.orgDomain(),function(){return e.xAxis.tickOffset()}),e.y=e.getY(e.yMin,e.yMax,i?t.axis_y_default:e.y.domain()),e.y2=e.getY(e.yMin,e.yMax,i?t.axis_y2_default:e.y2.domain()),e.subX=e.getX(e.xMin,e.xMax,e.orgXDomain,function(t){return t%1?0:e.subXAxis.tickOffset()}),e.subY=e.getY(e.subYMin,e.subYMax,i?t.axis_y_default:e.subY.domain()),e.subY2=e.getY(e.subYMin,e.subYMax,i?t.axis_y2_default:e.subY2.domain()),e.xAxisTickFormat=e.axis.getXAxisTickFormat(),e.xAxisTickValues=e.axis.getXAxisTickValues(),e.yAxisTickValues=e.axis.getYAxisTickValues(),e.y2AxisTickValues=e.axis.getY2AxisTickValues(),e.xAxis=e.axis.getXAxis(e.x,e.xOrient,e.xAxisTickFormat,e.xAxisTickValues,t.axis_x_tick_outer),e.subXAxis=e.axis.getXAxis(e.subX,e.subXOrient,e.xAxisTickFormat,e.xAxisTickValues,t.axis_x_tick_outer),e.yAxis=e.axis.getYAxis(e.y,e.yOrient,t.axis_y_tick_format,e.yAxisTickValues,t.axis_y_tick_outer),e.y2Axis=e.axis.getYAxis(e.y2,e.y2Orient,t.axis_y2_tick_format,e.y2AxisTickValues,t.axis_y2_tick_outer),i||(e.brush&&e.brush.scale(e.subX),t.zoom_enabled&&e.zoom.scale(e.x)),e.updateArc&&e.updateArc()},T.selectPoint=function(e,t,i){var a=this,n=a.config,r=(n.axis_rotated?a.circleY:a.circleX).bind(a),s=(n.axis_rotated?a.circleX:a.circleY).bind(a),l=a.pointSelectR.bind(a);n.data_onselected.call(a.api,t,e.node()),a.main.select("."+o.selectedCircles+a.getTargetSelectorSuffix(t.id)).selectAll("."+o.selectedCircle+"-"+i).data([t]).enter().append("circle").attr("class",function(){return a.generateClass(o.selectedCircle,i)}).attr("cx",r).attr("cy",s).attr("stroke",function(){return a.color(t)}).attr("r",function(e){return 1.4*a.pointSelectR(e)}).transition().duration(100).attr("r",l)},T.unselectPoint=function(e,t,i){var a=this;a.config.data_onunselected.call(a.api,t,e.node()),a.main.select("."+o.selectedCircles+a.getTargetSelectorSuffix(t.id)).selectAll("."+o.selectedCircle+"-"+i).transition().duration(100).attr("r",0).remove()},T.togglePoint=function(e,t,i,a){e?this.selectPoint(t,i,a):this.unselectPoint(t,i,a)},T.selectPath=function(e,t){var i=this;i.config.data_onselected.call(i,t,e.node()),i.config.interaction_brighten&&e.transition().duration(100).style("fill",function(){return i.d3.rgb(i.color(t)).brighter(.75)})},T.unselectPath=function(e,t){var i=this;i.config.data_onunselected.call(i,t,e.node()),i.config.interaction_brighten&&e.transition().duration(100).style("fill",function(){return i.color(t)})},T.togglePath=function(e,t,i,a){e?this.selectPath(t,i,a):this.unselectPath(t,i,a)},T.getToggle=function(e,t){var i,a=this;return"circle"===e.nodeName?i=a.isStepType(t)?function(){}:a.togglePoint:"path"===e.nodeName&&(i=a.togglePath),i},T.toggleShape=function(e,t,i){var a=this,n=a.d3,r=a.config,s=n.select(e),l=s.classed(o.SELECTED),d=a.getToggle(e,t).bind(a);r.data_selection_enabled&&r.data_selection_isselectable(t)&&(r.data_selection_multiple||a.main.selectAll("."+o.shapes+(r.data_selection_grouped?a.getTargetSelectorSuffix(t.id):"")).selectAll("."+o.shape).each(function(e,t){var i=n.select(this);i.classed(o.SELECTED)&&d(!1,i.classed(o.SELECTED,!1),e,t)}),s.classed(o.SELECTED,!l),d(!l,s,t,i))},T.initBar=function(){this.main.select("."+o.chart).append("g").attr("class",o.chartBars)},T.updateTargetsForBar=function(e){var t,i,a=this,n=a.config,r=a.classChartBar.bind(a),s=a.classBars.bind(a),l=a.classFocus.bind(a);t=a.main.select("."+o.chartBars).selectAll("."+o.chartBar).data(e).attr("class",function(e){return r(e)+l(e)}),i=t.enter().append("g").attr("class",r).style("opacity",0).style("pointer-events","none"),i.append("g").attr("class",s).style("cursor",function(e){return n.data_selection_isselectable(e)?"pointer":null})},T.updateBar=function(e){var t=this,i=t.barData.bind(t),a=t.classBar.bind(t),n=t.initialOpacity.bind(t),r=function(e){return t.color(e.id)};t.mainBar=t.main.selectAll("."+o.bars).selectAll("."+o.bar).data(i),t.mainBar.enter().append("path").attr("class",a).style("stroke",r).style("fill",r),t.mainBar.style("opacity",n),t.mainBar.exit().transition().duration(e).style("opacity",0).remove()},T.redrawBar=function(e,t){return[(t?this.mainBar.transition(Math.random().toString()):this.mainBar).attr("d",e).style("fill",this.color).style("opacity",1)]},T.getBarW=function(e,t){var i=this,a=i.config,n="number"==typeof a.bar_width?a.bar_width:t?e.tickInterval()*a.bar_width_ratio/t:0;return a.bar_width_max&&n>a.bar_width_max?a.bar_width_max:n},T.getBars=function(e,t){var i=this;return(t?i.main.selectAll("."+o.bars+i.getTargetSelectorSuffix(t)):i.main).selectAll("."+o.bar+(l(e)?"-"+e:""))},T.expandBars=function(e,t,i){var a=this;i&&a.unexpandBars(),a.getBars(e,t).classed(o.EXPANDED,!0)},T.unexpandBars=function(e){this.getBars(e).classed(o.EXPANDED,!1)},T.generateDrawBar=function(e,t){var i=this,a=i.config,n=i.generateGetBarPoints(e,t);return function(e,t){var i=n(e,t),r=a.axis_rotated?1:0,s=a.axis_rotated?0:1;return"M "+i[0][r]+","+i[0][s]+" L"+i[1][r]+","+i[1][s]+" L"+i[2][r]+","+i[2][s]+" L"+i[3][r]+","+i[3][s]+" z"}},T.generateGetBarPoints=function(e,t){var i=this,a=t?i.subXAxis:i.xAxis,n=e.__max__+1,r=i.getBarW(a,n),s=i.getShapeX(r,n,e,!!t),o=i.getShapeY(!!t),l=i.getShapeOffset(i.isBarType,e,!!t),d=t?i.getSubYScale:i.getYScale;return function(e,t){var a=d.call(i,e.id)(0),n=l(e,t)||a,u=s(e),c=o(e);return i.config.axis_rotated&&(0<e.value&&c<a||e.value<0&&a<c)&&(c=a),[[u,n],[u,c-(a-n)],[u+r,c-(a-n)],[u+r,n]]}},T.isWithinBar=function(e){var t=this.d3.mouse(e),i=e.getBoundingClientRect(),a=e.pathSegList.getItem(0),n=e.pathSegList.getItem(1),r=Math.min(a.x,n.x),s=Math.min(a.y,n.y),o=i.width,l=i.height,d=r-2,u=r+o+2,c=s+l+2,f=s-2;return d<t[0]&&t[0]<u&&f<t[1]&&t[1]<c},T.getShapeIndices=function(e){var t,i,a=this,n=a.config,r={},s=0;return a.filterTargetsToShow(a.data.targets.filter(e,a)).forEach(function(e){for(t=0;t<n.data_groups.length;t++)if(!(n.data_groups[t].indexOf(e.id)<0))for(i=0;i<n.data_groups[t].length;i++)if(n.data_groups[t][i]in r){r[e.id]=r[n.data_groups[t][i]];break}f(r[e.id])&&(r[e.id]=s++)}),r.__max__=s-1,r},T.getShapeX=function(e,t,i,a){var n=this,r=a?n.subX:n.x;return function(a){var n=a.id in i?i[a.id]:0;return a.x||0===a.x?r(a.x)-e*(t/2-n):0}},T.getShapeY=function(e){var t=this;return function(i){return(e?t.getSubYScale(i.id):t.getYScale(i.id))(i.value)}},T.getShapeOffset=function(e,t,i){var a=this,n=a.orderTargets(a.filterTargetsToShow(a.data.targets.filter(e,a))),r=n.map(function(e){return e.id});return function(e,s){var o=i?a.getSubYScale(e.id):a.getYScale(e.id),l=o(0),d=l;return n.forEach(function(i){var n=a.isStepType(e)?a.convertValuesToStep(i.values):i.values;i.id!==e.id&&t[i.id]===t[e.id]&&r.indexOf(i.id)<r.indexOf(e.id)&&(void 0!==n[s]&&+n[s].x==+e.x||(s=-1,n.forEach(function(t,i){t.x===e.x&&(s=i)})),s in n&&n[s].value*e.value>=0&&(d+=o(n[s].value)-l))}),d}},T.isWithinShape=function(e,t){var i,a=this,n=a.d3.select(e);return a.isTargetToShow(t.id)?"circle"===e.nodeName?i=a.isStepType(t)?a.isWithinStep(e,a.getYScale(t.id)(t.value)):a.isWithinCircle(e,1.5*a.pointSelectR(t)):"path"===e.nodeName&&(i=!n.classed(o.bar)||a.isWithinBar(e)):i=!1,i},T.getInterpolate=function(e){var t=this,i=t.isInterpolationType(t.config.spline_interpolation_type)?t.config.spline_interpolation_type:"cardinal";return t.isSplineType(e)?i:t.isStepType(e)?t.config.line_step_type:"linear"},T.initLine=function(){this.main.select("."+o.chart).append("g").attr("class",o.chartLines)},T.updateTargetsForLine=function(e){var t,i,a=this,n=a.config,r=a.classChartLine.bind(a),s=a.classLines.bind(a),l=a.classAreas.bind(a),d=a.classCircles.bind(a),u=a.classFocus.bind(a);t=a.main.select("."+o.chartLines).selectAll("."+o.chartLine).data(e).attr("class",function(e){return r(e)+u(e)}),i=t.enter().append("g").attr("class",r).style("opacity",0).style("pointer-events","none"),i.append("g").attr("class",s),i.append("g").attr("class",l),i.append("g").attr("class",function(e){return a.generateClass(o.selectedCircles,e.id)}),i.append("g").attr("class",d).style("cursor",function(e){return n.data_selection_isselectable(e)?"pointer":null}),e.forEach(function(e){a.main.selectAll("."+o.selectedCircles+a.getTargetSelectorSuffix(e.id)).selectAll("."+o.selectedCircle).each(function(t){t.value=e.values[t.index].value})})},T.updateLine=function(e){var t=this;t.mainLine=t.main.selectAll("."+o.lines).selectAll("."+o.line).data(t.lineData.bind(t)),t.mainLine.enter().append("path").attr("class",t.classLine.bind(t)).style("stroke",t.color),t.mainLine.style("opacity",t.initialOpacity.bind(t)).style("shape-rendering",function(e){return t.isStepType(e)?"crispEdges":""}).attr("transform",null),t.mainLine.exit().transition().duration(e).style("opacity",0).remove()},T.redrawLine=function(e,t){return[(t?this.mainLine.transition(Math.random().toString()):this.mainLine).attr("d",e).style("stroke",this.color).style("opacity",1)]},T.generateDrawLine=function(e,t){var i=this,a=i.config,n=i.d3.svg.line(),r=i.generateGetLinePoints(e,t),s=t?i.getSubYScale:i.getYScale,o=function(e){return(t?i.subxx:i.xx).call(i,e)},l=function(e,t){return a.data_groups.length>0?r(e,t)[0][1]:s.call(i,e.id)(e.value)};return n=a.axis_rotated?n.x(l).y(o):n.x(o).y(l),a.line_connectNull||(n=n.defined(function(e){return null!=e.value})),function(e){var r,o=a.line_connectNull?i.filterRemoveNull(e.values):e.values,l=t?i.x:i.subX,d=s.call(i,e.id),u=0,c=0;return i.isLineType(e)?a.data_regions[e.id]?r=i.lineWithRegions(o,l,d,a.data_regions[e.id]):(i.isStepType(e)&&(o=i.convertValuesToStep(o)),r=n.interpolate(i.getInterpolate(e))(o)):(o[0]&&(u=l(o[0].x),c=d(o[0].value)),r=a.axis_rotated?"M "+c+" "+u:"M "+u+" "+c),r||"M 0 0"}},T.generateGetLinePoints=function(e,t){var i=this,a=i.config,n=e.__max__+1,r=i.getShapeX(0,n,e,!!t),s=i.getShapeY(!!t),o=i.getShapeOffset(i.isLineType,e,!!t),l=t?i.getSubYScale:i.getYScale;return function(e,t){var n=l.call(i,e.id)(0),d=o(e,t)||n,u=r(e),c=s(e);return a.axis_rotated&&(0<e.value&&c<n||e.value<0&&n<c)&&(c=n),[[u,c-(n-d)],[u,c-(n-d)],[u,c-(n-d)],[u,c-(n-d)]]}},T.lineWithRegions=function(e,t,i,a){function n(e){return"M"+e[0][0]+" "+e[0][1]+" "+e[1][0]+" "+e[1][1]}var r,s,o,l,d,u,c,p,g,m,_,y,v=this,x=v.config,S="M",b=v.isCategorized()?.5:0,w=[];if(h(a))for(r=0;r<a.length;r++)w[r]={},f(a[r].start)?w[r].start=e[0].x:w[r].start=v.isTimeSeries()?v.parseDate(a[r].start):a[r].start,f(a[r].end)?w[r].end=e[e.length-1].x:w[r].end=v.isTimeSeries()?v.parseDate(a[r].end):a[r].end;for(_=x.axis_rotated?function(e){return i(e.value)}:function(e){return t(e.x)},y=x.axis_rotated?function(e){return t(e.x)}:function(e){return i(e.value)},o=v.isTimeSeries()?function(e,a,r,s){var o,l=e.x.getTime(),u=a.x-e.x,c=new Date(l+u*r),f=new Date(l+u*(r+s));return o=x.axis_rotated?[[i(d(r)),t(c)],[i(d(r+s)),t(f)]]:[[t(c),i(d(r))],[t(f),i(d(r+s))]],n(o)}:function(e,a,r,s){var o;return o=x.axis_rotated?[[i(d(r),!0),t(l(r))],[i(d(r+s),!0),t(l(r+s))]]:[[t(l(r),!0),i(d(r))],[t(l(r+s),!0),i(d(r+s))]],n(o)},r=0;r<e.length;r++){if(f(w)||!function(e,t){var i;for(i=0;i<t.length;i++)if(t[i].start<e&&e<=t[i].end)return!0;return!1}(e[r].x,w))S+=" "+_(e[r])+" "+y(e[r]);else for(l=v.getScale(e[r-1].x+b,e[r].x+b,v.isTimeSeries()),d=v.getScale(e[r-1].value,e[r].value),u=t(e[r].x)-t(e[r-1].x),c=i(e[r].value)-i(e[r-1].value),p=Math.sqrt(Math.pow(u,2)+Math.pow(c,2)),g=2/p,m=2*g,s=g;s<=1;s+=m)S+=o(e[r-1],e[r],s,g);e[r].x}return S},T.updateArea=function(e){var t=this,i=t.d3;t.mainArea=t.main.selectAll("."+o.areas).selectAll("."+o.area).data(t.lineData.bind(t)),t.mainArea.enter().append("path").attr("class",t.classArea.bind(t)).style("fill",t.color).style("opacity",function(){return t.orgAreaOpacity=+i.select(this).style("opacity"),0}),t.mainArea.style("opacity",t.orgAreaOpacity),t.mainArea.exit().transition().duration(e).style("opacity",0).remove()},T.redrawArea=function(e,t){return[(t?this.mainArea.transition(Math.random().toString()):this.mainArea).attr("d",e).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},T.generateDrawArea=function(e,t){var i=this,a=i.config,n=i.d3.svg.area(),r=i.generateGetAreaPoints(e,t),s=t?i.getSubYScale:i.getYScale,o=function(e){return(t?i.subxx:i.xx).call(i,e)},l=function(e,t){return a.data_groups.length>0?r(e,t)[0][1]:s.call(i,e.id)(i.getAreaBaseValue(e.id))},d=function(e,t){return a.data_groups.length>0?r(e,t)[1][1]:s.call(i,e.id)(e.value)};return n=a.axis_rotated?n.x0(l).x1(d).y(o):n.x(o).y0(a.area_above?0:l).y1(d),a.line_connectNull||(n=n.defined(function(e){return null!==e.value})),function(e){var t,r=a.line_connectNull?i.filterRemoveNull(e.values):e.values,s=0,o=0;return i.isAreaType(e)?(i.isStepType(e)&&(r=i.convertValuesToStep(r)),t=n.interpolate(i.getInterpolate(e))(r)):(r[0]&&(s=i.x(r[0].x),o=i.getYScale(e.id)(r[0].value)),t=a.axis_rotated?"M "+o+" "+s:"M "+s+" "+o),t||"M 0 0"}},T.getAreaBaseValue=function(){return 0},T.generateGetAreaPoints=function(e,t){var i=this,a=i.config,n=e.__max__+1,r=i.getShapeX(0,n,e,!!t),s=i.getShapeY(!!t),o=i.getShapeOffset(i.isAreaType,e,!!t),l=t?i.getSubYScale:i.getYScale;return function(e,t){var n=l.call(i,e.id)(0),d=o(e,t)||n,u=r(e),c=s(e);return a.axis_rotated&&(0<e.value&&c<n||e.value<0&&n<c)&&(c=n),[[u,d],[u,c-(n-d)],[u,c-(n-d)],[u,d]]}},T.updateCircle=function(){var e=this;e.mainCircle=e.main.selectAll("."+o.circles).selectAll("."+o.circle).data(e.lineOrScatterData.bind(e)),e.mainCircle.enter().append("circle").attr("class",e.classCircle.bind(e)).attr("r",e.pointR.bind(e)).style("fill",e.color),e.mainCircle.style("opacity",e.initialOpacityForCircle.bind(e)),e.mainCircle.exit().remove()},T.redrawCircle=function(e,t,i){var a=this.main.selectAll("."+o.selectedCircle);return[(i?this.mainCircle.transition(Math.random().toString()):this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",e).attr("cy",t),(i?a.transition(Math.random().toString()):a).attr("cx",e).attr("cy",t)]},T.circleX=function(e){return e.x||0===e.x?this.x(e.x):null},T.updateCircleY=function(){var e,t,i=this;i.config.data_groups.length>0?(e=i.getShapeIndices(i.isLineType),t=i.generateGetLinePoints(e),i.circleY=function(e,i){return t(e,i)[0][1]}):i.circleY=function(e){return i.getYScale(e.id)(e.value)}},T.getCircles=function(e,t){var i=this;return(t?i.main.selectAll("."+o.circles+i.getTargetSelectorSuffix(t)):i.main).selectAll("."+o.circle+(l(e)?"-"+e:""))},T.expandCircles=function(e,t,i){var a=this,n=a.pointExpandedR.bind(a);i&&a.unexpandCircles(),a.getCircles(e,t).classed(o.EXPANDED,!0).attr("r",n)},T.unexpandCircles=function(e){var t=this,i=t.pointR.bind(t);t.getCircles(e).filter(function(){return t.d3.select(this).classed(o.EXPANDED)}).classed(o.EXPANDED,!1).attr("r",i)},T.pointR=function(e){var t=this,i=t.config;return t.isStepType(e)?0:d(i.point_r)?i.point_r(e):i.point_r},T.pointExpandedR=function(e){var t=this,i=t.config;return i.point_focus_expand_enabled?i.point_focus_expand_r?i.point_focus_expand_r:1.75*t.pointR(e):t.pointR(e)},T.pointSelectR=function(e){var t=this,i=t.config;return d(i.point_select_r)?i.point_select_r(e):i.point_select_r?i.point_select_r:4*t.pointR(e)},T.isWithinCircle=function(e,t){var i=this.d3,a=i.mouse(e),n=i.select(e),r=+n.attr("cx"),s=+n.attr("cy");return Math.sqrt(Math.pow(r-a[0],2)+Math.pow(s-a[1],2))<t},T.isWithinStep=function(e,t){return Math.abs(t-this.d3.mouse(e)[1])<30},T.getCurrentWidth=function(){var e=this,t=e.config;return t.size_width?t.size_width:e.getParentWidth()},T.getCurrentHeight=function(){var e=this,t=e.config,i=t.size_height?t.size_height:e.getParentHeight();return i>0?i:320/(e.hasType("gauge")&&!t.gauge_fullCircle?2:1)},T.getCurrentPaddingTop=function(){var e=this,t=e.config,i=l(t.padding_top)?t.padding_top:0;return e.title&&e.title.node()&&(i+=e.getTitlePadding()),i},T.getCurrentPaddingBottom=function(){var e=this.config;return l(e.padding_bottom)?e.padding_bottom:0},T.getCurrentPaddingLeft=function(e){var t=this,i=t.config;return l(i.padding_left)?i.padding_left:i.axis_rotated?i.axis_x_show?Math.max(p(t.getAxisWidthByAxisId("x",e)),40):1:!i.axis_y_show||i.axis_y_inner?t.axis.getYAxisLabelPosition().isOuter?30:1:p(t.getAxisWidthByAxisId("y",e))},T.getCurrentPaddingRight=function(){var e=this,t=e.config,i=e.isLegendRight?e.getLegendWidth()+20:0;return l(t.padding_right)?t.padding_right+1:t.axis_rotated?10+i:!t.axis_y2_show||t.axis_y2_inner?2+i+(e.axis.getY2AxisLabelPosition().isOuter?20:0):p(e.getAxisWidthByAxisId("y2"))+i},T.getParentRectValue=function(e){for(var t,i=this.selectChart.node();i&&"BODY"!==i.tagName;){try{t=i.getBoundingClientRect()[e]}catch(a){"width"===e&&(t=i.offsetWidth)}if(t)break;i=i.parentNode}return t},T.getParentWidth=function(){return this.getParentRectValue("width")},T.getParentHeight=function(){var e=this.selectChart.style("height");return e.indexOf("px")>0?+e.replace("px",""):0},T.getSvgLeft=function(e){var t=this,i=t.config,a=i.axis_rotated||!i.axis_rotated&&!i.axis_y_inner,n=i.axis_rotated?o.axisX:o.axisY,r=t.main.select("."+n).node(),s=r&&a?r.getBoundingClientRect():{right:0},l=t.selectChart.node().getBoundingClientRect(),d=t.hasArcType(),u=s.right-l.left-(d?0:t.getCurrentPaddingLeft(e));return u>0?u:0},T.getAxisWidthByAxisId=function(e,t){var i=this,a=i.axis.getLabelPositionById(e);return i.axis.getMaxTickWidth(e,t)+(a.isInner?20:40)},T.getHorizontalAxisHeight=function(e){var t=this,i=t.config,a=30;return"x"!==e||i.axis_x_show?"x"===e&&i.axis_x_height?i.axis_x_height:"y"!==e||i.axis_y_show?"y2"!==e||i.axis_y2_show?("x"===e&&!i.axis_rotated&&i.axis_x_tick_rotate&&(a=30+t.axis.getMaxTickWidth(e)*Math.cos(Math.PI*(90-i.axis_x_tick_rotate)/180)),"y"===e&&i.axis_rotated&&i.axis_y_tick_rotate&&(a=30+t.axis.getMaxTickWidth(e)*Math.cos(Math.PI*(90-i.axis_y_tick_rotate)/180)),a+(t.axis.getLabelPositionById(e).isInner?0:10)+("y2"===e?-10:0)):t.rotated_padding_top:!i.legend_show||t.isLegendRight||t.isLegendInset?1:10:8},T.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())},T.initBrush=function(){var e=this,t=e.d3;e.brush=t.svg.brush().on("brush",function(){e.redrawForBrush()}),e.brush.update=function(){return e.context&&e.context.select("."+o.brush).call(this),this},e.brush.scale=function(t){return e.config.axis_rotated?this.y(t):this.x(t)}},T.initSubchart=function(){var e=this,t=e.config,i=e.context=e.svg.append("g").attr("transform",e.getTranslate("context")),a=t.subchart_show?"visible":"hidden";i.style("visibility",a),i.append("g").attr("clip-path",e.clipPathForSubchart).attr("class",o.chart),i.select("."+o.chart).append("g").attr("class",o.chartBars),i.select("."+o.chart).append("g").attr("class",o.chartLines),i.append("g").attr("clip-path",e.clipPath).attr("class",o.brush).call(e.brush),e.axes.subx=i.append("g").attr("class",o.axisX).attr("transform",e.getTranslate("subx")).attr("clip-path",t.axis_rotated?"":e.clipPathForXAxis).style("visibility",t.subchart_axis_x_show?a:"hidden")},T.updateTargetsForSubchart=function(e){var t,i,a,n,r=this,s=r.context,l=r.config,d=r.classChartBar.bind(r),u=r.classBars.bind(r),c=r.classChartLine.bind(r),f=r.classLines.bind(r),h=r.classAreas.bind(r);l.subchart_show&&(n=s.select("."+o.chartBars).selectAll("."+o.chartBar).data(e).attr("class",d),a=n.enter().append("g").style("opacity",0).attr("class",d),a.append("g").attr("class",u),i=s.select("."+o.chartLines).selectAll("."+o.chartLine).data(e).attr("class",c),t=i.enter().append("g").style("opacity",0).attr("class",c),t.append("g").attr("class",f),t.append("g").attr("class",h),s.selectAll("."+o.brush+" rect").attr(l.axis_rotated?"width":"height",l.axis_rotated?r.width2:r.height2))},T.updateBarForSubchart=function(e){var t=this;t.contextBar=t.context.selectAll("."+o.bars).selectAll("."+o.bar).data(t.barData.bind(t)),t.contextBar.enter().append("path").attr("class",t.classBar.bind(t)).style("stroke","none").style("fill",t.color),t.contextBar.style("opacity",t.initialOpacity.bind(t)),t.contextBar.exit().transition().duration(e).style("opacity",0).remove()},T.redrawBarForSubchart=function(e,t,i){(t?this.contextBar.transition(Math.random().toString()).duration(i):this.contextBar).attr("d",e).style("opacity",1)},T.updateLineForSubchart=function(e){var t=this;t.contextLine=t.context.selectAll("."+o.lines).selectAll("."+o.line).data(t.lineData.bind(t)),t.contextLine.enter().append("path").attr("class",t.classLine.bind(t)).style("stroke",t.color),t.contextLine.style("opacity",t.initialOpacity.bind(t)),t.contextLine.exit().transition().duration(e).style("opacity",0).remove()},T.redrawLineForSubchart=function(e,t,i){(t?this.contextLine.transition(Math.random().toString()).duration(i):this.contextLine).attr("d",e).style("opacity",1)},T.updateAreaForSubchart=function(e){var t=this,i=t.d3;t.contextArea=t.context.selectAll("."+o.areas).selectAll("."+o.area).data(t.lineData.bind(t)),t.contextArea.enter().append("path").attr("class",t.classArea.bind(t)).style("fill",t.color).style("opacity",function(){return t.orgAreaOpacity=+i.select(this).style("opacity"),0}),t.contextArea.style("opacity",0),t.contextArea.exit().transition().duration(e).style("opacity",0).remove()},T.redrawAreaForSubchart=function(e,t,i){(t?this.contextArea.transition(Math.random().toString()).duration(i):this.contextArea).attr("d",e).style("fill",this.color).style("opacity",this.orgAreaOpacity)},T.redrawSubchart=function(e,t,i,a,n,r,s){var o,l,d,u=this,c=u.d3,f=u.config;u.context.style("visibility",f.subchart_show?"visible":"hidden"),f.subchart_show&&(c.event&&"zoom"===c.event.type&&u.brush.extent(u.x.orgDomain()).update(),e&&(u.brush.empty()||u.brush.extent(u.x.orgDomain()).update(),o=u.generateDrawArea(n,!0),l=u.generateDrawBar(r,!0),d=u.generateDrawLine(s,!0),u.updateBarForSubchart(i),u.updateLineForSubchart(i),u.updateAreaForSubchart(i),u.redrawBarForSubchart(l,i,i),u.redrawLineForSubchart(d,i,i),u.redrawAreaForSubchart(o,i,i)))},T.redrawForBrush=function(){var e=this,t=e.x;e.redraw({withTransition:!1,withY:e.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),e.config.subchart_onbrush.call(e.api,t.orgDomain())},T.transformContext=function(e,t){var i,a=this;t&&t.axisSubX?i=t.axisSubX:(i=a.context.select("."+o.axisX),e&&(i=i.transition())),a.context.attr("transform",a.getTranslate("context")),i.attr("transform",a.getTranslate("subx"))},T.getDefaultExtent=function(){var e=this,t=e.config,i=d(t.axis_x_extent)?t.axis_x_extent(e.getXDomain(e.data.targets)):t.axis_x_extent;return e.isTimeSeries()&&(i=[e.parseDate(i[0]),e.parseDate(i[1])]),i},T.initText=function(){var e=this;e.main.select("."+o.chart).append("g").attr("class",o.chartTexts),e.mainText=e.d3.selectAll([])},T.updateTargetsForText=function(e){var t,i,a=this,n=a.classChartText.bind(a),r=a.classTexts.bind(a),s=a.classFocus.bind(a);t=a.main.select("."+o.chartTexts).selectAll("."+o.chartText).data(e).attr("class",function(e){return n(e)+s(e)}),i=t.enter().append("g").attr("class",n).style("opacity",0).style("pointer-events","none"),i.append("g").attr("class",r)},T.updateText=function(e){var t=this,i=t.config,a=t.barOrLineData.bind(t),n=t.classText.bind(t);t.mainText=t.main.selectAll("."+o.texts).selectAll("."+o.text).data(a),t.mainText.enter().append("text").attr("class",n).attr("text-anchor",function(e){return i.axis_rotated?e.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(e){return t.color(e)}).style("fill-opacity",0),t.mainText.text(function(e,i,a){return t.dataLabelFormat(e.id)(e.value,e.id,i,a)}),t.mainText.exit().transition().duration(e).style("fill-opacity",0).remove()},T.redrawText=function(e,t,i,a){return[(a?this.mainText.transition():this.mainText).attr("x",e).attr("y",t).style("fill",this.color).style("fill-opacity",i?0:this.opacityForText.bind(this))]},T.getTextRect=function(e,t,i){var a,n=this.d3.select("body").append("div").classed("c3",!0),r=n.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),s=this.d3.select(i).style("font");return r.selectAll(".dummy").data([e]).enter().append("text").classed(t||"",!0).style("font",s).text(e).each(function(){a=this.getBoundingClientRect()}),n.remove(),a},T.generateXYForText=function(e,t,i,a){var n=this,r=n.generateGetAreaPoints(e,!1),s=n.generateGetBarPoints(t,!1),o=n.generateGetLinePoints(i,!1),l=a?n.getXForText:n.getYForText;return function(e,t){var i=n.isAreaType(e)?r:n.isBarType(e)?s:o;return l.call(n,i(e,t),e,this)}},T.getXForText=function(e,t,i){var a,n,r=this,s=i.getBoundingClientRect();return r.config.axis_rotated?(n=r.isBarType(t)?4:6,a=e[2][1]+n*(t.value<0?-1:1)):a=r.hasType("bar")?(e[2][0]+e[0][0])/2:e[0][0],null===t.value&&(a>r.width?a=r.width-s.width:a<0&&(a=4)),a},T.getYForText=function(e,t,i){var a,n=this,r=i.getBoundingClientRect();return n.config.axis_rotated?a=(e[0][0]+e[2][0]+.6*r.height)/2:(a=e[2][1],t.value<0||0===t.value&&!n.hasPositiveValue?(a+=r.height,n.isBarType(t)&&n.isSafari()?a-=3:!n.isBarType(t)&&n.isChrome()&&(a+=3)):a+=n.isBarType(t)?-3:-6),null!==t.value||n.config.axis_rotated||(a<r.height?a=r.height:a>this.height&&(a=this.height-4)),a},T.initTitle=function(){var e=this;e.title=e.svg.append("text").text(e.config.title_text).attr("class",e.CLASS.title)},T.redrawTitle=function(){var e=this;e.title.attr("x",e.xForTitle.bind(e)).attr("y",e.yForTitle.bind(e))},T.xForTitle=function(){var e=this,t=e.config,i=t.title_position||"left";return i.indexOf("right")>=0?e.currentWidth-e.getTextRect(e.title.node().textContent,e.CLASS.title,e.title.node()).width-t.title_padding.right:i.indexOf("center")>=0?(e.currentWidth-e.getTextRect(e.title.node().textContent,e.CLASS.title,e.title.node()).width)/2:t.title_padding.left},T.yForTitle=function(){var e=this;return e.config.title_padding.top+e.getTextRect(e.title.node().textContent,e.CLASS.title,e.title.node()).height},T.getTitlePadding=function(){var e=this;return e.yForTitle()+e.config.title_padding.bottom},T.initTooltip=function(){var e,t=this,i=t.config;if(t.tooltip=t.selectChart.style("position","relative").append("div").attr("class",o.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),i.tooltip_init_show){if(t.isTimeSeries()&&c(i.tooltip_init_x)){for(i.tooltip_init_x=t.parseDate(i.tooltip_init_x),e=0;e<t.data.targets[0].values.length&&t.data.targets[0].values[e].x-i.tooltip_init_x!=0;e++);i.tooltip_init_x=e}t.tooltip.html(i.tooltip_contents.call(t,t.data.targets.map(function(e){return t.addName(e.values[i.tooltip_init_x])}),t.axis.getXAxisTickFormat(),t.getYFormat(t.hasArcType()),t.color)),t.tooltip.style("top",i.tooltip_init_position.top).style("left",i.tooltip_init_position.left).style("display","block")}},T.getTooltipSortFunction=function(){var e=this,t=e.config;if(0!==t.data_groups.length&&void 0===t.tooltip_order){var i=e.orderTargets(e.data.targets).map(function(e){return e.id});return(e.isOrderAsc()||e.isOrderDesc())&&(i=i.reverse()),function(e,t){return i.indexOf(e.id)-i.indexOf(t.id)}}var a=t.tooltip_order;void 0===a&&(a=t.data_order);var n=function(e){return e?e.value:null};if(c(a)&&"asc"===a.toLowerCase())return function(e,t){return n(e)-n(t)};if(c(a)&&"desc"===a.toLowerCase())return function(e,t){return n(t)-n(e)};if(d(a)){var r=a;return void 0===t.tooltip_order&&(r=function(e,t){return a(e?{id:e.id,values:[e]}:null,t?{id:t.id,values:[t]}:null)}),r}return u(a)?function(e,t){return a.indexOf(e.id)-a.indexOf(t.id)}:void 0},T.getTooltipContent=function(e,t,i,a){var n,r,s,o,l,d,u=this,c=u.config,f=c.tooltip_format_title||t,h=c.tooltip_format_name||function(e){return e},p=c.tooltip_format_value||i,g=this.getTooltipSortFunction();for(g&&e.sort(g),r=0;r<e.length;r++)if(e[r]&&(e[r].value||0===e[r].value)&&(n||(s=S(f?f(e[r].x):e[r].x),n="<table class='"+u.CLASS.tooltip+"'>"+(s||0===s?"<tr><th colspan='2'>"+s+"</th></tr>":"")),void 0!==(o=S(p(e[r].value,e[r].ratio,e[r].id,e[r].index,e))))){if(null===e[r].name)continue;l=S(h(e[r].name,e[r].ratio,e[r].id,e[r].index)),d=u.levelColor?u.levelColor(e[r].value):a(e[r].id),n+="<tr class='"+u.CLASS.tooltipName+"-"+u.getTargetSelectorSuffix(e[r].id)+"'>",n+="<td class='name'><span style='background-color:"+d+"'></span>"+l+"</td>",n+="<td class='value'>"+o+"</td>",n+="</tr>"}return n+"</table>"},T.tooltipPosition=function(e,t,i,a){var n,r,s,o,l,d=this,u=d.config,c=d.d3,f=d.hasArcType(),h=c.mouse(a);return f?(r=(d.width-(d.isLegendRight?d.getLegendWidth():0))/2+h[0],o=d.height/2+h[1]+20):(n=d.getSvgLeft(!0),u.axis_rotated?(r=n+h[0]+100,s=r+t,l=d.currentWidth-d.getCurrentPaddingRight(),o=d.x(e[0].x)+20):(r=n+d.getCurrentPaddingLeft(!0)+d.x(e[0].x)+20,s=r+t,l=n+d.currentWidth-d.getCurrentPaddingRight(),o=h[1]+15),s>l&&(r-=s-l+20),o+i>d.currentHeight&&(o-=i+30)),o<0&&(o=0),{top:o,left:r}},T.showTooltip=function(e,t){var i,a,n,r=this,s=r.config,o=r.hasArcType(),d=e.filter(function(e){return e&&l(e.value)}),u=s.tooltip_position||T.tooltipPosition;0!==d.length&&s.tooltip_show&&(r.tooltip.html(s.tooltip_contents.call(r,e,r.axis.getXAxisTickFormat(),r.getYFormat(o),r.color)).style("display","block"),i=r.tooltip.property("offsetWidth"),a=r.tooltip.property("offsetHeight"),n=u.call(this,d,i,a,t),r.tooltip.style("top",n.top+"px").style("left",n.left+"px"))},T.hideTooltip=function(){this.tooltip.style("display","none")},T.setTargetType=function(e,t){var i=this,a=i.config;i.mapToTargetIds(e).forEach(function(e){i.withoutFadeIn[e]=t===a.data_types[e],a.data_types[e]=t}),e||(a.data_type=t)},T.hasType=function(e,t){var i=this,a=i.config.data_types,n=!1;return t=t||i.data.targets,t&&t.length?t.forEach(function(t){var i=a[t.id];(i&&i.indexOf(e)>=0||!i&&"line"===e)&&(n=!0)}):Object.keys(a).length?Object.keys(a).forEach(function(t){a[t]===e&&(n=!0)}):n=i.config.data_type===e,n},T.hasArcType=function(e){return this.hasType("pie",e)||this.hasType("donut",e)||this.hasType("gauge",e)},T.isLineType=function(e){var t=this.config,i=c(e)?e:e.id;return!t.data_types[i]||["line","spline","area","area-spline","step","area-step"].indexOf(t.data_types[i])>=0},T.isStepType=function(e){var t=c(e)?e:e.id;return["step","area-step"].indexOf(this.config.data_types[t])>=0},T.isSplineType=function(e){var t=c(e)?e:e.id;return["spline","area-spline"].indexOf(this.config.data_types[t])>=0},T.isAreaType=function(e){var t=c(e)?e:e.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[t])>=0},T.isBarType=function(e){var t=c(e)?e:e.id;return"bar"===this.config.data_types[t]},T.isScatterType=function(e){var t=c(e)?e:e.id;return"scatter"===this.config.data_types[t]},T.isPieType=function(e){var t=c(e)?e:e.id;return"pie"===this.config.data_types[t]},T.isGaugeType=function(e){var t=c(e)?e:e.id;return"gauge"===this.config.data_types[t]},T.isDonutType=function(e){var t=c(e)?e:e.id;return"donut"===this.config.data_types[t]},T.isArcType=function(e){return this.isPieType(e)||this.isDonutType(e)||this.isGaugeType(e)},T.lineData=function(e){return this.isLineType(e)?[e]:[]},T.arcData=function(e){return this.isArcType(e.data)?[e]:[]},T.barData=function(e){return this.isBarType(e)?e.values:[]},T.lineOrScatterData=function(e){return this.isLineType(e)||this.isScatterType(e)?e.values:[]},T.barOrLineData=function(e){return this.isBarType(e)||this.isLineType(e)?e.values:[]},T.isInterpolationType=function(e){return["linear","linear-closed","basis","basis-open","basis-closed","bundle","cardinal","cardinal-open","cardinal-closed","monotone"].indexOf(e)>=0},T.isSafari=function(){var e=window.navigator.userAgent;return e.indexOf("Safari")>=0&&e.indexOf("Chrome")<0},T.isChrome=function(){return window.navigator.userAgent.indexOf("Chrome")>=0},T.initZoom=function(){var e,t=this,i=t.d3,a=t.config;t.zoom=i.behavior.zoom().on("zoomstart",function(){e=i.event.sourceEvent,t.zoom.altDomain=i.event.sourceEvent.altKey?t.x.orgDomain():null,a.zoom_onzoomstart.call(t.api,i.event.sourceEvent)}).on("zoom",function(){t.redrawForZoom.call(t)}).on("zoomend",function(){var n=i.event.sourceEvent;n&&e.clientX===n.clientX&&e.clientY===n.clientY||(t.redrawEventRect(),t.updateZoom(),a.zoom_onzoomend.call(t.api,t.x.orgDomain()))}),t.zoom.scale=function(e){return a.axis_rotated?this.y(e):this.x(e)},t.zoom.orgScaleExtent=function(){var e=a.zoom_extent?a.zoom_extent:[1,10];return[e[0],Math.max(t.getMaxDataCount()/e[1],e[1])]},t.zoom.updateScaleExtent=function(){var e=m(t.x.orgDomain())/m(t.getZoomDomain()),i=this.orgScaleExtent();return this.scaleExtent([i[0]*e,i[1]*e]),this}},T.getZoomDomain=function(){var e=this,t=e.config,i=e.d3;return[i.min([e.orgXDomain[0],t.zoom_x_min]),i.max([e.orgXDomain[1],t.zoom_x_max])]},T.updateZoom=function(){var e=this,t=e.config.zoom_enabled?e.zoom:function(){};e.main.select("."+o.zoomRect).call(t).on("dblclick.zoom",null),e.main.selectAll("."+o.eventRect).call(t).on("dblclick.zoom",null)},T.redrawForZoom=function(){var e=this,t=e.d3,i=e.config,a=e.zoom,n=e.x;if(i.zoom_enabled&&0!==e.filterTargetsToShow(e.data.targets).length){if("mousemove"===t.event.sourceEvent.type&&a.altDomain)return n.domain(a.altDomain),void a.scale(n).updateScaleExtent();e.isCategorized()&&n.orgDomain()[0]===e.orgXDomain[0]&&n.domain([e.orgXDomain[0]-1e-10,n.orgDomain()[1]]),e.redraw({withTransition:!1,withY:i.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===t.event.sourceEvent.type&&(e.cancelClick=!0),i.zoom_onzoom.call(e.api,n.orgDomain())}},E})},1418:function(e,exports,t){exports=e.exports=t(19)(),exports.push([e.i,".c3 svg{font:10px sans-serif;-webkit-tap-highlight-color:transparent}.c3 line,.c3 path{fill:none;stroke:#000}.c3 text{-webkit-user-select:none;-moz-user-select:none;user-select:none}.c3-bars path,.c3-event-rect,.c3-legend-item-tile,.c3-xgrid-focus,.c3-ygrid{shape-rendering:crispEdges}.c3-chart-arc path{stroke:#fff}.c3-chart-arc text{fill:#fff;font-size:13px}.c3-grid line{stroke:#aaa}.c3-grid text{fill:#aaa}.c3-xgrid,.c3-ygrid{stroke-dasharray:3 3}.c3-text.c3-empty{fill:gray;font-size:2em}.c3-line{stroke-width:1px}.c3-circle._expanded_{stroke-width:1px;stroke:#fff}.c3-selected-circle{fill:#fff;stroke-width:2px}.c3-bar{stroke-width:0}.c3-bar._expanded_{fill-opacity:.75}.c3-target.c3-focused{opacity:1}.c3-target.c3-focused path.c3-line,.c3-target.c3-focused path.c3-step{stroke-width:2px}.c3-target.c3-defocused{opacity:.3!important}.c3-region{fill:#4682b4;fill-opacity:.1}.c3-brush .extent{fill-opacity:.1}.c3-legend-item{font-size:12px}.c3-legend-item-hidden{opacity:.15}.c3-legend-background{opacity:.75;fill:#fff;stroke:#d3d3d3;stroke-width:1}.c3-title{font:14px sans-serif}.c3-tooltip-container{z-index:10}.c3-tooltip{border-collapse:collapse;border-spacing:0;background-color:#fff;empty-cells:show;-webkit-box-shadow:7px 7px 12px -9px #777;-moz-box-shadow:7px 7px 12px -9px #777;box-shadow:7px 7px 12px -9px #777;opacity:.9}.c3-tooltip tr{border:1px solid #ccc}.c3-tooltip th{background-color:#aaa;font-size:14px;padding:2px 5px;text-align:left;color:#fff}.c3-tooltip td{font-size:13px;padding:3px 6px;background-color:#fff;border-left:1px dotted #999}.c3-tooltip td>span{display:inline-block;width:10px;height:10px;margin-right:6px}.c3-tooltip td.value{text-align:right}.c3-area{stroke-width:0;opacity:.2}.c3-chart-arcs-title{dominant-baseline:middle;font-size:1.3em}.c3-chart-arcs .c3-chart-arcs-background{fill:#e0e0e0;stroke:none}.c3-chart-arcs .c3-chart-arcs-gauge-unit{fill:#000;font-size:16px}.c3-chart-arcs .c3-chart-arcs-gauge-max,.c3-chart-arcs .c3-chart-arcs-gauge-min{fill:#777}.c3-chart-arc .c3-gauge-value{fill:#000}",""])},1419:function(e,exports,t){exports=e.exports=t(19)(),exports.push([e.i,"div.dc-chart{float:left}.dc-chart rect.bar{stroke:none;cursor:pointer}.dc-chart rect.bar:hover{fill-opacity:.5}.dc-chart rect.stack1{stroke:none;fill:red}.dc-chart rect.stack2{stroke:none;fill:green}.dc-chart rect.deselected{stroke:none;fill:#ccc}.dc-chart .empty-chart .pie-slice path{fill:#fee;cursor:default}.dc-chart .empty-chart .pie-slice{cursor:default}.dc-chart .pie-slice{fill:#fff;font-size:12px;cursor:pointer}.dc-chart .pie-slice.external{fill:#000}.dc-chart .pie-slice.highlight,.dc-chart .pie-slice :hover{fill-opacity:.8}.dc-chart .selected path{stroke-width:3;stroke:#ccc;fill-opacity:1}.dc-chart .deselected path{stroke:none;fill-opacity:.5;fill:#ccc}.dc-chart .axis line,.dc-chart .axis path{fill:none;stroke:#000;shape-rendering:crispEdges}.dc-chart .axis text{font:10px sans-serif}.dc-chart .grid-line,.dc-chart .grid-line line{fill:none;stroke:#ccc;opacity:.5;shape-rendering:crispEdges}.dc-chart .brush rect.background{z-index:-999}.dc-chart .brush rect.extent{fill:#4682b4;fill-opacity:.125}.dc-chart .brush .resize path{fill:#eee;stroke:#666}.dc-chart path.line{fill:none;stroke-width:1.5px}.dc-chart circle.dot{stroke:none}.dc-chart g.dc-tooltip path{fill:none;stroke:grey;stroke-opacity:.8}.dc-chart path.area{fill-opacity:.3;stroke:none}.dc-chart .node{font-size:.7em;cursor:pointer}.dc-chart .node :hover{fill-opacity:.8}.dc-chart .selected circle{stroke-width:3;stroke:#ccc;fill-opacity:1}.dc-chart .deselected circle{stroke:none;fill-opacity:.5;fill:#ccc}.dc-chart .bubble{stroke:none;fill-opacity:.6}.dc-data-count{float:right;margin-top:15px;margin-right:15px}.dc-data-count .filter-count,.dc-data-count .total-count{color:#3182bd;font-weight:700}.dc-chart g.state{cursor:pointer}.dc-chart g.state :hover{fill-opacity:.8}.dc-chart g.state path{stroke:#fff}.dc-chart g.deselected path{fill:grey}.dc-chart g.deselected text{display:none}.dc-chart g.county path{stroke:#fff;fill:none}.dc-chart g.debug rect{fill:blue;fill-opacity:.2}.dc-chart g.row rect{fill-opacity:.8;cursor:pointer}.dc-chart g.row rect:hover{fill-opacity:.6}.dc-chart g.row text{fill:#fff;font-size:12px;cursor:pointer}.dc-legend{font-size:11px}.dc-legend-item{cursor:pointer}.dc-chart g.axis text{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;pointer-events:none}.dc-chart path.highlight{stroke-width:3}.dc-chart .highlight,.dc-chart path.highlight{fill-opacity:1;stroke-opacity:1}.dc-chart .fadeout{fill-opacity:.2;stroke-opacity:.2}.dc-chart path.dc-symbol,g.dc-legend-item.fadeout{fill-opacity:.5;stroke-opacity:.5}.dc-hard .number-display{float:none}.dc-chart .box text{font:10px sans-serif;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;pointer-events:none}.dc-chart .box circle,.dc-chart .box line{fill:#fff;stroke:#000;stroke-width:1.5px}.dc-chart .box rect{stroke:#000;stroke-width:1.5px}.dc-chart .box .center{stroke-dasharray:3,3}.dc-chart .box .outlier{fill:none;stroke:#ccc}.dc-chart .box.deselected .box{fill:#ccc}.dc-chart .box.deselected{opacity:.5}.dc-chart .symbol{stroke:none}.dc-chart .heatmap .box-group.deselected rect{stroke:none;fill-opacity:.5;fill:#ccc}.dc-chart .heatmap g.axis text{pointer-events:all;cursor:pointer}",""])},1420:function(e,exports,t){exports=e.exports=t(19)(),exports.push([e.i,'.universalsearch-form .twitter-typeahead,form:not(.form-inline) .twitter-typeahead{width:100%}.universalsearch-form .tt-menu{height:auto;overflow:visible;width:100%}.tt-hint,.tt-query,.typeahead{border:2px solid #ccc;border-radius:4px;outline:none}.typeahead{background-color:#fff}.typeahead:focus{border:2px solid #0097cf}.tt-query{box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}input[type=text].tt-hint{color:#999}.tt-menu{min-width:160px;background-color:#fff;border:1px solid rgba(0,0,0,.2);border-radius:4px;box-shadow:0 5px 10px rgba(0,0,0,.2);width:100%}.tt-dataset{margin-top:10px}.tt-suggestion{font-size:12px;line-height:20px;padding:3px 20px;cursor:pointer}.tt-suggestion.tt-cursor,.tt-suggestion:hover{color:#fff;text-decoration:none;background-color:#0081c2;background-image:linear-gradient(180deg,#08c,#0077b3);background-repeat:repeat-x;outline:0;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#ff0088cc",endColorstr="#ff0077b3",GradientType=0)}.tt-suggestion p{margin:0}',""])},1421:function(e,exports,t){exports=e.exports=t(19)(),exports.push([e.i,"th a{color:#fff}th a:hover{color:#fff;text-decoration:underline}.dynatable-search{float:right;margin-bottom:10px}.dynatable-pagination-links{float:right}.dynatable-record-count{display:block;padding:5px 0}.dynatable-pagination-links li,.dynatable-pagination-links span{display:inline-block}.dynatable-page-break,.dynatable-page-link{display:block;padding:5px 7px}.dynatable-page-link{cursor:pointer}.dynatable-active-page,.dynatable-disabled-page{cursor:text}.dynatable-active-page:hover,.dynatable-disabled-page:hover{text-decoration:none}.dynatable-active-page{background:#71af5a;border-radius:5px;color:#fff}.dynatable-active-page:hover{color:#fff}.dynatable-disabled-page,.dynatable-disabled-page:hover{background:none;color:#999}",""])},1424:function(e,exports,t){exports=e.exports=t(19)(),exports.push([e.i,"._38zpKcAj-On8b-e9iSP0qe{background-color:#dff0d8;color:#3c763d;display:table}._1Ypq74_EEFkMwBBwgfoSXK{background-color:#f2dede;color:#a94442;display:table;text-decoration:line-through}._2Y-9pJdk9KDpjwfh2xPew_{background-color:#d9edf7;color:#31708f;display:table;text-decoration:line-through}._1UifGocu4g3rN0prvjQa8{font-family:monospace}",""]),exports.locals={"added-fields":"_38zpKcAj-On8b-e9iSP0qe","removed-fields":"_1Ypq74_EEFkMwBBwgfoSXK","mutated-fields":"_2Y-9pJdk9KDpjwfh2xPew_","field-value":"_1UifGocu4g3rN0prvjQa8"}},1425:function(e,exports,t){exports=e.exports=t(19)(),exports.push([e.i,".search-actions h2{line-height:30px}.search-actions .actions{text-align:right}.search-actions .actions>div{margin-left:5px}.search-actions p{margin-top:5px}",""])},1426:function(e,exports,t){exports=e.exports=t(19)(),exports.push([e.i,".field-analyzer{margin:5px 5px 5px 12px}.field-analyzer .panel-body{padding:5px}.field-analyzer ul{padding-left:10px}.field-selector{margin-left:25px}",""])},1427:function(e,exports,t){exports=e.exports=t(19)(),exports.push([e.i,"._3CPHDo4WBbPSI1MGi5mxiX{width:100%}.pfv8RFqXuPUsdaHMf_jki{display:flex;justify-content:space-between}._2vyU9VX5YS3FK2-oygCI7r{line-height:1.5}._3Am1c0lhamTWb8bTEJ2GEv{margin-top:5px;margin-bottom:5px}._1674WuCOzVWWsnp8Bfznv-{margin-right:5px;width:100%}.kkgCuHyNiXhXdHiGVasYK{font-size:12px;padding-top:0;padding-right:0;float:right}.PC8R71_NZTnYD_vvE9YYi{font-size:12px}._3St6vn7lWobiuwxoU55N8L{color:#aaa;font-weight:400}._1VhiyWNeGjwoEBAEc0jkgj{display:inline-block}._2foOSgee-e5Cr4u8Ljmyfo{margin-left:5px;top:3px;position:relative}._1lVIcZ4gGYJOa_DAjPbv2v{height:20px}._33vj1XGPuGbMOJYM0aQnIU{display:inline-block;overflow-y:auto;width:100%}._21-i3ujpPC8ItqiRerIKo0{margin-top:2em}",""]),exports.locals={fullWidth:"_3CPHDo4WBbPSI1MGi5mxiX",decoratorBox:"pfv8RFqXuPUsdaHMf_jki",decoratorType:"_2vyU9VX5YS3FK2-oygCI7r",addDecoratorButtonContainer:"_3Am1c0lhamTWb8bTEJ2GEv",addDecoratorSelect:"_1674WuCOzVWWsnp8Bfznv-",helpLink:"kkgCuHyNiXhXdHiGVasYK",helpPopover:"PC8R71_NZTnYD_vvE9YYi",decoratorMarker:"_3St6vn7lWobiuwxoU55N8L",decoratorFieldWrapper:"_1VhiyWNeGjwoEBAEc0jkgj",decoratorMarkerSidebar:"_2foOSgee-e5Cr4u8Ljmyfo",helpLinkContainer:"_1lVIcZ4gGYJOa_DAjPbv2v",decoratorListContainer:"_33vj1XGPuGbMOJYM0aQnIU",noDecoratorsAlert:"_21-i3ujpPC8ItqiRerIKo0"}},1433:function(e,exports,t){"use strict";function i(e){var t=(0,n.default)(e);return t&&t.defaultView||t.parentWindow}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;var a=t(1516),n=function(e){return e&&e.__esModule?e:{default:e}}(a);e.exports=exports.default},1434:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var i=(0,o.default)(e);return i?i.innerHeight:t?e.clientHeight:(0,r.default)(e).height}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var n=t(1191),r=i(n),s=t(1517),o=i(s);e.exports=exports.default},1437:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var i={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(i[a]=e[a]);return i}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},l=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),d=t(1191),u=i(d),c=t(1209),f=i(c),h=t(2),p=i(h),g=t(1519),m=i(g),_=t(1210),y=i(_),v=t(1214),x=i(v),S=t(1508),b=i(S),w=t(1211),T=i(w),E=t(1215),P=i(E),A=t(1212),C=i(A),O=function(e){function t(e,i){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return a.state={offsetTop:null,offsetBottom:null,width:null},a}return s(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._windowScrollListener=(0,x.default)((0,C.default)(this),"scroll",function(){return e.onWindowScroll()}),this._windowResizeListener=(0,x.default)((0,C.default)(this),"resize",function(){return e.onWindowResize()}),this._documentClickListener=(0,x.default)((0,P.default)(this),"click",function(){return e.onDocumentClick()}),this.onUpdate()}},{key:"componentWillReceiveProps",value:function(){this._needPositionUpdate=!0}},{key:"componentDidUpdate",value:function(){this._needPositionUpdate&&(this._needPositionUpdate=!1,this.onUpdate())}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this._windowScrollListener&&this._windowScrollListener.remove(),this._documentClickListener&&this._documentClickListener.remove(),this._windowResizeListener&&this._windowResizeListener.remove()}},{key:"onWindowScroll",value:function(){this.onUpdate()}},{key:"onWindowResize",value:function(){var e=this;this.props.autoWidth&&(0,f.default)(function(){return e.onUpdate()})}},{key:"onDocumentClick",value:function(){var e=this;(0,f.default)(function(){return e.onUpdate()})}},{key:"onUpdate",value:function(){if(this._isMounted){var e=(0,u.default)(this.refs.positioner),t=e.top,i=e.width,a=(0,b.default)(this.props.container),n=void 0;if(a){var r=(0,T.default)((0,P.default)(this)),s=(0,u.default)(a);n=r-s.top-s.height}else n=null;this.updateState(t,n,i)}}},{key:"updateState",value:function(e,t,i){e===this.state.offsetTop&&t===this.state.offsetBottom&&i===this.state.width||this.setState({offsetTop:e,offsetBottom:t,width:i})}},{key:"render",value:function(){var e=this.props,t=e.autoWidth,i=e.viewportOffsetTop,n=e.children,r=a(e,["autoWidth","viewportOffsetTop","children"]),s=this.state,l=s.offsetTop,d=s.offsetBottom,u=s.width;delete r.container;var c=Math.max(l,i||0),f=this.props,h=f.affixStyle,g=f.bottomStyle;return t&&(h=o({width:u},h),g=o({width:u},g)),p.default.createElement("div",null,p.default.createElement("div",{ref:"positioner"}),p.default.createElement(y.default,o({},r,{offsetTop:c,viewportOffsetTop:i,offsetBottom:d,affixStyle:h,bottomStyle:g}),n))}}]),t}(p.default.Component);O.propTypes=o({},y.default.propTypes,{container:p.default.PropTypes.oneOfType([m.default,p.default.PropTypes.func]),autoWidth:p.default.PropTypes.bool}),O.defaultProps={viewportOffsetTop:0,autoWidth:!0},exports.default=O,e.exports=exports.default},1438:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.RootCloseWrapper=exports.Transition=exports.Position=exports.Portal=exports.Overlay=exports.Modal=exports.AutoAffix=exports.Affix=void 0;var a=t(1210),n=i(a),r=t(1437),s=i(r),o=t(1512),l=i(o),d=t(1513),u=i(d),c=t(1509),f=i(c),h=t(1514),p=i(h),g=t(1511),m=i(g),_=t(1510),y=i(_);exports.Affix=n.default,exports.AutoAffix=s.default,exports.Modal=l.default,exports.Overlay=u.default,exports.Portal=f.default,exports.Position=p.default,exports.Transition=m.default,exports.RootCloseWrapper=y.default},1439:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(15).then(function(){i=t(1364),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1440:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(36).then(function(){i=t(1365),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1441:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(25).then(function(){i=t(1366),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1442:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(21).then(function(){i=t(1367),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1443:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(34).then(function(){i=t(1368),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1444:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(30).then(function(){i=t(1369),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1445:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(12).then(function(){i=t(1370),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1446:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(37).then(function(){i=t(1371),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1447:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(56).then(function(){i=t(1372),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1448:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(14).then(function(){i=t(1373),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1449:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(11).then(function(){i=t(1374),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1450:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(28).then(function(){i=t(1375),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1451:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(46).then(function(){i=t(1376),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1452:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(48).then(function(){i=t(1377),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1453:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(29).then(function(){i=t(1378),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1454:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(45).then(function(){i=t(1379),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1455:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(42).then(function(){i=t(1380),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1456:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(47).then(function(){i=t(1381),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1457:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(10).then(function(){i=t(1382),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1458:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(9).then(function(){i=t(1383),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1459:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(7).then(function(){i=t(1384),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1460:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(33).then(function(){i=t(1385),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1461:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(8).then(function(){i=t(1386),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1462:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(24).then(function(){i=t(1387),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1463:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(6).then(function(){i=t(1388),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1464:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(5).then(function(){i=t(1389),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1465:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(4).then(function(){i=t(1390),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1467:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(27).then(function(){i=t(1392),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1468:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(13).then(function(){i=t(1394),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1469:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(35).then(function(){i=t(1395),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1470:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(23).then(function(){i=t(1396),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1471:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(19).then(function(){i=t(1397),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1472:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(54).then(function(){i=t(1398),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1473:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(39).then(function(){i=t(1399),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1474:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(22).then(function(){i=t(1401),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1475:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(43).then(function(){i=t(1402),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1476:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(52).then(function(){i=t(1403),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1477:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(17).then(function(){i=t(1404),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1478:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(18).then(function(){i=t(1405),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1479:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(38).then(function(){i=t(1406),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1480:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(51).then(function(){i=t(1407),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1481:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(26).then(function(){i=t(1408),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1482:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(32).then(function(){i=t(1409),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1483:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(50).then(function(){i=t(1410),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1484:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(20).then(function(){i=t(1411),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1485:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(31).then(function(){i=t(1412),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1486:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(16).then(function(){i=t(1413),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1487:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(49).then(function(){i=t(1414),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1488:function(e,exports,t){var i,a=t(2),n={loadComponent:function(e){return i?e&&e(i):t.e(41).then(function(){i=t(1415),e&&e(i)}.bind(null,t)).catch(t.oe),i}};t(116)(a,n),e.exports=a.createClass(n),e.exports.Mixin=n},1489:function(e,exports,t){var i=t(1418);"string"==typeof i&&(i=[[e.i,i,""]]);t(20)(i,{});i.locals&&(e.exports=i.locals)},1490:function(e,exports,t){var i=t(1419);"string"==typeof i&&(i=[[e.i,i,""]]);t(20)(i,{});i.locals&&(e.exports=i.locals)},1491:function(e,exports,t){var i=t(1420);"string"==typeof i&&(i=[[e.i,i,""]]);t(20)(i,{});i.locals&&(e.exports=i.locals)},1492:function(e,exports,t){var i=t(1421);"string"==typeof i&&(i=[[e.i,i,""]]);t(20)(i,{});i.locals&&(e.exports=i.locals)},1494:function(e,exports,t){var i=t(1424);"string"==typeof i&&(i=[[e.i,i,""]]);t(20)(i,{});i.locals&&(e.exports=i.locals)},1501:function(e,exports,t){var i,a=0,n=t(1425);"string"==typeof n&&(n=[[e.i,n,""]]),exports.use=exports.ref=function(){return a++||(exports.locals=n.locals,i=t(20)(n,{})),exports},exports.unuse=exports.unref=function(){--a||(i(),i=null)}},1502:function(e,exports,t){var i,a=0,n=t(1426);"string"==typeof n&&(n=[[e.i,n,""]]),exports.use=exports.ref=function(){return a++||(exports.locals=n.locals,i=t(20)(n,{})),exports},exports.unuse=exports.unref=function(){--a||(i(),i=null)}},1503:function(e,exports){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHwAAAAZCAYAAADzJ0pXAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wIMFhUkDLc1hQAACRRJREFUaN7tmnvQHeMdxz97Lu8bEUFptKRIF41tGIuGtA1xaTsmVVQTSkRVh2WzaNyqtGhI0hHFbDezcU9Dqwx6caliFJVoih1Ri7IaFXHr1LWSN+85Z/tHv2ueWefNG5k3b+dM8syc2ec857l/f5fv77cHNpQNZX0oie1Yei5IbCdPbOeS9eHclQ3Qr19lA+DrWamtq4nDKLYAAt/L13KsFfheq92cazvvhjLAGh5GcbUvYSr91l+xgK4wiitt2usm2B9nXlNg3CzNAXLLqvTn6xPbqbZprxY8YG3G/r8AtwZYoy0gBKYAVX1/C5gZ+N7cMIoXAyslDN8DXgZ+C3QDWwFHA7cDGwPDA9+zwigeC5wOfE3jKkAO/AO4MPC9W8Io3hOYC/QCXcCJwFOB7/Wa+wt8Lw+j+OfAWPK8mlcq9+4/Y/amvUM38oA5bpaeWQasEIzEdo4AdtUai9wsvSexnQqQF33aAFtxs7SV2M4hwBeABvCgm6UPaGwVGAG03Cx9tSMAD6O4EvheK4zi44Br1dwjUHIB1A28BGynC7OALwHPA/8ENtK4KrAKaKrtUoENsELzFaVb/V8APge8DQxV2y2B700uQDb2ugnwLtAizyuten3U+EuvmGU1m0f2AfgmwJXAkX0c/2dulp6e2E7dzdLeNkBfBpzWZtwK4AzgIeApWRyrI0y6wD7DALsAY4hA61bbdsaaVknoLAGFNHSI6lcI/EIAhhqfov8OwBLgGKNtUhjFtTZ+fp6eLeCJe084/iXyvC/t3FrCMVlNS2W95km4AKYntvN6CWxLYC8HTlHzB8ACYA7whM4SATP0+6DxkcoAaPhI4BJpbvHxgR2BTwMHAX9bg6ka+pwA7A0cG/jey8DvgPOAbQLfswLfsyQUpxpjPw+8CrwpMAFi08+HUbwZMFEWpGbBtXdYVm61Ws0S0AX3+IvO8g4w3s3SUW6WnuJmqedm6ebAt9Vv88R27it8s5uleWI7NwOf0v2e5Gbpxm6WTnWz9Ew3S/eQkD4PHCqwrY4BXP6yMMd14LOB780FMuB14P7A93aR6cr7iRjOCnzvKuCvwA1qPxx4Brg+jOLXwih+TX7/MeBeY869gF8J8F7gkDCKh4nUWcABwPCCTE6bdlLUbhNuljYS2/kuMFL3sy+w2BCeiwFWbrbp7cDXdeYDEtuxgWpiO1sBk7TmdLmEclkG7Pmhe+kwlj7ZmGtW4HvLCt+pT68u/fu6hHYHLED7hRFyVcMoHi3N/Q3wFWAL4BOyGo8A+xva0QVcYBC7LYF9gFrgew25h2Kfp/VzpllyIwvdLH3KzdJVYRRfqN9OBRj3+KIeN0vvBJar/Ww3S1cBPzaE5zI3S1tthKrHzdJ3gWsGOxcyEIvtYNRvCqO4q+w7A99rAo8a/rOv8r7BqHul2Z8s9WkJjPL+K4HvvQU8aPjyGYHv9YRRPB7YRuNWAvOvO39G92r2MQKokuc3TMrzIWEUbwscE0bxOODqMIpnhVF8svo+pue+eu6t50NrcHe3S2DzTgL8P0Z909UA2vUxiGAeRvE1pUhiGuCKkbvAD0u+r7i0k43vu4tjzJTvbgF/CHzv7e0ffqS338tpNj8Yd/2CicBxwGHAWSJePpCq20qDqJoCvSamuqcTEy+PGvXTAt9rmAkOo36Q4evXpIzXZTaAmwLfi4Bn5f+eA2aL0JUv9gVZhoa+3wWM1lnrwPkAw19ZnvdDIFutWm3y9OOm3hr43oWB7z2pULIXCEakzz5saHQOJPr+QEnjV1f270TA5xoa9c0wiqdIQ7vDKB6i+jDgqo8Z+zeNvjXjWZVfzhW+WSXrsEpcoKY97SJ/XgOeDHxvCUCl0fjIXRiZs8t1NxOf2HHMyMVj9thY7dcCzcD35u/4x/u6Etv5IrCt9nC5MmgXF+dMbOeoxHbq5YxcYjtDVfUlXB3F0u9W8qTwqwvCKP61WOjoMIrPBt5bi7z9rTKTNeBbYRSfC3wG2BoYGUbx5cBX211W4Huz+/CNJ4VRXC+1FTH1rkbG7NwCNKvVWlhfsWKo5v1B4Hv/ArBarVEijr2KSBYBlpul7xgRxo2A2yYT10hs525FArXB1PABkawwikcoBGtIiCptiFYhYIVgjJP5fVmaWgWGiGQVadD3lKQwkzVNwy2Y9TMD35tj7Omn8rkIlGXy/y2RyCKnPUlJkZryBfPdLJ2T2M7BchmFr78Ty7qbPO9SZDJePrgb2N7N0peKxIv6v6kwsA48LoL2b7mFicBmivX3Unq20ikajjR4mLJIlT7WucsAv6X0IsqbV9uQtm5glPyxKZjVktn/CCnU2MuM9erAjYHv9RZgKzxqull6k5g9wBhgZ2XLfi9Q39D4Q8nzecq2jVf/v4vRLy+9lKm5WbolcI+UYA/gIrm/oyUk84HjS8RvnZfaAGh3JfC9FWEUTwAmyKdNAHYWM35SFzpKiYoirFoq7ZmifWxkEC0C3+sBesIodgXEVGA39V2iTNpwZfTqMqkm6XJMKxb43o/6OoObpQcmtjMK2Al4Rdkyy83SPyuhMho4ShaiIYJ2M/Cim6XNNvP1Kr9+sBIxY/XipQE8DSx2s/SNxHYO15AXOwZw5dJnAucI3AMD35tXEophSr/mWvO5wPfeN/zc6koLeDrwvemlOeuK1ReW2q3A95phFF9pAD57dQvIDC/XC57c0NRCeFI3S88ujenqJ37eTRnDd4A7ZDGKtYp3BVP0vL9jfHgYxccDVxs54VXAdcCdAnc/4Fhp44fJmsD3snV1qDCK91K42NC+dgKWi8Gvs1K8Tk1s5xyx9Z+4WXpBYjt1g8dYSt/uY7iS3d0sTTrChwe+d438mmX41BNFeG4DAvmsgvycF/heZsbqAwh0Med5Wq8FJIHvLTXWHwwF2k318xPbeRQ4QuRsb+CwxHZuNMD+5WCBPZAs3QK+LNNUK5k6ywiRvhH43h3rULO7xAVe1T7qwH6B7/1psBMcie1MFTErchRmpFLc+2w3S8/pxLDswz8ahFF8oGLwLaTxb0jLHjBIXmsdgj5G6dUP+N//4k4v/xFiEMCuulnalCn/DrC7wrCWfPozwG1ulr5S/FlisPb2X3D6ryu3bmICAAAAAElFTkSuQmCC"},1507:function(e,exports){e.exports={name:"graylog-web-interface",version:"2.3.0-SNAPSHOT",description:"Graylog Web Interface",author:"torch",license:"GPL-3.0",repository:{type:"git",url:"git://github.com/graylog2/graylog2-web-interface.git"},readme:"../README.md",scripts:{start:"webpack-dev-server --config webpack.bundled.js --history-api-fallback --hot --inline","start-nohmr":"webpack-dev-server --watch --history-api-fallback --config webpack.bundled.js",build:"disable_plugins=true webpack --config webpack.bundled.js",test:"webpack --config webpack.vendor.js && karma start karma.ci.conf.js","prepare-dev":"./tools/prepare-dev",lint:"eslint --ext js,jsx src"},dependencies:{bluebird:"^3.4.0",bootstrap:"3.3.6",c3:"^0.4.11-rc4",classnames:"^2.2.0",clipboard:"^1.5.5",crossfilter:"1.3.x",d3:"3.5.17",dc:"2.0.0-beta.19","deep-equal":"^1.0.1","font-awesome":"^4.7.0","graylog-web-plugin":"file:packages/graylog-web-plugin",history:"^1.17.0",immutable:"^3.7.5","javascript-natural-sort":"^0.7.1","jquery-ui":"1.12.x",lodash:"^4.17.4",markdown:"^0.5.0",md5:"^2.0.0","moment-duration-format":"1.3.0",numeral:"^1.5.3","opensans-npm-webfont":"0.0.2",qs:"^6.3.0","react-day-picker":"^5.0.0","react-dnd":"^2.0.2","react-dnd-html5-backend":"^2.0.0","react-grid-layout":"^0.14.3","react-overlays":"^0.6.5","react-select":"^0.8.2",rickshaw:"^1.5.1","sockjs-client":"1.1.x",string:"^3.3.1",superagent:"^3.4.3","superagent-bluebird-promise":"^4.1.0",toastr:"^2.1.2","typeahead.js":"^0.11.1","ua-parser-js":"^0.7.12",urijs:"^1.17.0"},devDependencies:{"assets-webpack-plugin":"^3.5.1","babel-core":"^6.22.1","babel-loader":"^6.2.10","babel-plugin-add-module-exports":"^0.2.1","babel-polyfill":"^6.22.0","babel-preset-es2015":"^6.22.0","babel-preset-react":"^6.22.0","babel-preset-stage-0":"^6.22.0","clean-webpack-plugin":"^0.1.3","css-loader":"^0.26.1",enzyme:"^2.0.0",eslint:"^3.16.1","eslint-loader":"^1.6.3","estraverse-fb":"^1.3.1","extract-text-webpack-plugin":"^2.0.0-rc.2","file-loader":"^0.10.0",glob:"^7.0.0","jasmine-core":"*","json-loader":"^0.5.3",karma:"^1.1.2","karma-chrome-launcher":"*","karma-html2js-preprocessor":"*","karma-jasmine":"*","karma-phantomjs-launcher":"*","karma-webpack":"*",less:"^2.5.3","less-loader":"^2.2.1",mocha:"^2.3.4","phantomjs-prebuilt":">=1.9","react-hot-loader":"^3.0.0-beta.6","react-proxy-loader":"^0.3.4","script-loader":"^0.7.0","style-loader":"^0.13.1","ts-loader":"^0.8.2",typescript:"^1.6.2","url-loader":"^0.5.6",webpack:"^2.2.0","webpack-dev-server":"^2.2.0","webpack-merge":"^0.x.x"}}},1508:function(e,exports,t){e.exports=t(10)(103)},1509:function(e,exports,t){e.exports=t(10)(266)},1510:function(e,exports,t){e.exports=t(10)(267)},1511:function(e,exports,t){e.exports=t(10)(268)},1512:function(e,exports,t){e.exports=t(10)(459)},1513:function(e,exports,t){e.exports=t(10)(461)},1514:function(e,exports,t){e.exports=t(10)(462)},1515:function(e,exports,t){e.exports=t(10)(604)},1516:function(e,exports,t){e.exports=t(10)(606)},1517:function(e,exports,t){e.exports=t(10)(613)},1518:function(e,exports,t){e.exports=t(10)(648)},1519:function(e,exports,t){e.exports=t(10)(694)},1520:function(e,exports,t){e.exports=t(10)(706)},949:function(e,exports,t){e.exports=t(10)(484)},950:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var i=t(117),a=function(e){return e&&e.__esModule?e:{default:e}}(i),n={getValueFromInput:function(e){switch(e.type){case"radio":var t=e.value;return"true"===t||"false"===t?"true"===t:t;case"checkbox":return e.checked;case"number":return""!==e.value&&a.default.isNumber(e.value)?Number(e.value):void 0;default:return e.value}}};exports.default=n,e.exports=exports.default},951:function(e,exports){e.exports=function e(t,i){"use strict";var a,n,r=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,s=/(^[ ]*|[ ]*$)/g,o=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,l=/^0x[0-9a-f]+$/i,d=/^0/,u=function(t){return e.insensitive&&(""+t).toLowerCase()||""+t},c=u(t).replace(s,"")||"",f=u(i).replace(s,"")||"",h=c.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=f.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),g=parseInt(c.match(l),16)||1!==h.length&&c.match(o)&&Date.parse(c),m=parseInt(f.match(l),16)||g&&f.match(o)&&Date.parse(f)||null;if(m){if(g<m)return-1;if(g>m)return 1}for(var _=0,y=Math.max(h.length,p.length);_<y;_++){if(a=!(h[_]||"").match(d)&&parseFloat(h[_])||h[_]||0,n=!(p[_]||"").match(d)&&parseFloat(p[_])||p[_]||0,isNaN(a)!==isNaN(n))return isNaN(a)?1:-1;if(typeof a!=typeof n&&(a+="",n+=""),a<n)return-1;if(a>n)return 1}return 0}},952:function(e,exports,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),n=t(1098),r=function(e){return e&&e.__esModule?e:{default:e}}(n),s=function(){function e(){i(this,e),this.PAGES={ALERTS:"streams/alerts.html",CLUSTER_STATUS_EXPLAINED:"configuration/elasticsearch.html#cluster-status-explained",COLLECTOR:"collector.html",COLLECTOR_SIDECAR:"collector_sidecar.html",COLLECTOR_STATUS:"collector_sidecar.html#sidecar-status",CONFIGURING_ES:"configuration/elasticsearch.html",DASHBOARDS:"dashboards.html",DECORATORS:"queries.html#decorators",ES_CLUSTER_STATUS_RED:"configuration/elasticsearch.html#cluster-status-explained",ES_CLUSTER_UNAVAILABLE:"configuration/elasticsearch.html#configuration",ES_OPEN_FILE_LIMITS:"configuration/elasticsearch.html#open-file-limits",EXTRACTORS:"extractors.html",INDEXER_FAILURES:"indexer_failures.html",INDEX_MODEL:"configuration/index_model.html",LOAD_BALANCERS:"configuration/load_balancers.html",PAGE_FLEXIBLE_DATE_CONVERTER:"extractors.html#the-flexible-date-converter",PAGE_STANDARD_DATE_CONVERTER:"extractors.html#the-standard-date-converter",PIPELINE_FUNCTIONS:"pipelines/functions.html",PIPELINE_RULES:"pipelines/rules.html",PIPELINES:"pipelines.html",SEARCH_QUERY_LANGUAGE:"queries.html",STREAMS:"streams.html",STREAM_PROCESSING_RUNTIME_LIMITS:"streams.html#stream-processing-runtime-limits",USERS_ROLES:"users_and_roles.html",WELCOME:""},this.DOCS_URL="http://docs.graylog.org/en/"}return a(e,[{key:"toString",value:function(e){var t=this.DOCS_URL+r.default.getMajorAndMinorVersion();return""===e?t:t+"/pages/"+e}},{key:"toLink",value:function(e,t){return'<a href="'+this.toString(e)+'" target="_blank">'+t+"</a>"}},{key:"versionedDocsHomePage",value:function(){return this.toString("")}}]),e}(),o=new s;exports.default=o,e.exports=exports.default},953:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(1226);Object.defineProperty(exports,"BooleanField",{enumerable:!0,get:function(){return i(a).default}});var n=t(1227);Object.defineProperty(exports,"ConfigurationForm",{enumerable:!0,get:function(){return i(n).default}});var r=t(1228);Object.defineProperty(exports,"ConfigurationWell",{enumerable:!0,get:function(){return i(r).default}});var s=t(1229);Object.defineProperty(exports,"DropdownField",{enumerable:!0,get:function(){return i(s).default}});var o=t(1054);Object.defineProperty(exports,"FieldHelpers",{enumerable:!0,get:function(){return i(o).default}});var l=t(1230);Object.defineProperty(exports,"ListField",{enumerable:!0,get:function(){return i(l).default}});var d=t(1231);Object.defineProperty(exports,"NumberField",{enumerable:!0,get:function(){return i(d).default}});var u=t(1232);Object.defineProperty(exports,"TextField",{enumerable:!0,get:function(){return i(u).default}});var c=t(1233);Object.defineProperty(exports,"TitleField",{enumerable:!0,get:function(){return i(c).default}})},957:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(952),s=i(r),o=n.default.createClass({displayName:"DocumentationLink",propTypes:{page:n.default.PropTypes.string.isRequired,text:n.default.PropTypes.node.isRequired,title:n.default.PropTypes.string},render:function(){return n.default.createElement("a",{href:s.default.toString(this.props.page),title:this.props.title,target:"_blank"},this.props.text)}});exports.default=o,e.exports=exports.default},960:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(1310);Object.defineProperty(exports,"ContactUs",{enumerable:!0,get:function(){return i(a).default}});var n=t(957);Object.defineProperty(exports,"DocumentationLink",{enumerable:!0,get:function(){return i(n).default}});var r=t(1311);Object.defineProperty(exports,"SmallSupportLink",{enumerable:!0,get:function(){return i(r).default}});var s=t(271);Object.defineProperty(exports,"SupportLink",{enumerable:!0,get:function(){return i(s).default}})},966:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(1269);Object.defineProperty(exports,"AddDecoratorButton",{enumerable:!0,get:function(){return i(a).default}});var n=t(1270);Object.defineProperty(exports,"AddSearchCountToDashboard",{enumerable:!0,get:function(){return i(n).default}});var r=t(1271);Object.defineProperty(exports,"ChangedMessageField",{enumerable:!0,get:function(){return i(r).default}});var s=t(1272);Object.defineProperty(exports,"DecoratedMessageFieldMarker",{enumerable:!0,get:function(){return i(s).default}});var o=t(1273);Object.defineProperty(exports,"DecoratedSidebarMessageField",{enumerable:!0,get:function(){return i(o).default}});var l=t(1274);Object.defineProperty(exports,"Decorator",{enumerable:!0,get:function(){return i(l).default}});var d=t(1275);Object.defineProperty(exports,"DecoratorList",{enumerable:!0,get:function(){return i(d).default}});var u=t(1276);Object.defineProperty(exports,"DecoratorSidebar",{enumerable:!0,get:function(){return i(u).default}});var c=t(1277);Object.defineProperty(exports,"FieldAnalyzersSidebar",{enumerable:!0,get:function(){return i(c).default}});var f=t(1278);Object.defineProperty(exports,"LegacyHistogram",{enumerable:!0,get:function(){return i(f).default}});var h=t(1279);Object.defineProperty(exports,"MalformedSearchQuery",{enumerable:!0,get:function(){return i(h).default}});var p=t(1172);Object.defineProperty(exports,"MessageDetail",{enumerable:!0,get:function(){return i(p).default}});var g=t(1281);Object.defineProperty(exports,"MessageFieldDescription",{enumerable:!0,get:function(){return i(g).default}});var m=t(1198);Object.defineProperty(exports,"MessageFieldExtractorActions",{enumerable:!0,get:function(){return i(m).default}});var _=t(1280);Object.defineProperty(exports,"MessageField",{enumerable:!0,get:function(){return i(_).default}});var y=t(1200);Object.defineProperty(exports,"MessageFields",{enumerable:!0,get:function(){return i(y).default}});var v=t(1199);Object.defineProperty(exports,"MessageFieldSearchActions",{enumerable:!0,get:function(){return i(v).default}});var x=t(1103);Object.defineProperty(exports,"MessageShow",{enumerable:!0,get:function(){return i(x).default}});var S=t(1282);Object.defineProperty(exports,"MessageTableEntry",{enumerable:!0,get:function(){return i(S).default}});var b=t(1283);Object.defineProperty(exports,"MessageTablePaginator",{enumerable:!0,get:function(){return i(b).default}});var w=t(1284);Object.defineProperty(exports,"NoSearchResults",{enumerable:!0,get:function(){return i(w).default}});var T=t(1285);Object.defineProperty(exports,"RefreshControls",{enumerable:!0,get:function(){return i(T).default}});var E=t(1286);Object.defineProperty(exports,"ResultTable",{enumerable:!0,get:function(){return i(E).default}});var P=t(1287);Object.defineProperty(exports,"SavedSearchControls",{enumerable:!0,get:function(){return i(P).default}});var A=t(1201);Object.defineProperty(exports,"SearchBar",{enumerable:!0,get:function(){return i(A).default}});var C=t(1288);Object.defineProperty(exports,"SearchExecutionError",{enumerable:!0,get:function(){return i(C).default}});var O=t(1289);Object.defineProperty(exports,"SearchResult",{enumerable:!0,get:function(){return i(O).default}});var R=t(1290);Object.defineProperty(exports,"SearchSidebar",{enumerable:!0,get:function(){return i(R).default}});var N=t(1291);Object.defineProperty(exports,"ShowQueryModal",{enumerable:!0,get:function(){return i(N).default}});var M=t(1292);Object.defineProperty(exports,"SidebarMessageField",{enumerable:!0,get:function(){return i(M).default}});var L=t(1202);Object.defineProperty(exports,"SurroundingSearchButton",{enumerable:!0,get:function(){return i(L).default}});var I=t(1361);Object.defineProperty(exports,"QueryInput",{enumerable:!0,get:function(){return i(I).default}})},988:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),n=i(a),r=t(15),s=t(55),o=i(s),l=t(18),d=i(l),u=t(165),c=i(u),f=t(1181),h=t(1195),p=d.default.getStore("Search"),g=d.default.getStore("Dashboards"),m=d.default.getStore("Widgets"),_=n.default.createClass({displayName:"AddToDashboardMenu",propTypes:{widgetType:a.PropTypes.string.isRequired,title:a.PropTypes.string.isRequired,permissions:a.PropTypes.arrayOf(a.PropTypes.string).isRequired,bsStyle:a.PropTypes.string,configuration:a.PropTypes.object,fields:a.PropTypes.array,hidden:a.PropTypes.bool,pullRight:a.PropTypes.bool,children:a.PropTypes.oneOfType([a.PropTypes.arrayOf(a.PropTypes.element),a.PropTypes.element])},mixins:[c.default],getInitialState:function(){return{dashboards:void 0,selectedDashboard:""}},getDefaultProps:function(){return{bsStyle:"info",configuration:{},hidden:!1,pullRight:!1}},componentDidMount:function(){this._initializeDashboards()},_initializeDashboards:function(){var e=this;g.addOnWritableDashboardsChangedCallback(function(t){e.isMounted()&&e._updateDashboards(t)});var t=g.writableDashboards;if(0===t.size)return void g.updateWritableDashboards();this._updateDashboards(t)},_updateDashboards:function(e){this.setState({dashboards:e})},_selectDashboard:function(e){this.setState({selectedDashboard:e}),this.refs.widgetModal.open()},_saveWidget:function(e,t){var i=this,a=o.default.Map(this.props.configuration),n=o.default.Map(p.getOriginalSearchParams());if(n.has("range_type"))switch(n.get("range_type")){case"relative":var r=o.default.Map({range:n.get("relative"),type:"relative"});n=n.set("timerange",r).delete("relative").delete("range_type");break;case"absolute":var s=n.get("from"),l=n.get("to"),d=o.default.Map({type:"absolute",from:s,to:l});n=n.set("timerange",d).delete("from").delete("to").delete("range_type");break;case"keyword":var u=o.default.Map({type:"keyword",keyword:n.get("keyword")});n=n.set("timerange",u).delete("keyword").delete("range_type")}n.has("streamId")&&(n=n.set("stream_id",n.get("streamId")).delete("streamId")),a=n.merge(a).merge(t),m.addWidget(this.state.selectedDashboard,this.props.widgetType,e,a.toJS()).done(function(){return i.refs.widgetModal.saved()})},_createNewDashboard:function(){this.refs.createDashboardModal.open()},_renderLoadingDashboardsMenu:function(){return n.default.createElement(r.DropdownButton,{bsStyle:this.props.bsStyle,bsSize:"small",title:this.props.title,pullRight:this.props.pullRight,id:"dashboard-selector-dropdown"},n.default.createElement(r.MenuItem,{disabled:!0},"Loading dashboards..."))},_renderDashboardMenu:function(){var e=o.default.List();return this.state.dashboards.sortBy(function(e){return e.title}).forEach(function(t,i){e=e.push(n.default.createElement(r.MenuItem,{eventKey:i,key:t.id},t.title))}),n.default.createElement(r.DropdownButton,{bsStyle:this.props.bsStyle,bsSize:"small",title:this.props.title,pullRight:this.props.pullRight,onSelect:this._selectDashboard,id:"dashboard-selector-dropdown"},e)},_renderNoDashboardsMenu:function(){var e=this.isPermitted(this.props.permissions,["dashboards:create"]),t=void 0;return t=e?n.default.createElement(r.MenuItem,{key:"createDashboard"},"No dashboards, create one?"):n.default.createElement(r.MenuItem,{key:"noDashboards"},"No dashboards available"),n.default.createElement("div",{style:{display:"inline"}},n.default.createElement(r.DropdownButton,{bsStyle:this.props.bsStyle,bsSize:"small",title:this.props.title,pullRight:this.props.pullRight,onSelect:e?this._createNewDashboard:function(){},id:"no-dashboards-available-dropdown"},t),n.default.createElement(h.EditDashboardModal,{ref:"createDashboardModal",onSaved:this._selectDashboard}))},render:function(){var e=void 0;return e=void 0===this.state.dashboards?this._renderLoadingDashboardsMenu():!this.props.hidden&&(this.state.dashboards.size>0?this._renderDashboardMenu():this._renderNoDashboardsMenu()),n.default.createElement("div",{style:{display:"inline-block"}},n.default.createElement(r.ButtonGroup,null,this.props.children,e),n.default.createElement(f.WidgetCreationModal,{ref:"widgetModal",widgetType:this.props.widgetType,onConfigurationSaved:this._saveWidget,fields:this.props.fields}))}});exports.default=_,e.exports=exports.default}});
//# sourceMappingURL=3.200197dca04f05abe3f2.js.map