webpackJsonp([41],{1330:function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var l=t(2),s=a(l),r=t(949),n=t(15),i=t(165),u=a(i),d=t(75),o=a(d),c=t(18),m=a(c),f=t(48),p=t(1497),E=a(p),h=m.default.getStore("Users"),y=m.default.getStore("Roles"),v=s.default.createClass({displayName:"UserList",propTypes:{currentUsername:s.default.PropTypes.string.isRequired,currentUser:s.default.PropTypes.object.isRequired},mixins:[u.default],getInitialState:function(){return{users:void 0,roles:void 0}},componentDidMount:function(){var e=this;this.loadUsers(),y.loadRoles().done(function(t){e.setState({roles:t.map(function(e){return e.name})})})},loadUsers:function(){var e=this;h.loadUsers().done(function(t){e.setState({users:t})})},_hasAdminRole:function(e){return this.isPermitted(e.permissions,["*"])},deleteUser:function(e){var t=this;h.deleteUser(e).done(function(){t.loadUsers()})},_deleteUserFunction:function(e){var t=this;return function(){window.confirm("Do you really want to delete user "+e+"?")&&t.deleteUser(e)}},_headerCellFormatter:function(e){var t=void 0;switch(e.toLocaleLowerCase()){case"":t=s.default.createElement("th",{className:"user-type"},e);break;case"client address":var a=s.default.createElement(n.Popover,{id:"decorators-help",className:E.default.sessionBadgeDetails},s.default.createElement("p",{className:"description"},"The address of the client used to initially establish the session, not necessarily its current address."));t=s.default.createElement("th",null,e,s.default.createElement(n.OverlayTrigger,{trigger:"click",rootClose:!0,placement:"top",overlay:a},s.default.createElement(n.Button,{bsStyle:"link",className:E.default.helpHeaderRow},s.default.createElement("i",{className:"fa fa-fw fa-question-circle"}))));break;case"actions":t=s.default.createElement("th",{className:"actions"},e);break;default:t=s.default.createElement("th",null,e)}return t},_userInfoFormatter:function(e){var t=e.username===this.props.currentUsername?"active":null,a=null;if(e.session_active){var l=s.default.createElement(n.Popover,{id:"session-badge-details",title:"Logged in",className:E.default.sessionBadgeDetails},s.default.createElement("div",null,"Last activity: ",s.default.createElement(f.Timestamp,{dateTime:e.last_activity,relative:!0})),s.default.createElement("div",null,"Client address: ",e.client_address));a=s.default.createElement(n.OverlayTrigger,{trigger:["hover","focus"],placement:"left",overlay:l,rootClose:!0},s.default.createElement("i",{className:"fa fa-circle "+E.default.activeSession}))}var i=e.roles.map(function(e){return s.default.createElement("span",{key:e,className:E.default.roleBadgeFixes+" label label-"+("Admin"===e?"info":"default")},e)}),u=null;if(e.read_only){var d=s.default.createElement(n.Tooltip,{id:"system-user"},"System users can only be modified in the Graylog configuration file.");u=s.default.createElement(n.OverlayTrigger,{placement:"left",overlay:d},s.default.createElement("span",{className:E.default.help},s.default.createElement(n.Button,{bsSize:"xs",bsStyle:"info",disabled:!0},"System user")))}else{var c=s.default.createElement(n.Button,{id:"delete-user-"+e.username,bsStyle:"primary",bsSize:"xs",title:"Delete user",onClick:this._deleteUserFunction(e.username)},"Delete"),m=s.default.createElement(r.LinkContainer,{to:o.default.SYSTEM.AUTHENTICATION.USERS.edit(encodeURIComponent(e.username))},s.default.createElement(n.Button,{id:"edit-user-"+e.username,bsStyle:"info",bsSize:"xs",title:"Edit user "+e.username},"Edit"));u=s.default.createElement("div",null,this.isPermitted(this.props.currentUser.permissions,["users:edit"])?c:null,"Â ",this.isPermitted(this.props.currentUser.permissions,["users:edit:"+e.username])?m:null)}return s.default.createElement("tr",{key:e.username,className:t},s.default.createElement("td",{className:"centered"},a),s.default.createElement("td",{className:"limited"},e.full_name),s.default.createElement("td",{className:"limited"},e.username),s.default.createElement("td",{className:"limited"},e.email),s.default.createElement("td",{className:"limited"},e.client_address),s.default.createElement("td",{className:E.default.limitedWide},i),s.default.createElement("td",null,u))},render:function(){var e=["username","full_name","email","client_address"],t=["","Name","Username","Email Address","Client Address","Role","Actions"];return this.state.users&&this.state.roles?s.default.createElement("div",null,s.default.createElement(f.DataTable,{id:"user-list",className:"table-hover",headers:t,headerCellFormatter:this._headerCellFormatter,sortByKey:"full_name",rows:this.state.users,filterBy:"role",filterSuggestions:this.state.roles,dataRowFormatter:this._userInfoFormatter,filterLabel:"Filter Users",filterKeys:e})):s.default.createElement(f.Spinner,null)}});exports.default=v,e.exports=exports.default},1415:function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var l=t(2),s=a(l),r=t(1),n=a(r),i=t(15),u=t(949),d=t(165),o=a(d),c=t(75),m=a(c),f=t(18),p=a(f),E=t(48),h=t(1330),y=a(h),v=p.default.getStore("CurrentUser"),g=s.default.createClass({displayName:"UsersPage",mixins:[n.default.connect(v),o.default],render:function(){return s.default.createElement(E.DocumentTitle,{title:"Users"},s.default.createElement("span",null,s.default.createElement(E.PageHeader,{title:"User accounts",subpage:!0},s.default.createElement("span",null,"Create as many users as you want next to the default administrator user here. You can also make changes to already existing users."),null,s.default.createElement("span",null,s.default.createElement(E.IfPermitted,{permissions:"users:edit"},s.default.createElement(u.LinkContainer,{to:m.default.SYSTEM.AUTHENTICATION.USERS.CREATE},s.default.createElement(i.Button,{bsStyle:"success"},"Add new user"))))),s.default.createElement(i.Row,null,s.default.createElement(i.Col,{md:12},s.default.createElement(y.default,{currentUsername:this.state.currentUser.username,currentUser:this.state.currentUser})))))}});exports.default=g,e.exports=exports.default},1430:function(e,exports,t){exports=e.exports=t(19)(),exports.push([e.i,"._1nMuMHVw4CwQEsDB2ZIcxA{font-size:12px}._1jzOFTX6rcaHioqDrbefXj{color:#72a230}._2SzIWOlWbzCZsyFhwXvIMJ{margin-right:5px;margin-bottom:5px;display:inline-block;line-height:15px}.kC2umW87uww30Z_H44wv1{max-width:300px}._1z326CnBfOJTcXiFkdkWyZ{cursor:help}._3jtB0mSKD0gEANdY1uXjBe{cursor:help;padding:0 0 0 2px;display:inline-flex}",""]),exports.locals={sessionBadgeDetails:"_1nMuMHVw4CwQEsDB2ZIcxA",activeSession:"_1jzOFTX6rcaHioqDrbefXj",roleBadgeFixes:"_2SzIWOlWbzCZsyFhwXvIMJ",limitedWide:"kC2umW87uww30Z_H44wv1",help:"_1z326CnBfOJTcXiFkdkWyZ",helpHeaderRow:"_3jtB0mSKD0gEANdY1uXjBe"}},1497:function(e,exports,t){var a=t(1430);"string"==typeof a&&(a=[[e.i,a,""]]);t(20)(a,{});a.locals&&(e.exports=a.locals)}});
//# sourceMappingURL=41.200197dca04f05abe3f2.js.map