{"version":3,"sources":["webpack:///38.200197dca04f05abe3f2.js","webpack:///./src/components/sources/SourceTitle.jsx","webpack:///./src/components/sources/SourceDataTable.jsx","webpack:///./src/components/sources/SourceLineChart.jsx","webpack:///./src/components/sources/SourceOverview.jsx","webpack:///./src/components/sources/SourcePieChart.jsx","webpack:///./src/pages/SourcesPage.jsx"],"names":["webpackJsonp","1173","module","exports","__webpack_require__","Object","defineProperty","value","_react","_react2","obj","__esModule","default","SourceTitle","createClass","displayName","propTypes","className","PropTypes","string","resetFilters","func","isRequired","resetFilterId","children","oneOfType","array","element","render","createElement","this","props","style","marginLeft","id","onClick","title","display","1296","_interopRequireDefault","_jquery","_jquery2","_d","_d2","_dc","_dc2","_numeral","_numeral2","_SourceTitle","_SourceTitle2","_UniversalSearch","_UniversalSearch2","_StringUtils","_StringUtils2","_StoreProvider","_StoreProvider2","SearchStore","getStore","SourceDataTable","numberOfTopValues","number","setSearchFilter","getInitialState","numberOfSources","_getAddToSearchButton","source","addToSearchButton","document","setAttribute","unescapeHTML","innerHTML","outerHTML","renderDataTable","dimension","group","onDataFiltered","_this","dataTableDomNode","_dataTable","dataTable","d","top","some","name","localeCompare","key","size","state","columns","percentage","toFixed","message_count","format","sortBy","order","descending","on","table","selectAll","classed","_addSourceToSearchBarListener","_filterSourceListener","event","target","closest","data","addSearchTerm","orOperator","parentTdElement","parents","datum","redraw","clearFilters","filterAll","getFilters","filters","setFilter","filter","changeNumberOfSources","_onNumberOfSourcesChanged","_this2","setState","_onFilterChanged","resultTable","width","type","onChange","placeholder","htmlFor","1297","_D3Utils","_D3Utils2","_graphHelper","_graphHelper2","SourceLineChart","histogramDataAvailable","bool","reloadingHistogram","resolution","lineChartWidth","_lineChart","_configureWidth","String","updateWidth","$lineChartDomNode","renderLineChart","lineChartDomNode","effect","complete","altKey","submit","lineChart","height","margins","left","right","bottom","x","time","scale","renderHorizontalGridLines","elasticX","elasticY","transitionDuration","colors","glColourPalette","chart","events","trigger","xAxis","ticks","customTickInterval","tickFormat","customDateTimeFormat","yAxis","loadingSpinnerStyle","loadingSpinner","noDataOverlayStyle","noDataOverlay","1298","_crossfilter","_crossfilter2","_qs","_qs2","_moment","_moment2","_SourceDataTable","_SourceDataTable2","_SourcePieChart","_SourcePieChart2","_SourceLineChart","_SourceLineChart2","_SupportLink","_SupportLink2","_common","_DateTime","_DateTime2","_EventHandlersThrottler","_EventHandlersThrottler2","_ActionsProvider","_ActionsProvider2","SourcesStore","HistogramDataActions","getActions","daysToSeconds","days","duration","as","hoursToSeconds","hours","DEFAULT_RANGE_IN_SECS","SUPPORTED_RANGES_IN_SECS","SCREEN_RESOLUTION","window","SourceOverview","sourcesData","filterDimension","nameDimension","nameMessageGroup","reduceSum","messageCountDimension","histogramData","valueDimension","Date","valueGroup","y","range","loading","renderResultTable","componentDidMount","onDataTableFiltered","sourceName","refs","sourcePieChart","_toggleResetButtons","redrawAll","loadHistogramData","onPieChartFiltered","onLineChartFiltered","changeTimeRange","from","toString","to","syncRangeWithQuery","sourceDataTable","renderPieChart","sourceLineChart","applyRangeParameter","renderAll","addEventListener","_resizeCallback","_applyRangeFromHash","_updateWidth","init","componentWillUnmount","removeEventListener","off","_filterSources","NUMBER_OF_TOP_VALUES","eventThrottler","loadData","loadSources","_this3","onLoaded","sources","_resetSources","_this4","pieChartFilters","dataTableFilters","remove","add","forEach","_this5","length","Infinity","map","escape","load","then","interval","histogram","_resetHistogram","_this6","lineChartFilters","_this7","throttle","_redirectToRange","location","replace","_getRangeFromOldQueryFormat","query","search","indexOf","substr","parse","_getRangeFromHash","changeRange","hash","hashContent","substring","match","resetSourcesFilters","resetHistogramFilters","rangeSelectBox","rangeSelector","Number","relative","$selectedOptions","text","keyword","show","hide","keepChangeInHistory","_this8","effectiveRange","undefined","_onRangeChanged","_this9","emptySources","resultsStyle","results","ref","Spinner","1299","SourcePieChart","_pieChart","pieChartWidth","radius","innerRadius","$pieChartDomNode","parent","pieChartDomNode","pieChart","renderLabel","slicesCap","1406","_SourceOverview","_SourceOverview2","SourcesPage","DocumentTitle"],"mappings":"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","file":"38.200197dca04f05abe3f2.js","sourcesContent":["webpackJsonp([38],{\n\n/***/ 1173:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = __webpack_require__(2);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SourceTitle = _react2.default.createClass({\n  displayName: \"SourceTitle\",\n\n  propTypes: {\n    className: _react.PropTypes.string,\n    resetFilters: _react.PropTypes.func.isRequired,\n    resetFilterId: _react.PropTypes.string,\n    children: _react.PropTypes.oneOfType([_react.PropTypes.array, _react.PropTypes.element, _react.PropTypes.string]).isRequired\n  },\n  render: function render() {\n    return _react2.default.createElement(\n      \"h3\",\n      { className: \"sources-title\" },\n      this.props.children,\n      _react2.default.createElement(\n        \"span\",\n        { style: { marginLeft: 10 } },\n        _react2.default.createElement(\n          \"button\",\n          { id: this.props.resetFilterId, className: \"btn btn-info btn-xs \" + this.props.className,\n            onClick: this.props.resetFilters, title: \"Reset filter\", style: { display: 'none' } },\n          \"Reset\"\n        )\n      )\n    );\n  }\n});\n\nexports.default = SourceTitle;\nmodule.exports = exports[\"default\"];\n\n/***/ }),\n\n/***/ 1296:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = __webpack_require__(2);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _jquery = __webpack_require__(12);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _d = __webpack_require__(76);\n\nvar _d2 = _interopRequireDefault(_d);\n\nvar _dc = __webpack_require__(266);\n\nvar _dc2 = _interopRequireDefault(_dc);\n\nvar _numeral = __webpack_require__(115);\n\nvar _numeral2 = _interopRequireDefault(_numeral);\n\nvar _SourceTitle = __webpack_require__(1173);\n\nvar _SourceTitle2 = _interopRequireDefault(_SourceTitle);\n\nvar _UniversalSearch = __webpack_require__(169);\n\nvar _UniversalSearch2 = _interopRequireDefault(_UniversalSearch);\n\nvar _StringUtils = __webpack_require__(87);\n\nvar _StringUtils2 = _interopRequireDefault(_StringUtils);\n\nvar _StoreProvider = __webpack_require__(18);\n\nvar _StoreProvider2 = _interopRequireDefault(_StoreProvider);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SearchStore = _StoreProvider2.default.getStore('Search');\n\nvar SourceDataTable = _react2.default.createClass({\n  displayName: 'SourceDataTable',\n\n  propTypes: {\n    numberOfTopValues: _react.PropTypes.number.isRequired,\n    resetFilters: _react.PropTypes.func.isRequired,\n    setSearchFilter: _react.PropTypes.func.isRequired\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      numberOfSources: 100\n    };\n  },\n  _getAddToSearchButton: function _getAddToSearchButton(source) {\n    var addToSearchButton = document.createElement('button');\n    addToSearchButton.className = 'btn btn-xs btn-default dc-search-button';\n    addToSearchButton.title = 'Add to search query';\n    addToSearchButton.setAttribute('data-source', _StringUtils2.default.unescapeHTML(source));\n    addToSearchButton.innerHTML = \"<i class='fa fa-search-plus'></i>\";\n\n    return addToSearchButton.outerHTML;\n  },\n  renderDataTable: function renderDataTable(dimension, group, onDataFiltered) {\n    var _this = this;\n\n    var dataTableDomNode = (0, _jquery2.default)('#dc-sources-result')[0];\n    this._dataTable = _dc2.default.dataTable(dataTableDomNode);\n    this._dataTable.dimension(dimension).group(function (d) {\n      var topValues = group.top(_this.props.numberOfTopValues);\n      var dInTopValues = topValues.some(function (value) {\n        return d.name.localeCompare(value.key) === 0;\n      });\n      return dInTopValues ? 'Top sources' : 'Others';\n    }).size(this.state.numberOfSources).columns([function (d) {\n      return '<a href=\"javascript:undefined\" class=\"dc-filter-link\" title=\"Filter this source\">' + d.name + '</a>';\n    }, function (d) {\n      return d.percentage.toFixed(2) + '%';\n    }, function (d) {\n      return (0, _numeral2.default)(d.message_count).format('0,0');\n    }, function (d) {\n      return _this._getAddToSearchButton(d.name);\n    }]).sortBy(function (d) {\n      return d.message_count;\n    }).order(_d2.default.descending).on('renderlet', function (table) {\n      table.selectAll('.dc-table-group').classed('info', true);\n      _this._addSourceToSearchBarListener(table);\n      _this._filterSourceListener(table, onDataFiltered);\n    });\n  },\n  _addSourceToSearchBarListener: function _addSourceToSearchBarListener(table) {\n    table.selectAll('td.dc-table-column .dc-search-button').on('click', function () {\n      var source = (0, _jquery2.default)(_d2.default.event.target).closest('button').data('source');\n      SearchStore.addSearchTerm('source', source, _UniversalSearch2.default.orOperator());\n    });\n  },\n  _filterSourceListener: function _filterSourceListener(table, onDataFiltered) {\n    table.selectAll('td.dc-table-column a.dc-filter-link').on('click', function () {\n      var parentTdElement = (0, _jquery2.default)(_d2.default.event.target).parents('td.dc-table-column._0');\n      var datum = _d2.default.selectAll(parentTdElement).datum();\n\n      onDataFiltered(datum.name);\n    });\n  },\n  redraw: function redraw() {\n    this._dataTable.redraw();\n  },\n  clearFilters: function clearFilters() {\n    this._dataTable.filterAll();\n  },\n  getFilters: function getFilters() {\n    return this._dataTable ? this._dataTable.filters() : [];\n  },\n  setFilter: function setFilter(filter) {\n    this._dataTable.filter(filter);\n  },\n  changeNumberOfSources: function changeNumberOfSources(numberOfSources) {\n    this._dataTable.size(numberOfSources).redraw();\n  },\n  _onNumberOfSourcesChanged: function _onNumberOfSourcesChanged(event) {\n    var _this2 = this;\n\n    this.setState({ numberOfSources: event.target.value }, function () {\n      _this2.changeNumberOfSources(_this2.state.numberOfSources);\n    });\n  },\n  _onFilterChanged: function _onFilterChanged(event) {\n    this.props.setSearchFilter(event.target.value);\n  },\n  render: function render() {\n    var resultTable = _react2.default.createElement(\n      'table',\n      { id: 'dc-sources-result', className: 'sources table table-hover' },\n      _react2.default.createElement(\n        'thead',\n        null,\n        _react2.default.createElement(\n          'tr',\n          null,\n          _react2.default.createElement(\n            'th',\n            { style: { width: '60%' } },\n            'Name'\n          ),\n          _react2.default.createElement(\n            'th',\n            null,\n            'Percentage'\n          ),\n          _react2.default.createElement(\n            'th',\n            null,\n            'Message count'\n          ),\n          _react2.default.createElement('th', { style: { width: 10 } })\n        )\n      )\n    );\n\n    return _react2.default.createElement(\n      'div',\n      null,\n      _react2.default.createElement(\n        _SourceTitle2.default,\n        { resetFilterId: 'dc-sources-result-reset', resetFilters: this.props.resetFilters },\n        'Selected sources'\n      ),\n      _react2.default.createElement(\n        'div',\n        { className: 'row sources-filtering' },\n        _react2.default.createElement(\n          'div',\n          { className: 'col-md-6' },\n          _react2.default.createElement(\n            'div',\n            { className: 'form-inline' },\n            _react2.default.createElement(\n              'div',\n              { className: 'form-group' },\n              _react2.default.createElement('input', { type: 'text', className: 'form-control input-sm', onChange: this._onFilterChanged,\n                placeholder: 'Search' })\n            )\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'col-md-6' },\n          _react2.default.createElement(\n            'div',\n            { className: 'form-inline text-right' },\n            _react2.default.createElement(\n              'div',\n              { className: 'form-group' },\n              _react2.default.createElement(\n                'label',\n                { htmlFor: 'no-results' },\n                'Show:'\n              ),\n              _react2.default.createElement(\n                'select',\n                { id: 'no-results', className: 'form-control input-sm', onChange: this._onNumberOfSourcesChanged,\n                  value: this.state.numberOfSources },\n                _react2.default.createElement(\n                  'option',\n                  { value: '10' },\n                  '10'\n                ),\n                _react2.default.createElement(\n                  'option',\n                  { value: '50' },\n                  '50'\n                ),\n                _react2.default.createElement(\n                  'option',\n                  { value: '100' },\n                  '100'\n                ),\n                _react2.default.createElement(\n                  'option',\n                  { value: '500' },\n                  '500'\n                )\n              )\n            )\n          )\n        )\n      ),\n      resultTable\n    );\n  }\n});\n\nexports.default = SourceDataTable;\nmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ 1297:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = __webpack_require__(2);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _jquery = __webpack_require__(12);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\n__webpack_require__(283);\n\nvar _dc = __webpack_require__(266);\n\nvar _dc2 = _interopRequireDefault(_dc);\n\nvar _d = __webpack_require__(76);\n\nvar _d2 = _interopRequireDefault(_d);\n\nvar _UniversalSearch = __webpack_require__(169);\n\nvar _UniversalSearch2 = _interopRequireDefault(_UniversalSearch);\n\nvar _SourceTitle = __webpack_require__(1173);\n\nvar _SourceTitle2 = _interopRequireDefault(_SourceTitle);\n\nvar _D3Utils = __webpack_require__(267);\n\nvar _D3Utils2 = _interopRequireDefault(_D3Utils);\n\nvar _graphHelper = __webpack_require__(168);\n\nvar _graphHelper2 = _interopRequireDefault(_graphHelper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SourceLineChart = _react2.default.createClass({\n  displayName: 'SourceLineChart',\n\n  propTypes: {\n    histogramDataAvailable: _react2.default.PropTypes.bool.isRequired,\n    reloadingHistogram: _react2.default.PropTypes.bool.isRequired,\n    resetFilters: _react2.default.PropTypes.func.isRequired,\n    resolution: _react2.default.PropTypes.string.isRequired\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      lineChartWidth: '100%'\n    };\n  },\n  getFilters: function getFilters() {\n    return this._lineChart ? this._lineChart.filters() : [];\n  },\n  setFilter: function setFilter(filter) {\n    this._lineChart.filter(filter);\n  },\n  clearFilters: function clearFilters() {\n    this._lineChart.filterAll();\n  },\n  _configureWidth: function _configureWidth(lineChartWidth) {\n    this._lineChart.width(lineChartWidth);\n    this.setState({ lineChartWidth: String(lineChartWidth) + 'px' });\n  },\n  updateWidth: function updateWidth() {\n    var $lineChartDomNode = (0, _jquery2.default)('#dc-sources-line-chart');\n    var lineChartWidth = $lineChartDomNode.width();\n    this._configureWidth(lineChartWidth);\n  },\n  renderLineChart: function renderLineChart(dimension, group, onDataFiltered) {\n    var lineChartDomNode = (0, _jquery2.default)('#dc-sources-line-chart')[0];\n    var width = (0, _jquery2.default)(lineChartDomNode).width();\n    (0, _jquery2.default)(document).on('mouseup', '#dc-sources-line-chart svg', function (event) {\n      (0, _jquery2.default)('.timerange-selector-container').effect('bounce', {\n        complete: function complete() {\n          // Submit search directly if alt key is pressed.\n          if (event.altKey) {\n            _UniversalSearch2.default.submit();\n          }\n        }\n      });\n    });\n    this._lineChart = _dc2.default.lineChart(lineChartDomNode);\n    this._lineChart.height(200).margins({ left: 35, right: 20, top: 20, bottom: 20 }).dimension(dimension).group(group).x(_d2.default.time.scale()).renderHorizontalGridLines(true)\n    // FIXME: causes those nasty exceptions when rendering data (one per x axis tick)\n    .elasticX(true).elasticY(true).transitionDuration(30).colors(_D3Utils2.default.glColourPalette()).on('filtered', function (chart) {\n      _dc2.default.events.trigger(function () {\n        var filter = chart.filter();\n        onDataFiltered(filter);\n      });\n    });\n    this._configureWidth(width);\n    this._lineChart.xAxis().ticks(_graphHelper2.default.customTickInterval()).tickFormat(_graphHelper2.default.customDateTimeFormat());\n    this._lineChart.yAxis().ticks(6).tickFormat(_d2.default.format('s'));\n  },\n  render: function render() {\n    var loadingSpinnerStyle = {\n      display: this.props.reloadingHistogram ? 'block' : 'none',\n      width: this.state.lineChartWidth\n    };\n    var loadingSpinner = _react2.default.createElement(\n      'div',\n      { className: 'sources overlay', style: loadingSpinnerStyle },\n      _react2.default.createElement('i', { className: 'fa fa-spin fa-refresh spinner' })\n    );\n\n    var noDataOverlayStyle = {\n      display: this.props.histogramDataAvailable ? 'none' : 'block',\n      width: this.state.lineChartWidth\n    };\n    var noDataOverlay = _react2.default.createElement(\n      'div',\n      { className: 'sources overlay', style: noDataOverlayStyle },\n      'Not enough data'\n    );\n    return _react2.default.createElement(\n      'div',\n      { id: 'dc-sources-line-chart', className: 'col-md-12' },\n      _react2.default.createElement(\n        _SourceTitle2.default,\n        { className: 'reset', resetFilters: this.props.resetFilters },\n        'Messages per ',\n        this.props.resolution\n      ),\n      loadingSpinner,\n      noDataOverlay\n    );\n  }\n});\n\nexports.default = SourceLineChart;\nmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ 1298:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = __webpack_require__(2);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _jquery = __webpack_require__(12);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _crossfilter = __webpack_require__(119);\n\nvar _crossfilter2 = _interopRequireDefault(_crossfilter);\n\nvar _dc = __webpack_require__(266);\n\nvar _dc2 = _interopRequireDefault(_dc);\n\nvar _qs = __webpack_require__(90);\n\nvar _qs2 = _interopRequireDefault(_qs);\n\nvar _moment = __webpack_require__(34);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _SourceDataTable = __webpack_require__(1296);\n\nvar _SourceDataTable2 = _interopRequireDefault(_SourceDataTable);\n\nvar _SourcePieChart = __webpack_require__(1299);\n\nvar _SourcePieChart2 = _interopRequireDefault(_SourcePieChart);\n\nvar _SourceLineChart = __webpack_require__(1297);\n\nvar _SourceLineChart2 = _interopRequireDefault(_SourceLineChart);\n\nvar _SupportLink = __webpack_require__(271);\n\nvar _SupportLink2 = _interopRequireDefault(_SupportLink);\n\nvar _common = __webpack_require__(48);\n\nvar _DateTime = __webpack_require__(49);\n\nvar _DateTime2 = _interopRequireDefault(_DateTime);\n\nvar _UniversalSearch = __webpack_require__(169);\n\nvar _UniversalSearch2 = _interopRequireDefault(_UniversalSearch);\n\nvar _EventHandlersThrottler = __webpack_require__(268);\n\nvar _EventHandlersThrottler2 = _interopRequireDefault(_EventHandlersThrottler);\n\nvar _StoreProvider = __webpack_require__(18);\n\nvar _StoreProvider2 = _interopRequireDefault(_StoreProvider);\n\nvar _ActionsProvider = __webpack_require__(7);\n\nvar _ActionsProvider2 = _interopRequireDefault(_ActionsProvider);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SourcesStore = _StoreProvider2.default.getStore('Sources');\nvar HistogramDataStore = _StoreProvider2.default.getStore('HistogramData');\nvar SearchStore = _StoreProvider2.default.getStore('Search');\n\nvar HistogramDataActions = _ActionsProvider2.default.getActions('HistogramData');\n\nvar daysToSeconds = function daysToSeconds(days) {\n  return _moment2.default.duration(days, 'days').as('seconds');\n};\nvar hoursToSeconds = function hoursToSeconds(hours) {\n  return _moment2.default.duration(hours, 'hours').as('seconds');\n};\n\nvar DEFAULT_RANGE_IN_SECS = hoursToSeconds(1);\nvar SUPPORTED_RANGES_IN_SECS = [hoursToSeconds(1), daysToSeconds(1), daysToSeconds(7), daysToSeconds(31), daysToSeconds(365), 0];\n\nvar SCREEN_RESOLUTION = (0, _jquery2.default)(window).width();\n\nvar SourceOverview = _react2.default.createClass({\n  displayName: 'SourceOverview',\n  getInitialState: function getInitialState() {\n    this.sourcesData = (0, _crossfilter2.default)();\n    this.filterDimension = this.sourcesData.dimension(function (d) {\n      return d.name;\n    });\n    this.nameDimension = this.sourcesData.dimension(function (d) {\n      return d.name;\n    });\n    this.nameMessageGroup = this.nameDimension.group().reduceSum(function (d) {\n      return d.message_count;\n    });\n\n    this.messageCountDimension = this.sourcesData.dimension(function (d) {\n      return d.message_count;\n    });\n\n    this.histogramData = (0, _crossfilter2.default)();\n    this.valueDimension = this.histogramData.dimension(function (d) {\n      return new Date(d.x);\n    });\n    this.valueGroup = this.valueDimension.group().reduceSum(function (d) {\n      return d.y;\n    });\n\n    return {\n      range: null,\n      resolution: 'minute',\n      filter: '',\n      loading: false,\n      renderResultTable: true,\n      histogramDataAvailable: true,\n      reloadingHistogram: false\n    };\n  },\n  componentDidMount: function componentDidMount() {\n    var _this = this;\n\n    var onDataTableFiltered = function onDataTableFiltered(sourceName) {\n      _this.refs.sourcePieChart.setFilter(sourceName);\n      _this._toggleResetButtons();\n      _dc2.default.redrawAll();\n      _this.loadHistogramData();\n    };\n\n    var onPieChartFiltered = function onPieChartFiltered() {\n      _this.loadHistogramData();\n      _this._toggleResetButtons();\n    };\n\n    var onLineChartFiltered = function onLineChartFiltered(filter) {\n      if (filter) {\n        SearchStore.changeTimeRange('absolute', {\n          from: new _DateTime2.default(filter[0]).toString(),\n          to: new _DateTime2.default(filter[1]).toString()\n        });\n      } else {\n        _this.syncRangeWithQuery();\n      }\n    };\n\n    this.refs.sourceDataTable.renderDataTable(this.messageCountDimension, this.nameMessageGroup, onDataTableFiltered);\n    this.refs.sourcePieChart.renderPieChart(this.nameDimension, this.nameMessageGroup, onPieChartFiltered);\n    this.refs.sourceLineChart.renderLineChart(this.valueDimension, this.valueGroup, onLineChartFiltered);\n    this.applyRangeParameter();\n    _dc2.default.renderAll();\n    window.addEventListener('resize', this._resizeCallback);\n    (0, _jquery2.default)(window).on('hashchange', this._applyRangeFromHash);\n    // register them live as we do not know if those buttons are currently in the DOM\n    (0, _jquery2.default)(document).on('click', '.sidebar-hide', this._updateWidth);\n    (0, _jquery2.default)(document).on('click', '.sidebar-show', this._updateWidth);\n    _UniversalSearch2.default.init();\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    window.removeEventListener('resize', this._resizeCallback);\n    (0, _jquery2.default)(window).off('hashchange', this._applyRangeFromHash);\n    (0, _jquery2.default)(document).off('click', '.sidebar-hide', this._updateWidth);\n    (0, _jquery2.default)(document).off('click', '.sidebar-show', this._updateWidth);\n  },\n  setSearchFilter: function setSearchFilter(filter) {\n    var _this2 = this;\n\n    this.setState({ filter: filter }, function () {\n      _this2._filterSources();\n      _this2.refs.sourceDataTable.redraw();\n      _this2.refs.sourcePieChart.redraw();\n    });\n  },\n\n\n  NUMBER_OF_TOP_VALUES: 10,\n  eventThrottler: new _EventHandlersThrottler2.default(),\n\n  loadData: function loadData() {\n    this.loadSources();\n    this.loadHistogramData();\n  },\n  loadSources: function loadSources() {\n    var _this3 = this;\n\n    var onLoaded = function onLoaded(sources) {\n      _this3._resetSources(sources);\n      _this3.setState({ renderResultTable: _this3.sourcesData.size() !== 0, loading: false });\n      _this3._updateWidth();\n    };\n\n    SourcesStore.loadSources(this.state.range, onLoaded);\n  },\n  _resetSources: function _resetSources(sources) {\n    var _this4 = this;\n\n    /*\n     * http://stackoverflow.com/questions/23500546/replace-crossfilter-data-restore-dimensions-and-groups\n     * It looks like dc interacts with crossfilter to represent the graphs and apply some filters\n     * on the crossfilter dimension, but it also stores those filters internally. That means that\n     * we need to remove the dimension and graphs filters, but we only need to reapply filters to the\n     * graphs, dc will propagate that to the crossfilter dimension.\n     */\n    var pieChartFilters = this.refs.sourcePieChart.getFilters();\n    var dataTableFilters = this.refs.sourceDataTable.getFilters();\n    this.nameDimension.filterAll();\n    this.filterDimension.filterAll();\n    this.refs.sourcePieChart.clearFilters();\n    this.refs.sourceDataTable.clearFilters();\n    this.sourcesData.remove();\n    this.sourcesData.add(sources);\n\n    pieChartFilters.forEach(function (filter) {\n      return _this4.refs.sourcePieChart.setFilter(filter);\n    });\n    dataTableFilters.forEach(function (filter) {\n      return _this4.refs.sourceDataTable.setFilter(filter);\n    });\n    this._filterSources();\n\n    _dc2.default.redrawAll();\n  },\n  loadHistogramData: function loadHistogramData() {\n    var _this5 = this;\n\n    var filters = void 0;\n\n    if (this.refs.sourcePieChart.getFilters().length !== 0 || this.refs.sourceDataTable.getFilters().length !== 0) {\n      filters = this.nameDimension.top(Infinity).map(function (source) {\n        return _UniversalSearch2.default.escape(source.name);\n      });\n    }\n\n    HistogramDataActions.load(this.state.range, filters, SCREEN_RESOLUTION).then(function (histogramData) {\n      _this5.setState({\n        resolution: histogramData.interval,\n        reloadingHistogram: false,\n        histogramDataAvailable: histogramData.histogram.length >= 2\n      });\n      _this5._resetHistogram(histogramData.histogram);\n    });\n\n    this.setState({ reloadingHistogram: true });\n  },\n  _resetHistogram: function _resetHistogram(histogram) {\n    var _this6 = this;\n\n    var lineChartFilters = this.refs.sourceLineChart.getFilters();\n    this.valueDimension.filterAll();\n    this.refs.sourceLineChart.clearFilters();\n    this.histogramData.remove();\n    this.histogramData.add(histogram);\n\n    lineChartFilters.forEach(function (filter) {\n      return _this6.refs.sourceLineChart.setFilter(filter);\n    });\n\n    _dc2.default.redrawAll();\n  },\n  _resizeCallback: function _resizeCallback() {\n    var _this7 = this;\n\n    this.eventThrottler.throttle(function () {\n      return _this7._updateWidth();\n    });\n  },\n\n\n  // redirect old range format (as query parameter) to new format (deep link)\n  _redirectToRange: function _redirectToRange(range) {\n    // if range is ill formatted, we take care of it in the deep link handling\n    window.location.replace('sources#' + range);\n  },\n  _getRangeFromOldQueryFormat: function _getRangeFromOldQueryFormat() {\n    var query = window.location.search;\n    if (query) {\n      if (query.indexOf('?') === 0 && query.length > 1) {\n        query = query.substr(1, query.length - 1);\n        var range = _qs2.default.parse(query).range;\n        if (range) {\n          return range;\n        }\n      }\n    }\n    return null;\n  },\n  _applyRangeFromHash: function _applyRangeFromHash() {\n    var range = this._getRangeFromHash();\n    this.changeRange(range, false);\n  },\n  applyRangeParameter: function applyRangeParameter() {\n    var range = this._getRangeFromOldQueryFormat();\n    if (range) {\n      this._redirectToRange(range);\n    } else {\n      this._applyRangeFromHash();\n    }\n  },\n  _getRangeFromHash: function _getRangeFromHash() {\n    var hash = window.location.hash;\n    if (hash.indexOf('#') !== 0) {\n      return DEFAULT_RANGE_IN_SECS;\n    }\n    var hashContent = hash.substring(1);\n    if (hash.indexOf('&') < 0) {\n      // If there is only one param in the hash, return it\n      return hashContent;\n    }\n    // If there are more than one params in the hash, return the numeric one\n    var match = hashContent.match(/(\\d+)=&/);\n    return match && match.length > 0 ? match[1] : DEFAULT_RANGE_IN_SECS;\n  },\n  resetSourcesFilters: function resetSourcesFilters() {\n    this.refs.sourcePieChart.clearFilters();\n    this.nameDimension.filterAll();\n    this.loadHistogramData();\n    this._toggleResetButtons();\n    _dc2.default.redrawAll();\n  },\n  resetHistogramFilters: function resetHistogramFilters() {\n    this.valueDimension.filterAll();\n    this.refs.sourceLineChart.clearFilters();\n    _dc2.default.redrawAll();\n  },\n  _updateWidth: function _updateWidth() {\n    SCREEN_RESOLUTION = (0, _jquery2.default)(window).width();\n    this.refs.sourcePieChart.updateWidth();\n    this.refs.sourceLineChart.updateWidth();\n    _dc2.default.renderAll();\n  },\n  syncRangeWithQuery: function syncRangeWithQuery() {\n    var rangeSelectBox = this.refs.rangeSelector;\n    if (Number(rangeSelectBox.value) === 0) {\n      SearchStore.changeTimeRange('relative', { relative: 0 });\n    } else {\n      var $selectedOptions = (0, _jquery2.default)(':selected', rangeSelectBox);\n      var text = $selectedOptions && $selectedOptions[0] && $selectedOptions[0].text;\n      SearchStore.changeTimeRange('keyword', { keyword: text });\n    }\n  },\n  _toggleResetButtons: function _toggleResetButtons() {\n    // We only need to toggle the datatable reset button, dc will take care of the other reset buttons\n    if (this.refs.sourcePieChart.getFilters().length !== 0) {\n      (0, _jquery2.default)('#dc-sources-result-reset').show();\n    } else {\n      (0, _jquery2.default)('#dc-sources-result-reset').hide();\n    }\n  },\n  changeRange: function changeRange(range, keepChangeInHistory) {\n    var _this8 = this;\n\n    var effectiveRange = range;\n\n    if (effectiveRange !== undefined) {\n      effectiveRange = Number(effectiveRange);\n    }\n\n    if (typeof effectiveRange === 'undefined' || SUPPORTED_RANGES_IN_SECS.indexOf(effectiveRange) === -1) {\n      effectiveRange = DEFAULT_RANGE_IN_SECS;\n    }\n\n    if (this.state.range === effectiveRange) {\n      return;\n    }\n\n    // when range is changed the filter in line chart (corresponding to the brush) does not make any sense any more\n    this.valueDimension.filterAll();\n    this.refs.sourceLineChart.clearFilters();\n    this.syncRangeWithQuery();\n    if (keepChangeInHistory) {\n      window.location.hash = '#' + effectiveRange;\n    } else {\n      window.location.replace('#' + effectiveRange);\n    }\n    this.setState({ range: effectiveRange, histogramDataAvailable: true, loading: true }, function () {\n      return _this8.loadData();\n    });\n  },\n  _onRangeChanged: function _onRangeChanged(event) {\n    var value = event.target.value;\n    this.changeRange(value, true);\n  },\n  _filterSources: function _filterSources() {\n    var _this9 = this;\n\n    this.filterDimension.filter(function (name) {\n      return name.indexOf(_this9.state.filter) !== -1;\n    });\n  },\n  render: function render() {\n    var emptySources = _react2.default.createElement(\n      'div',\n      { className: 'row content' },\n      _react2.default.createElement(\n        'div',\n        { className: 'col-md-12' },\n        _react2.default.createElement(\n          'div',\n          { className: 'alert alert-info' },\n          'No message sources found for this time range. Did you try using a different one?'\n        )\n      )\n    );\n\n    var resultsStyle = this.state.renderResultTable ? null : { display: 'none' };\n    var results = _react2.default.createElement(\n      'div',\n      { style: resultsStyle },\n      _react2.default.createElement(\n        'div',\n        { className: 'row content' },\n        _react2.default.createElement(_SourceLineChart2.default, { ref: 'sourceLineChart',\n          reloadingHistogram: this.state.reloadingHistogram,\n          histogramDataAvailable: this.state.histogramDataAvailable,\n          resolution: this.state.resolution,\n          resetFilters: this.resetHistogramFilters })\n      ),\n      this.state.loading ? _react2.default.createElement(\n        'div',\n        { className: 'row content' },\n        _react2.default.createElement(\n          'div',\n          { style: { marginLeft: 10 } },\n          _react2.default.createElement(_common.Spinner, null)\n        )\n      ) : null,\n      _react2.default.createElement(\n        'div',\n        { className: 'row content', style: { display: this.state.loading ? 'none' : 'block' } },\n        _react2.default.createElement(\n          'div',\n          { className: 'col-md-7' },\n          _react2.default.createElement(_SourceDataTable2.default, { ref: 'sourceDataTable', resetFilters: this.resetSourcesFilters,\n            setSearchFilter: this.setSearchFilter, numberOfTopValues: this.NUMBER_OF_TOP_VALUES })\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'col-md-3 col-md-offset-1' },\n          _react2.default.createElement(_SourcePieChart2.default, { ref: 'sourcePieChart', resetFilters: this.resetSourcesFilters,\n            numberOfTopValues: this.NUMBER_OF_TOP_VALUES })\n        )\n      )\n    );\n\n    return _react2.default.createElement(\n      'div',\n      null,\n      _react2.default.createElement(\n        'div',\n        { className: 'row content' },\n        _react2.default.createElement(\n          'div',\n          { className: 'col-md-12' },\n          _react2.default.createElement(\n            'div',\n            null,\n            _react2.default.createElement(\n              'div',\n              { className: 'pull-right' },\n              _react2.default.createElement(\n                'select',\n                { ref: 'rangeSelector', className: 'sources-range form-control input-sm', value: this.state.range,\n                  onChange: this._onRangeChanged },\n                _react2.default.createElement(\n                  'option',\n                  { value: hoursToSeconds(1) },\n                  'Last Hour'\n                ),\n                _react2.default.createElement(\n                  'option',\n                  { value: daysToSeconds(1) },\n                  'Last Day'\n                ),\n                _react2.default.createElement(\n                  'option',\n                  { value: daysToSeconds(7) },\n                  'Last Week'\n                ),\n                _react2.default.createElement(\n                  'option',\n                  { value: daysToSeconds(31) },\n                  'Last Month'\n                ),\n                _react2.default.createElement(\n                  'option',\n                  { value: daysToSeconds(365) },\n                  'Last Year'\n                ),\n                _react2.default.createElement(\n                  'option',\n                  { value: '0' },\n                  'All'\n                )\n              )\n            ),\n            _react2.default.createElement(\n              'h1',\n              null,\n              'Sources'\n            )\n          ),\n          _react2.default.createElement(\n            'p',\n            { className: 'description' },\n            'This is a list of all sources that sent in messages to Graylog. Note that the list is cached for a few seconds so you might have to wait a bit until a new source appears.'\n          ),\n          _react2.default.createElement(\n            _SupportLink2.default,\n            null,\n            ' Use your mouse to interact with the table and graphs on this page, and get a better ' + 'overview of the sources sending data into Graylog.'\n          )\n        )\n      ),\n      this.state.renderResultTable ? null : emptySources,\n      results\n    );\n  }\n});\n\nexports.default = SourceOverview;\nmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ 1299:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _jquery = __webpack_require__(12);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _dc = __webpack_require__(266);\n\nvar _dc2 = _interopRequireDefault(_dc);\n\nvar _numeral = __webpack_require__(115);\n\nvar _numeral2 = _interopRequireDefault(_numeral);\n\nvar _react = __webpack_require__(2);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _SourceTitle = __webpack_require__(1173);\n\nvar _SourceTitle2 = _interopRequireDefault(_SourceTitle);\n\nvar _D3Utils = __webpack_require__(267);\n\nvar _D3Utils2 = _interopRequireDefault(_D3Utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SourcePieChart = _react2.default.createClass({\n  displayName: 'SourcePieChart',\n\n  propTypes: {\n    resetFilters: _react.PropTypes.func.isRequired,\n    numberOfTopValues: _react.PropTypes.number.isRequired\n  },\n\n  getFilters: function getFilters() {\n    return this._pieChart ? this._pieChart.filters() : [];\n  },\n  setFilter: function setFilter(filter) {\n    this._pieChart.filter(filter);\n  },\n  clearFilters: function clearFilters() {\n    this._pieChart.filterAll();\n  },\n  redraw: function redraw() {\n    this._pieChart.redraw();\n  },\n  _configureWidth: function _configureWidth(pieChartWidth) {\n    this._pieChart.width(pieChartWidth).height(pieChartWidth).radius(pieChartWidth / 2 - 10).innerRadius(pieChartWidth / 5);\n  },\n  updateWidth: function updateWidth() {\n    var $pieChartDomNode = (0, _jquery2.default)('#dc-sources-pie-chart').parent();\n    var pieChartWidth = $pieChartDomNode.width();\n    this._configureWidth(pieChartWidth);\n  },\n  renderPieChart: function renderPieChart(dimension, group, onDataFiltered) {\n    var pieChartDomNode = (0, _jquery2.default)('#dc-sources-pie-chart')[0];\n    var pieChartWidth = (0, _jquery2.default)(pieChartDomNode).width();\n    this._pieChart = _dc2.default.pieChart(pieChartDomNode);\n    this._pieChart.renderLabel(false).dimension(dimension).group(group).colors(_D3Utils2.default.glColourPalette()).slicesCap(this.props.numberOfTopValues).title(function (d) {\n      return d.key + ': ' + (0, _numeral2.default)(d.value).format('0,0');\n    }).on('renderlet', function (chart) {\n      chart.selectAll('.pie-slice').on('click', function () {\n        onDataFiltered();\n      });\n    });\n    this._configureWidth(pieChartWidth);\n  },\n  render: function render() {\n    return _react2.default.createElement(\n      'div',\n      { id: 'dc-sources-pie-chart', ref: 'sourcePieChart' },\n      _react2.default.createElement(\n        _SourceTitle2.default,\n        { className: 'reset', resetFilters: this.props.resetFilters },\n        'Messages per source'\n      )\n    );\n  }\n});\n\nexports.default = SourcePieChart;\nmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ 1406:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = __webpack_require__(2);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _SourceOverview = __webpack_require__(1298);\n\nvar _SourceOverview2 = _interopRequireDefault(_SourceOverview);\n\nvar _common = __webpack_require__(48);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SourcesPage = _react2.default.createClass({\n  displayName: 'SourcesPage',\n  render: function render() {\n    return _react2.default.createElement(\n      _common.DocumentTitle,\n      { title: 'Sources' },\n      _react2.default.createElement(_SourceOverview2.default, null)\n    );\n  }\n});\n\nexports.default = SourcesPage;\nmodule.exports = exports['default'];\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 38.200197dca04f05abe3f2.js","import React, { PropTypes } from 'react';\n\nconst SourceTitle = React.createClass({\n  propTypes: {\n    className: PropTypes.string,\n    resetFilters: PropTypes.func.isRequired,\n    resetFilterId: PropTypes.string,\n    children: PropTypes.oneOfType([\n      PropTypes.array,\n      PropTypes.element,\n      PropTypes.string,\n    ]).isRequired,\n  },\n  render() {\n    return (\n      <h3 className=\"sources-title\">\n        {this.props.children}\n        <span style={{ marginLeft: 10 }}>\n          <button id={this.props.resetFilterId} className={`btn btn-info btn-xs ${this.props.className}`}\n                    onClick={this.props.resetFilters} title=\"Reset filter\" style={{ display: 'none' }}>\n              Reset\n            </button>\n        </span>\n      </h3>\n    );\n  },\n});\n\nexport default SourceTitle;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/sources/SourceTitle.jsx","import React, { PropTypes } from 'react';\nimport $ from 'jquery';\nimport d3 from 'd3';\nimport dc from 'dc';\nimport numeral from 'numeral';\n\nimport SourceTitle from './SourceTitle';\nimport UniversalSearch from 'logic/search/UniversalSearch';\nimport StringUtils from 'util/StringUtils';\n\nimport StoreProvider from 'injection/StoreProvider';\nconst SearchStore = StoreProvider.getStore('Search');\n\nconst SourceDataTable = React.createClass({\n  propTypes: {\n    numberOfTopValues: PropTypes.number.isRequired,\n    resetFilters: PropTypes.func.isRequired,\n    setSearchFilter: PropTypes.func.isRequired,\n  },\n\n  getInitialState() {\n    return {\n      numberOfSources: 100,\n    };\n  },\n\n  _getAddToSearchButton(source) {\n    const addToSearchButton = document.createElement('button');\n    addToSearchButton.className = 'btn btn-xs btn-default dc-search-button';\n    addToSearchButton.title = 'Add to search query';\n    addToSearchButton.setAttribute('data-source', StringUtils.unescapeHTML(source));\n    addToSearchButton.innerHTML = \"<i class='fa fa-search-plus'></i>\";\n\n    return addToSearchButton.outerHTML;\n  },\n\n  renderDataTable(dimension, group, onDataFiltered) {\n    const dataTableDomNode = $('#dc-sources-result')[0];\n    this._dataTable = dc.dataTable(dataTableDomNode);\n    this._dataTable\n      .dimension(dimension)\n      .group((d) => {\n        const topValues = group.top(this.props.numberOfTopValues);\n        const dInTopValues = topValues.some(value => d.name.localeCompare(value.key) === 0);\n        return (dInTopValues ? 'Top sources' : 'Others');\n      })\n      .size(this.state.numberOfSources)\n      .columns([\n        d => `<a href=\"javascript:undefined\" class=\"dc-filter-link\" title=\"Filter this source\">${d.name}</a>`,\n        d => `${d.percentage.toFixed(2)}%`,\n        d => numeral(d.message_count).format('0,0'),\n        d => this._getAddToSearchButton(d.name),\n      ])\n      .sortBy(d => d.message_count)\n      .order(d3.descending)\n      .on('renderlet', (table) => {\n        table.selectAll('.dc-table-group').classed('info', true);\n        this._addSourceToSearchBarListener(table);\n        this._filterSourceListener(table, onDataFiltered);\n      });\n  },\n\n  _addSourceToSearchBarListener(table) {\n    table.selectAll('td.dc-table-column .dc-search-button').on('click', () => {\n      const source = $(d3.event.target).closest('button').data('source');\n      SearchStore.addSearchTerm('source', source, UniversalSearch.orOperator());\n    });\n  },\n\n  _filterSourceListener(table, onDataFiltered) {\n    table.selectAll('td.dc-table-column a.dc-filter-link').on('click', () => {\n      const parentTdElement = $(d3.event.target).parents('td.dc-table-column._0');\n      const datum = d3.selectAll(parentTdElement).datum();\n\n      onDataFiltered(datum.name);\n    });\n  },\n\n  redraw() {\n    this._dataTable.redraw();\n  },\n\n  clearFilters() {\n    this._dataTable.filterAll();\n  },\n\n  getFilters() {\n    return (this._dataTable ? this._dataTable.filters() : []);\n  },\n\n  setFilter(filter) {\n    this._dataTable.filter(filter);\n  },\n\n  changeNumberOfSources(numberOfSources) {\n    this._dataTable\n      .size(numberOfSources)\n      .redraw();\n  },\n\n  _onNumberOfSourcesChanged(event) {\n    this.setState({ numberOfSources: event.target.value }, () => {\n      this.changeNumberOfSources(this.state.numberOfSources);\n    });\n  },\n\n  _onFilterChanged(event) {\n    this.props.setSearchFilter(event.target.value);\n  },\n\n  render() {\n    const resultTable = (\n      <table id=\"dc-sources-result\" className=\"sources table table-hover\">\n        <thead>\n          <tr>\n            <th style={{ width: '60%' }}>Name</th>\n            <th>Percentage</th>\n            <th>Message count</th>\n            <th style={{ width: 10 }} />\n          </tr>\n        </thead>\n      </table>\n    );\n\n    return (\n      <div>\n        <SourceTitle resetFilterId=\"dc-sources-result-reset\" resetFilters={this.props.resetFilters}>\n          Selected sources\n        </SourceTitle>\n        <div className=\"row sources-filtering\">\n          <div className=\"col-md-6\">\n            <div className=\"form-inline\">\n              <div className=\"form-group\">\n                <input type=\"text\" className=\"form-control input-sm\" onChange={this._onFilterChanged}\n                       placeholder=\"Search\" />\n              </div>\n            </div>\n          </div>\n          <div className=\"col-md-6\">\n            <div className=\"form-inline text-right\">\n              <div className=\"form-group\">\n                <label htmlFor=\"no-results\">Show:</label>\n                <select id=\"no-results\" className=\"form-control input-sm\" onChange={this._onNumberOfSourcesChanged}\n                        value={this.state.numberOfSources}>\n                  <option value=\"10\">10</option>\n                  <option value=\"50\">50</option>\n                  <option value=\"100\">100</option>\n                  <option value=\"500\">500</option>\n                </select>\n              </div>\n            </div>\n          </div>\n        </div>\n        {resultTable}\n      </div>\n    );\n  },\n});\n\nexport default SourceDataTable;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/sources/SourceDataTable.jsx","import React from 'react';\nimport $ from 'jquery';\nimport {} from 'jquery-ui/ui/effects/effect-bounce';\nimport dc from 'dc';\nimport d3 from 'd3';\n\nimport UniversalSearch from 'logic/search/UniversalSearch';\nimport SourceTitle from './SourceTitle';\nimport D3Utils from 'util/D3Utils';\n\nimport graphHelper from 'legacy/graphHelper';\n\nconst SourceLineChart = React.createClass({\n  propTypes: {\n    histogramDataAvailable: React.PropTypes.bool.isRequired,\n    reloadingHistogram: React.PropTypes.bool.isRequired,\n    resetFilters: React.PropTypes.func.isRequired,\n    resolution: React.PropTypes.string.isRequired,\n  },\n\n  getInitialState() {\n    return {\n      lineChartWidth: '100%',\n    };\n  },\n\n  getFilters() {\n    return this._lineChart ? this._lineChart.filters() : [];\n  },\n\n  setFilter(filter) {\n    this._lineChart.filter(filter);\n  },\n\n  clearFilters() {\n    this._lineChart.filterAll();\n  },\n\n  _configureWidth(lineChartWidth) {\n    this._lineChart.width(lineChartWidth);\n    this.setState({ lineChartWidth: `${String(lineChartWidth)}px` });\n  },\n\n  updateWidth() {\n    const $lineChartDomNode = $('#dc-sources-line-chart');\n    const lineChartWidth = $lineChartDomNode.width();\n    this._configureWidth(lineChartWidth);\n  },\n\n  renderLineChart(dimension, group, onDataFiltered) {\n    const lineChartDomNode = $('#dc-sources-line-chart')[0];\n    const width = $(lineChartDomNode).width();\n    $(document).on('mouseup', '#dc-sources-line-chart svg', (event) => {\n      $('.timerange-selector-container').effect('bounce', {\n        complete: () => {\n          // Submit search directly if alt key is pressed.\n          if (event.altKey) {\n            UniversalSearch.submit();\n          }\n        },\n      });\n    });\n    this._lineChart = dc.lineChart(lineChartDomNode);\n    this._lineChart\n      .height(200)\n      .margins({ left: 35, right: 20, top: 20, bottom: 20 })\n      .dimension(dimension)\n      .group(group)\n      .x(d3.time.scale())\n      .renderHorizontalGridLines(true)\n      // FIXME: causes those nasty exceptions when rendering data (one per x axis tick)\n      .elasticX(true)\n      .elasticY(true)\n      .transitionDuration(30)\n      .colors(D3Utils.glColourPalette())\n      .on('filtered', (chart) => {\n        dc.events.trigger(() => {\n          const filter = chart.filter();\n          onDataFiltered(filter);\n        });\n      });\n    this._configureWidth(width);\n    this._lineChart.xAxis()\n      .ticks(graphHelper.customTickInterval())\n      .tickFormat(graphHelper.customDateTimeFormat());\n    this._lineChart.yAxis()\n      .ticks(6)\n      .tickFormat(d3.format('s'));\n  },\n\n  render() {\n    const loadingSpinnerStyle = {\n      display: this.props.reloadingHistogram ? 'block' : 'none',\n      width: this.state.lineChartWidth,\n    };\n    const loadingSpinner = (\n      <div className=\"sources overlay\" style={loadingSpinnerStyle}>\n        <i className=\"fa fa-spin fa-refresh spinner\" />\n      </div>\n    );\n\n    const noDataOverlayStyle = {\n      display: this.props.histogramDataAvailable ? 'none' : 'block',\n      width: this.state.lineChartWidth,\n    };\n    const noDataOverlay = (\n      <div className=\"sources overlay\" style={noDataOverlayStyle}>Not enough data</div>\n    );\n    return (\n      <div id=\"dc-sources-line-chart\" className=\"col-md-12\">\n        <SourceTitle className=\"reset\" resetFilters={this.props.resetFilters}>\n          Messages per {this.props.resolution}\n        </SourceTitle>\n        {loadingSpinner}\n        {noDataOverlay}\n      </div>\n    );\n  },\n});\n\nexport default SourceLineChart;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/sources/SourceLineChart.jsx","import React from 'react';\nimport $ from 'jquery';\nimport crossfilter from 'crossfilter';\nimport dc from 'dc';\nimport Qs from 'qs';\nimport moment from 'moment';\n\nimport SourceDataTable from './SourceDataTable';\nimport SourcePieChart from './SourcePieChart';\nimport SourceLineChart from './SourceLineChart';\nimport SupportLink from 'components/support/SupportLink';\nimport { Spinner } from 'components/common';\n\nimport DateTime from 'logic/datetimes/DateTime';\nimport UniversalSearch from 'logic/search/UniversalSearch';\nimport EventHandlersThrottler from 'util/EventHandlersThrottler';\n\nimport StoreProvider from 'injection/StoreProvider';\nconst SourcesStore = StoreProvider.getStore('Sources');\nconst HistogramDataStore = StoreProvider.getStore('HistogramData');\nconst SearchStore = StoreProvider.getStore('Search');\n\nimport ActionsProvider from 'injection/ActionsProvider';\nconst HistogramDataActions = ActionsProvider.getActions('HistogramData');\n\nconst daysToSeconds = days => moment.duration(days, 'days').as('seconds');\nconst hoursToSeconds = hours => moment.duration(hours, 'hours').as('seconds');\n\nconst DEFAULT_RANGE_IN_SECS = hoursToSeconds(1);\nconst SUPPORTED_RANGES_IN_SECS = [hoursToSeconds(1), daysToSeconds(1), daysToSeconds(7), daysToSeconds(31), daysToSeconds(365), 0];\n\nlet SCREEN_RESOLUTION = $(window).width();\n\nconst SourceOverview = React.createClass({\n  getInitialState() {\n    this.sourcesData = crossfilter();\n    this.filterDimension = this.sourcesData.dimension(d => d.name);\n    this.nameDimension = this.sourcesData.dimension(d => d.name);\n    this.nameMessageGroup = this.nameDimension.group().reduceSum(d => d.message_count);\n\n    this.messageCountDimension = this.sourcesData.dimension(d => d.message_count);\n\n    this.histogramData = crossfilter();\n    this.valueDimension = this.histogramData.dimension(d => new Date(d.x));\n    this.valueGroup = this.valueDimension.group().reduceSum(d => d.y);\n\n    return {\n      range: null,\n      resolution: 'minute',\n      filter: '',\n      loading: false,\n      renderResultTable: true,\n      histogramDataAvailable: true,\n      reloadingHistogram: false,\n    };\n  },\n\n  componentDidMount() {\n    const onDataTableFiltered = (sourceName) => {\n      this.refs.sourcePieChart.setFilter(sourceName);\n      this._toggleResetButtons();\n      dc.redrawAll();\n      this.loadHistogramData();\n    };\n\n    const onPieChartFiltered = () => {\n      this.loadHistogramData();\n      this._toggleResetButtons();\n    };\n\n    const onLineChartFiltered = (filter) => {\n      if (filter) {\n        SearchStore.changeTimeRange('absolute', {\n          from: new DateTime(filter[0]).toString(),\n          to: new DateTime(filter[1]).toString(),\n        });\n      } else {\n        this.syncRangeWithQuery();\n      }\n    };\n\n    this.refs.sourceDataTable.renderDataTable(this.messageCountDimension, this.nameMessageGroup, onDataTableFiltered);\n    this.refs.sourcePieChart.renderPieChart(this.nameDimension, this.nameMessageGroup, onPieChartFiltered);\n    this.refs.sourceLineChart.renderLineChart(this.valueDimension, this.valueGroup, onLineChartFiltered);\n    this.applyRangeParameter();\n    dc.renderAll();\n    window.addEventListener('resize', this._resizeCallback);\n    $(window).on('hashchange', this._applyRangeFromHash);\n    // register them live as we do not know if those buttons are currently in the DOM\n    $(document).on('click', '.sidebar-hide', this._updateWidth);\n    $(document).on('click', '.sidebar-show', this._updateWidth);\n    UniversalSearch.init();\n  },\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this._resizeCallback);\n    $(window).off('hashchange', this._applyRangeFromHash);\n    $(document).off('click', '.sidebar-hide', this._updateWidth);\n    $(document).off('click', '.sidebar-show', this._updateWidth);\n  },\n\n  setSearchFilter(filter) {\n    this.setState({ filter: filter }, () => {\n      this._filterSources();\n      this.refs.sourceDataTable.redraw();\n      this.refs.sourcePieChart.redraw();\n    });\n  },\n\n  NUMBER_OF_TOP_VALUES: 10,\n  eventThrottler: new EventHandlersThrottler(),\n\n  loadData() {\n    this.loadSources();\n    this.loadHistogramData();\n  },\n\n  loadSources() {\n    const onLoaded = (sources) => {\n      this._resetSources(sources);\n      this.setState({ renderResultTable: this.sourcesData.size() !== 0, loading: false });\n      this._updateWidth();\n    };\n\n    SourcesStore.loadSources(this.state.range, onLoaded);\n  },\n\n  _resetSources(sources) {\n    /*\n     * http://stackoverflow.com/questions/23500546/replace-crossfilter-data-restore-dimensions-and-groups\n     * It looks like dc interacts with crossfilter to represent the graphs and apply some filters\n     * on the crossfilter dimension, but it also stores those filters internally. That means that\n     * we need to remove the dimension and graphs filters, but we only need to reapply filters to the\n     * graphs, dc will propagate that to the crossfilter dimension.\n     */\n    const pieChartFilters = this.refs.sourcePieChart.getFilters();\n    const dataTableFilters = this.refs.sourceDataTable.getFilters();\n    this.nameDimension.filterAll();\n    this.filterDimension.filterAll();\n    this.refs.sourcePieChart.clearFilters();\n    this.refs.sourceDataTable.clearFilters();\n    this.sourcesData.remove();\n    this.sourcesData.add(sources);\n\n    pieChartFilters.forEach(filter => this.refs.sourcePieChart.setFilter(filter));\n    dataTableFilters.forEach(filter => this.refs.sourceDataTable.setFilter(filter));\n    this._filterSources();\n\n    dc.redrawAll();\n  },\n\n  loadHistogramData() {\n    let filters;\n\n    if (this.refs.sourcePieChart.getFilters().length !== 0 || this.refs.sourceDataTable.getFilters().length !== 0) {\n      filters = this.nameDimension.top(Infinity).map(source => UniversalSearch.escape(source.name));\n    }\n\n    HistogramDataActions.load(this.state.range, filters, SCREEN_RESOLUTION)\n      .then((histogramData) => {\n        this.setState({\n          resolution: histogramData.interval,\n          reloadingHistogram: false,\n          histogramDataAvailable: histogramData.histogram.length >= 2,\n        });\n        this._resetHistogram(histogramData.histogram);\n      });\n\n    this.setState({ reloadingHistogram: true });\n  },\n\n  _resetHistogram(histogram) {\n    const lineChartFilters = this.refs.sourceLineChart.getFilters();\n    this.valueDimension.filterAll();\n    this.refs.sourceLineChart.clearFilters();\n    this.histogramData.remove();\n    this.histogramData.add(histogram);\n\n    lineChartFilters.forEach(filter => this.refs.sourceLineChart.setFilter(filter));\n\n    dc.redrawAll();\n  },\n\n  _resizeCallback() {\n    this.eventThrottler.throttle(() => this._updateWidth());\n  },\n\n  // redirect old range format (as query parameter) to new format (deep link)\n  _redirectToRange(range) {\n    // if range is ill formatted, we take care of it in the deep link handling\n    window.location.replace(`sources#${range}`);\n  },\n\n  _getRangeFromOldQueryFormat() {\n    let query = window.location.search;\n    if (query) {\n      if (query.indexOf('?') === 0 && query.length > 1) {\n        query = query.substr(1, query.length - 1);\n        const range = Qs.parse(query).range;\n        if (range) {\n          return range;\n        }\n      }\n    }\n    return null;\n  },\n\n  _applyRangeFromHash() {\n    const range = this._getRangeFromHash();\n    this.changeRange(range, false);\n  },\n\n  applyRangeParameter() {\n    const range = this._getRangeFromOldQueryFormat();\n    if (range) {\n      this._redirectToRange(range);\n    } else {\n      this._applyRangeFromHash();\n    }\n  },\n\n  _getRangeFromHash() {\n    const hash = window.location.hash;\n    if (hash.indexOf('#') !== 0) {\n      return DEFAULT_RANGE_IN_SECS;\n    }\n    const hashContent = hash.substring(1);\n    if (hash.indexOf('&') < 0) {\n        // If there is only one param in the hash, return it\n      return hashContent;\n    }\n      // If there are more than one params in the hash, return the numeric one\n    const match = hashContent.match(/(\\d+)=&/);\n    return (match && match.length > 0) ? match[1] : DEFAULT_RANGE_IN_SECS;\n  },\n\n  resetSourcesFilters() {\n    this.refs.sourcePieChart.clearFilters();\n    this.nameDimension.filterAll();\n    this.loadHistogramData();\n    this._toggleResetButtons();\n    dc.redrawAll();\n  },\n\n  resetHistogramFilters() {\n    this.valueDimension.filterAll();\n    this.refs.sourceLineChart.clearFilters();\n    dc.redrawAll();\n  },\n\n  _updateWidth() {\n    SCREEN_RESOLUTION = $(window).width();\n    this.refs.sourcePieChart.updateWidth();\n    this.refs.sourceLineChart.updateWidth();\n    dc.renderAll();\n  },\n\n  syncRangeWithQuery() {\n    const rangeSelectBox = this.refs.rangeSelector;\n    if (Number(rangeSelectBox.value) === 0) {\n      SearchStore.changeTimeRange('relative', { relative: 0 });\n    } else {\n      const $selectedOptions = $(':selected', rangeSelectBox);\n      const text = $selectedOptions && $selectedOptions[0] && $selectedOptions[0].text;\n      SearchStore.changeTimeRange('keyword', { keyword: text });\n    }\n  },\n\n  _toggleResetButtons() {\n    // We only need to toggle the datatable reset button, dc will take care of the other reset buttons\n    if (this.refs.sourcePieChart.getFilters().length !== 0) {\n      $('#dc-sources-result-reset').show();\n    } else {\n      $('#dc-sources-result-reset').hide();\n    }\n  },\n\n  changeRange(range, keepChangeInHistory) {\n    let effectiveRange = range;\n\n    if (effectiveRange !== undefined) {\n      effectiveRange = Number(effectiveRange);\n    }\n\n    if (typeof effectiveRange === 'undefined' || SUPPORTED_RANGES_IN_SECS.indexOf(effectiveRange) === -1) {\n      effectiveRange = DEFAULT_RANGE_IN_SECS;\n    }\n\n    if (this.state.range === effectiveRange) {\n      return;\n    }\n\n    // when range is changed the filter in line chart (corresponding to the brush) does not make any sense any more\n    this.valueDimension.filterAll();\n    this.refs.sourceLineChart.clearFilters();\n    this.syncRangeWithQuery();\n    if (keepChangeInHistory) {\n      window.location.hash = `#${effectiveRange}`;\n    } else {\n      window.location.replace(`#${effectiveRange}`);\n    }\n    this.setState({ range: effectiveRange, histogramDataAvailable: true, loading: true }, () => this.loadData());\n  },\n\n  _onRangeChanged(event) {\n    const value = event.target.value;\n    this.changeRange(value, true);\n  },\n\n  _filterSources() {\n    this.filterDimension.filter((name) => {\n      return name.indexOf(this.state.filter) !== -1;\n    });\n  },\n\n  render() {\n    const emptySources = (\n      <div className=\"row content\">\n        <div className=\"col-md-12\">\n          <div className=\"alert alert-info\">\n            No message sources found for this time range. Did you try using a different one&#63;\n          </div>\n        </div>\n      </div>\n    );\n\n    const resultsStyle = (this.state.renderResultTable ? null : { display: 'none' });\n    const results = (\n      <div style={resultsStyle}>\n        <div className=\"row content\">\n          <SourceLineChart ref=\"sourceLineChart\"\n                           reloadingHistogram={this.state.reloadingHistogram}\n                           histogramDataAvailable={this.state.histogramDataAvailable}\n                           resolution={this.state.resolution}\n                           resetFilters={this.resetHistogramFilters} />\n        </div>\n        {this.state.loading ?\n          <div className=\"row content\"><div style={{ marginLeft: 10 }}><Spinner /></div></div> :\n          null}\n        <div className=\"row content\" style={{ display: this.state.loading ? 'none' : 'block' }}>\n          <div className=\"col-md-7\">\n            <SourceDataTable ref=\"sourceDataTable\" resetFilters={this.resetSourcesFilters}\n                             setSearchFilter={this.setSearchFilter} numberOfTopValues={this.NUMBER_OF_TOP_VALUES} />\n          </div>\n          <div className=\"col-md-3 col-md-offset-1\">\n            <SourcePieChart ref=\"sourcePieChart\" resetFilters={this.resetSourcesFilters}\n                            numberOfTopValues={this.NUMBER_OF_TOP_VALUES} />\n          </div>\n        </div>\n      </div>\n    );\n\n    return (\n      <div>\n        <div className=\"row content\">\n          <div className=\"col-md-12\">\n            <div>\n              <div className=\"pull-right\">\n                <select ref=\"rangeSelector\" className=\"sources-range form-control input-sm\" value={this.state.range}\n                        onChange={this._onRangeChanged}>\n                  <option value={hoursToSeconds(1)}>Last Hour</option>\n                  <option value={daysToSeconds(1)}>Last Day</option>\n                  <option value={daysToSeconds(7)}>Last Week</option>\n                  <option value={daysToSeconds(31)}>Last Month</option>\n                  <option value={daysToSeconds(365)}>Last Year</option>\n                  <option value=\"0\">All</option>\n                </select>\n              </div>\n              <h1>Sources</h1>\n            </div>\n            <p className=\"description\">\n              This is a list of all sources that sent in messages to Graylog. Note that the list is\n              cached for a few seconds so you might have to wait a bit until a new source appears.\n            </p>\n\n            <SupportLink>\n              {' Use your mouse to interact with the table and graphs on this page, and get a better ' +\n              'overview of the sources sending data into Graylog.'}\n            </SupportLink>\n          </div>\n        </div>\n\n        {this.state.renderResultTable ? null : emptySources}\n        {results}\n\n      </div>\n    );\n  },\n});\n\nexport default SourceOverview;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/sources/SourceOverview.jsx","import $ from 'jquery';\nimport dc from 'dc';\nimport numeral from 'numeral';\nimport React, { PropTypes } from 'react';\n\nimport SourceTitle from './SourceTitle';\nimport D3Utils from 'util/D3Utils';\n\nconst SourcePieChart = React.createClass({\n  propTypes: {\n    resetFilters: PropTypes.func.isRequired,\n    numberOfTopValues: PropTypes.number.isRequired,\n  },\n\n  getFilters() {\n    return this._pieChart ? this._pieChart.filters() : [];\n  },\n\n  setFilter(filter) {\n    this._pieChart.filter(filter);\n  },\n\n  clearFilters() {\n    this._pieChart.filterAll();\n  },\n\n  redraw() {\n    this._pieChart.redraw();\n  },\n\n  _configureWidth(pieChartWidth) {\n    this._pieChart.width(pieChartWidth)\n      .height(pieChartWidth)\n      .radius(pieChartWidth / 2 - 10)\n      .innerRadius(pieChartWidth / 5);\n  },\n\n  updateWidth() {\n    const $pieChartDomNode = $('#dc-sources-pie-chart').parent();\n    const pieChartWidth = $pieChartDomNode.width();\n    this._configureWidth(pieChartWidth);\n  },\n\n  renderPieChart(dimension, group, onDataFiltered) {\n    const pieChartDomNode = $('#dc-sources-pie-chart')[0];\n    const pieChartWidth = $(pieChartDomNode).width();\n    this._pieChart = dc.pieChart(pieChartDomNode);\n    this._pieChart\n      .renderLabel(false)\n      .dimension(dimension)\n      .group(group)\n      .colors(D3Utils.glColourPalette())\n      .slicesCap(this.props.numberOfTopValues)\n      .title((d) => {\n        return `${d.key}: ${numeral(d.value).format('0,0')}`;\n      })\n      .on('renderlet', (chart) => {\n        chart.selectAll('.pie-slice').on('click', () => {\n          onDataFiltered();\n        });\n      });\n    this._configureWidth(pieChartWidth);\n  },\n\n  render() {\n    return (\n      <div id=\"dc-sources-pie-chart\" ref=\"sourcePieChart\">\n        <SourceTitle className=\"reset\" resetFilters={this.props.resetFilters}>Messages per source</SourceTitle>\n      </div>\n    );\n  },\n});\n\nexport default SourcePieChart;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/sources/SourcePieChart.jsx","import React from 'react';\n\nimport SourceOverview from 'components/sources/SourceOverview';\nimport { DocumentTitle } from 'components/common';\n\nconst SourcesPage = React.createClass({\n  render() {\n    return (\n      <DocumentTitle title=\"Sources\">\n        <SourceOverview />\n      </DocumentTitle>\n    );\n  },\n});\n\nexport default SourcesPage;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/SourcesPage.jsx"],"sourceRoot":""}