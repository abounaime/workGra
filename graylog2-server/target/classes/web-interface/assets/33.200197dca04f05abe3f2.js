webpackJsonp([33],{1056:function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var l=t(2),r=a(l),n=t(1),u=a(n),s=t(15),i=t(18),o=a(i),d=t(48),c=t(960),f=t(952),m=a(f),h=t(968),p=o.default.getStore("IndexerCluster"),E=r.default.createClass({displayName:"IndexerClusterHealth",mixins:[u.default.connect(p)],componentDidMount:function(){p.update()},render:function(){var e=this.state.health,t=void 0;return t=e?r.default.createElement(h.IndexerClusterHealthSummary,{health:e}):r.default.createElement(d.Spinner,null),r.default.createElement(s.Row,{className:"content"},r.default.createElement(s.Col,{md:12},r.default.createElement("h2",null,"Elasticsearch cluster"),r.default.createElement(c.SmallSupportLink,null,"The possible Elasticsearch cluster states and more related information is available in the"," ",r.default.createElement(c.DocumentationLink,{page:m.default.PAGES.CONFIGURING_ES,text:"Graylog documentation"}),"."),t))}});exports.default=E,e.exports=exports.default},1057:function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var l=t(2),r=a(l),n=t(15),u=t(960),s=t(952),i=a(s),o=r.default.createClass({displayName:"IndexerClusterHealthSummary",propTypes:{health:r.default.PropTypes.object.isRequired},_alertClassForHealth:function(e){switch(e.status){case"green":return"success";case"yellow":return"warning";case"red":return"danger";default:return"success"}},_formatTextForHealth:function(e){var t="Elasticsearch cluster is "+e.status+".";switch(e.status){case"green":return t;case"yellow":case"red":return r.default.createElement("strong",null,t);default:return t}},_iconNameForHealth:function(e){switch(e.status){case"green":return"check-circle";case"yellow":return"warning";case"red":return"ambulance";default:return"check-circle"}},render:function(){var e=this.props.health;return r.default.createElement(n.Alert,{bsStyle:this._alertClassForHealth(e),className:"es-cluster-status"},r.default.createElement("i",{className:"fa fa-"+this._iconNameForHealth(e)})," Â ",this._formatTextForHealth(e)," ","Shards:"," ",e.shards.active," active,"," ",e.shards.initializing," initializing,"," ",e.shards.relocating," relocating,"," ",e.shards.unassigned," unassigned,"," ",r.default.createElement(u.DocumentationLink,{page:i.default.PAGES.CLUSTER_STATUS_EXPLAINED,text:"What does this mean?"}))}});exports.default=o,e.exports=exports.default},1058:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),l=function(e){return e&&e.__esModule?e:{default:e}}(a),r=t(48),n=l.default.createClass({displayName:"IndexerFailure",propTypes:{failure:l.default.PropTypes.object.isRequired},render:function(){var e=this.props.failure;return l.default.createElement("tr",null,l.default.createElement("td",{title:e.timestamp},l.default.createElement(r.Timestamp,{dateTime:e.timestamp,relative:!0})),l.default.createElement("td",null,e.index),l.default.createElement("td",null,e.letter_id),l.default.createElement("td",null,e.message))}});exports.default=n,e.exports=exports.default},1059:function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var l=t(2),r=a(l),n=t(15),u=t(949),s=t(115),i=a(s),o=t(34),d=a(o),c=t(18),f=a(c),m=t(952),h=a(m),p=t(75),E=a(p),g=t(48),y=t(960),_=f.default.getStore("IndexerFailures"),x=r.default.createClass({displayName:"IndexerFailuresComponent",getInitialState:function(){return{}},componentDidMount:function(){var e=this,t=(0,d.default)().subtract(24,"hours");_.count(t).then(function(t){e.setState({total:t.count})})},_formatFailuresSummary:function(){return r.default.createElement(n.Alert,{bsStyle:0===this.state.total?"success":"danger"},r.default.createElement("i",{className:"fa fa-"+this._iconForFailureCount(this.state.total)})," ",this._formatTextForFailureCount(this.state.total),r.default.createElement(u.LinkContainer,{to:E.default.SYSTEM.INDICES.FAILURES},r.default.createElement(n.Button,{bsStyle:"info",bsSize:"xs",className:"pull-right"},"Show errors")))},_formatTextForFailureCount:function(e){return 0===e?"No failed indexing attempts in the last 24 hours.":r.default.createElement("strong",null,"There were ",(0,i.default)(e).format("0,0")," failed indexing attempts in the last 24 hours.")},_iconForFailureCount:function(e){return 0===e?"check-circle":"ambulance"},render:function(){var e=void 0;return e=void 0===this.state.total?r.default.createElement(g.Spinner,null):this._formatFailuresSummary(),r.default.createElement(n.Row,{className:"content"},r.default.createElement(n.Col,{md:12},r.default.createElement("h2",null,"Indexer failures"),r.default.createElement(y.SmallSupportLink,null,"Every message that was not successfully indexed will be logged as an indexer failure. You can learn more about this feature in the"," ",r.default.createElement(y.DocumentationLink,{page:h.default.PAGES.INDEXER_FAILURES,text:"Graylog documentation"}),"."),e))}});exports.default=x,e.exports=exports.default},1060:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),l=function(e){return e&&e.__esModule?e:{default:e}}(a),r=t(15),n=t(968),u=l.default.createClass({displayName:"IndexerFailuresList",propTypes:{failures:l.default.PropTypes.arrayOf(l.default.PropTypes.object).isRequired},render:function(){return 0===this.props.failures.length?l.default.createElement(r.Alert,{bsStyle:"success"},l.default.createElement("i",{className:"fa fa-check-circle"})," Hurray! There are not any indexer failures."):l.default.createElement("div",{className:"scrollable-table"},l.default.createElement(r.Table,{className:"indexer-failures",striped:!0,hover:!0,condensed:!0},l.default.createElement("thead",null,l.default.createElement("tr",null,l.default.createElement("th",{style:{width:200}},"Timestamp"),l.default.createElement("th",null,"Index"),l.default.createElement("th",null,"Letter ID"),l.default.createElement("th",null,"Error message"))),l.default.createElement("tbody",null,this.props.failures.map(function(e){return l.default.createElement(n.IndexerFailure,{key:"indexer-failure-"+e.letter_id,failure:e})}))))}});exports.default=u,e.exports=exports.default},1385:function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var l=t(2),r=a(l),n=t(15),u=t(115),s=a(u),i=t(34),o=a(i),d=t(18),c=a(d),f=t(952),m=a(f),h=t(48),p=t(960),E=t(968),g=c.default.getStore("IndexerFailures"),y=r.default.createClass({displayName:"IndexerFailuresPage",getInitialState:function(){return{}},componentDidMount:function(){var e=this;g.count((0,o.default)().subtract(10,"years")).then(function(t){e.setState({total:t.count})}),this.loadData(1,this.defaultPageSize)},defaultPageSize:50,loadData:function(e,t){var a=this;g.list(t,(e-1)*t).then(function(e){a.setState({failures:e.failures})})},_onChangePaginatedList:function(e,t){this.loadData(e,t)},render:function(){return void 0!==this.state.total&&this.state.failures?r.default.createElement(h.DocumentTitle,{title:"Indexer failures"},r.default.createElement("span",null,r.default.createElement(h.PageHeader,{title:"Indexer failures"},r.default.createElement("span",null,"This is a list of message index attempts that failed. A failure means that a message you sent to Graylog was"," ","properly processed but writing it to the Elasticsearch cluster failed. Note that the list is capped to a size"," ","of 50 MB so it will contain a lot of failure logs but not necessarily all that ever occurred."),r.default.createElement("span",null,"Collection containing a total of ",(0,s.default)(this.state.total).format("0,0")," indexer failures. Read more about this topic in the ",r.default.createElement(p.DocumentationLink,{page:m.default.PAGES.INDEXER_FAILURES,text:"documentation"}),".")),r.default.createElement(n.Row,{className:"content"},r.default.createElement(n.Col,{md:12},r.default.createElement(h.PaginatedList,{totalItems:this.state.total,onChange:this._onChangePaginatedList,pageSize:this.defaultPageSize},r.default.createElement(E.IndexerFailuresList,{failures:this.state.failures})))))):r.default.createElement(h.Spinner,null)}});exports.default=y,e.exports=exports.default},968:function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var l=t(1056);Object.defineProperty(exports,"IndexerClusterHealth",{enumerable:!0,get:function(){return a(l).default}});var r=t(1057);Object.defineProperty(exports,"IndexerClusterHealthSummary",{enumerable:!0,get:function(){return a(r).default}});var n=t(1058);Object.defineProperty(exports,"IndexerFailure",{enumerable:!0,get:function(){return a(n).default}});var u=t(1059);Object.defineProperty(exports,"IndexerFailuresComponent",{enumerable:!0,get:function(){return a(u).default}});var s=t(1060);Object.defineProperty(exports,"IndexerFailuresList",{enumerable:!0,get:function(){return a(s).default}})}});
//# sourceMappingURL=33.200197dca04f05abe3f2.js.map