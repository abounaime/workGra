webpackJsonp([51],{1407:function(t,exports,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var i=e(2),s=r(i),a=e(1),n=r(a),d=e(48),u=e(75),o=r(u),c=e(165),l=r(c),f=e(18),h=r(f),p=e(7),g=r(p),S=h.default.getStore("CurrentUser"),_=h.default.getStore("GettingStarted"),m=g.default.getActions("GettingStarted"),y=s.default.createClass({displayName:"StartPage",propTypes:{history:s.default.PropTypes.object.isRequired},mixins:[n.default.connect(S),n.default.listenTo(_,"onGettingStartedUpdate")],getInitialState:function(){return{gettingStarted:void 0}},componentDidMount:function(){m.getStatus(),S.reload()},componentDidUpdate:function(){this._isLoading()||this._redirectToStartpage()},onGettingStartedUpdate:function(t){this.setState({gettingStarted:t.status})},_redirect:function(t){this.props.history.pushState(null,t)},_redirectToStartpage:function(){if(l.default.isPermitted(this.state.currentUser.permissions,["inputs:create"])&&this.state.gettingStarted.show)return void this._redirect(o.default.GETTING_STARTED);var t=this.state.currentUser.startpage;if(null!==t&&Object.keys(t).length>0)return void("stream"===t.type?this._redirect(o.default.stream_search(t.id)):this._redirect(o.default.dashboard_show(t.id)));l.default.isAnyPermitted(this.state.currentUser.permissions,["searches:absolute","searches:keyword","searches:relative"])?this._redirect(o.default.SEARCH):this._redirect(o.default.STREAMS)},_isLoading:function(){return!this.state.currentUser||!this.state.gettingStarted},render:function(){return s.default.createElement(d.Spinner,null)}});exports.default=y,t.exports=exports.default}});
//# sourceMappingURL=51.200197dca04f05abe3f2.js.map