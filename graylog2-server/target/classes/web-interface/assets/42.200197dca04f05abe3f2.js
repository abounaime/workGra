webpackJsonp([42],{1250:function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(2),n=a(r),l=t(15),s=t(43),o=t(5),i=a(o),u=t(18),d=a(u),c=t(261),f=a(c),p=d.default.getStore("GrokPatterns"),m=n.default.createClass({displayName:"BulkLoadPatternModal",propTypes:{onSuccess:n.default.PropTypes.func.isRequired},getInitialState:function(){return{replacePatterns:!1}},_onSubmit:function(e){var t=this;e.preventDefault();var a=new FileReader;a.onload=function(e){var a=e.target.result;p.bulkImport(a,t.state.replacePatterns).then(function(){i.default.success("Grok Patterns imported successfully","Success!"),t.refs.modal.close(),t.props.onSuccess()})},a.readAsText(this.refs["pattern-file"].getInputDOMNode().files[0])},render:function(){var e=this;return n.default.createElement("span",null,n.default.createElement(l.Button,{bsStyle:"info",style:{marginRight:5},onClick:function(){return e.refs.modal.open()}},"Import pattern file"),n.default.createElement(f.default,{ref:"modal",title:"Import Grok patterns from file",submitButtonText:"Upload",formProps:{onSubmit:this._onSubmit}},n.default.createElement(s.Input,{type:"file",ref:"pattern-file",name:"patterns",label:"Pattern file",help:"A file containing Grok patterns, one per line. Name and patterns should be separated by whitespace.",required:!0}),n.default.createElement(s.Input,{type:"checkbox",name:"replace",label:"Replace all existing patterns?",onChange:function(t){return e.setState({replacePatterns:t.target.checked})}})))}});exports.default=m,e.exports=exports.default},1251:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var a=t(2),r=function(e){return e&&e.__esModule?e:{default:e}}(a),n=t(43),l=r.default.createClass({displayName:"EditPatternModal",propTypes:{id:r.default.PropTypes.string,name:r.default.PropTypes.string,pattern:r.default.PropTypes.string,create:r.default.PropTypes.bool,savePattern:r.default.PropTypes.func.isRequired,validPatternName:r.default.PropTypes.func.isRequired},getInitialState:function(){return{id:this.props.id,name:this.props.name,pattern:this.props.pattern,error:!1,error_message:""}},openModal:function(){this.refs.modal.open()},_onPatternChange:function(e){this.setState({pattern:e.target.value})},_onNameChange:function(e){var t=e.target.value;this.props.validPatternName(t)?this.setState({name:t,error:!1,error_message:""}):this.setState({name:t,error:!0,error_message:"Pattern with that name already exists!"})},_getId:function(e){return void 0!==this.state.name?e+this.state.name:e},_closeModal:function(){this.refs.modal.close()},_saved:function(){this._closeModal(),this.props.create&&this.setState({name:"",pattern:""})},_save:function(){var e=this.state;e.error||this.props.savePattern(e,this._saved)},render:function(){var e=void 0;return e=this.props.create?"Create pattern":r.default.createElement("span",null,"Edit"),r.default.createElement("span",null,r.default.createElement("button",{onClick:this.openModal,className:this.props.create?"btn btn-success":"btn btn-info btn-xs"},e),r.default.createElement(n.BootstrapModalForm,{ref:"modal",title:(this.props.create?"Create":"Edit")+" Grok Pattern "+this.state.name,onSubmitForm:this._save,submitButtonText:"Save"},r.default.createElement("fieldset",null,r.default.createElement(n.Input,{type:"text",id:this._getId("pattern-name"),label:"Name",onChange:this._onNameChange,value:this.state.name,bsStyle:this.state.error?"error":null,help:this.state.error?this.state.error_message:null,autoFocus:!0,required:!0}),r.default.createElement(n.Input,{type:"textarea",id:this._getId("pattern"),label:"Pattern",onChange:this._onPatternChange,value:this.state.pattern,required:!0}))))}});exports.default=l,e.exports=exports.default},1252:function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(2),n=a(r),l=t(15),s=t(18),o=a(s),i=t(265),u=a(i),d=t(1251),c=a(d),f=t(1250),p=a(f),m=t(277),h=a(m),v=o.default.getStore("GrokPatterns"),P=n.default.createClass({displayName:"GrokPatterns",getInitialState:function(){return{patterns:[]}},componentDidMount:function(){this.loadData()},loadData:function(){var e=this;v.loadPatterns(function(t){e.isMounted()&&e.setState({patterns:t})})},validPatternName:function(e){return!this.state.patterns.some(function(t){return t.name===e})},savePattern:function(e,t){var a=this;v.savePattern(e,function(){t(),a.loadData()})},confirmedRemove:function(e){window.confirm("Really delete the grok pattern "+e.name+"?\nIt will be removed from the system and unavailable for any extractor. If it is still in use by extractors those will fail to work.")&&v.deletePattern(e,this.loadData)},_headerCellFormatter:function(e){var t=void 0;switch(e.toLocaleLowerCase()){case"name":t=n.default.createElement("th",{className:"name"},e);break;case"actions":t=n.default.createElement("th",{className:"actions"},e);break;default:t=n.default.createElement("th",null,e)}return t},_patternFormatter:function(e){return n.default.createElement("tr",{key:e.id},n.default.createElement("td",null,e.name),n.default.createElement("td",null,e.pattern),n.default.createElement("td",null,n.default.createElement(l.Button,{style:{marginRight:5},bsStyle:"primary",bsSize:"xs",onClick:this.confirmedRemove.bind(this,e)},"Delete"),n.default.createElement(c.default,{id:e.id,name:e.name,pattern:e.pattern,create:!1,reload:this.loadData,savePattern:this.savePattern,validPatternName:this.validPatternName})))},render:function(){var e=["Name","Pattern","Actions"],t=["name"];return n.default.createElement("div",null,n.default.createElement(u.default,{title:"Grok patterns"},n.default.createElement("span",null,"This is a list of grok patterns you can use in your Graylog grok extractors. You can add your own manually or import a whole list of patterns from a so called pattern file."),null,n.default.createElement("span",null,n.default.createElement(p.default,{onSuccess:this.loadData}),n.default.createElement(c.default,{id:"",name:"",pattern:"",create:!0,reload:this.loadData,savePattern:this.savePattern,validPatternName:this.validPatternName}))),n.default.createElement(l.Row,{className:"content"},n.default.createElement(l.Col,{md:12},n.default.createElement(h.default,{id:"grok-pattern-list",className:"table-striped table-hover",headers:e,headerCellFormatter:this._headerCellFormatter,sortByKey:"name",rows:this.state.patterns,dataRowFormatter:this._patternFormatter,filterLabel:"Filter patterns",filterKeys:t}))))}});exports.default=P,e.exports=exports.default},1380:function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(2),n=a(r),l=t(1252),s=a(l),o=t(48),i=n.default.createClass({displayName:"GrokPatternsPage",render:function(){return n.default.createElement(o.DocumentTitle,{title:"Grok patterns"},n.default.createElement(s.default,null))}});exports.default=i,e.exports=exports.default}});
//# sourceMappingURL=42.200197dca04f05abe3f2.js.map