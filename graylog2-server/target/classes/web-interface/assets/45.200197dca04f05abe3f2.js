webpackJsonp([45],{1249:function(t,exports,e){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(2),i=s(n),a=e(15),l=e(90),o=s(l),u=e(48),d=e(7),r=s(d),c=r.default.getActions("GettingStarted"),m=i.default.createClass({displayName:"GettingStarted",propTypes:function(){return{clusterId:n.PropTypes.string.isRequired,masterOs:n.PropTypes.string.isRequired,masterVersion:n.PropTypes.string.isRequired,gettingStartedUrl:n.PropTypes.string.isRequired,noDismissButton:n.PropTypes.bool,onDismiss:n.PropTypes.func}},getInitialState:function(){return{guideLoaded:!1,guideUrl:"",showStaticContent:!1,frameHeight:"500px"}},componentDidMount:function(){window.addEventListener&&window.addEventListener("message",this._onMessage),this.timeoutId=window.setTimeout(this._displayFallbackContent,3e3)},componentWillUnmount:function(){window.removeEventListener&&window.removeEventListener("message",this._onMessage),null!==this.timeoutId&&(window.clearTimeout(Number(this.timeoutId)),this.timeoutId=null)},timeoutId:null,_onMessage:function(t){0===this.props.gettingStartedUrl.indexOf(t.origin)&&(null!==this.timeoutId&&(window.clearTimeout(Number(this.timeoutId)),this.timeoutId=null),this.setState({guideLoaded:t.data.guideLoaded,guideUrl:t.data.guideUrl,minHeight:0===t.data.height?this.state.minHeight:t.data.height}))},_displayFallbackContent:function(){this.setState({showStaticContent:!0})},_dismissGuide:function(){var t=this;c.dismiss.triggerPromise().then(function(){t.props.onDismiss&&t.props.onDismiss()})},render:function(){var t=null;this.props.noDismissButton||(t=i.default.createElement(a.Button,{bsStyle:"default",bsSize:"small",onClick:this._dismissGuide},i.default.createElement("i",{className:"fa fa-times"})," Dismiss guide"));var e=null;if(this.state.showStaticContent)e=i.default.createElement(a.Grid,null,i.default.createElement(a.Row,null,i.default.createElement(a.Col,{mdPush:3,md:6,className:"content content-head text-center",style:{paddingBottom:"15px"}},i.default.createElement("span",null,"We could not load the"," ",i.default.createElement("a",{target:"_blank",href:"https://gettingstarted.graylog.org/assets/index.html"},"Graylog Getting Started Guide"),". Please open it directly with a browser that can access the public internet."))));else{var s=o.default.stringify({c:this.props.clusterId,o:this.props.masterOs,v:this.props.masterVersion,m:this.props.noDismissButton}),n={minHeight:this.state.minHeight,height:this.state.minHeight,width:"100%"};this.state.guideLoaded||(n.display="none");var l=""===this.state.guideUrl?this.props.gettingStartedUrl+"?"+s:this.state.guideUrl,d=null;this.state.guideLoaded||(d=i.default.createElement(a.Grid,null,i.default.createElement(a.Row,null,i.default.createElement(a.Col,{mdPush:3,md:6,className:"content content-head text-center",style:{paddingBottom:"15px"}},i.default.createElement(u.Spinner,{text:"Loading Graylog Getting started guide ..."}))))),e=i.default.createElement("div",null,d,i.default.createElement("iframe",{src:l,style:n,id:"getting-started-frame",frameBorder:"0",scrolling:"yes"},i.default.createElement("p",null,"Sorry, no iframes")))}return i.default.createElement("div",{id:"react-gettingstarted"},i.default.createElement("div",{className:"pull-right"},t),e)}});exports.default=m,t.exports=exports.default},1322:function(t,exports,e){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(2),i=s(n),a=e(35),l=s(a),o=e(15),u=e(18),d=s(u),r=d.default.getStore("UsageStatsOptOut"),c=i.default.createClass({displayName:"UsageStatsOptOut",getInitialState:function(){return{optOutStateLoaded:!1,optOutState:null,pluginEnabled:!1,buttonWidth:80}},componentDidMount:function(){var t=this;r.pluginEnabled().done(function(e){t.setState({pluginEnabled:e},t._updateOkButtonWidth)}),r.getOptOutState().done(function(e){t.setState({optOutStateLoaded:!0,optOutState:e},t._updateOkButtonWidth)})},_updateOkButtonWidth:function(){this.refs.dontSendButton&&this.setState({buttonWidth:l.default.findDOMNode(this.refs.dontSendButton).clientWidth})},_handleClickEnable:function(){r.setOptIn(!0),this.setState({optOutStateLoaded:!0,optOutState:{opt_out:!1}})},_handleClickDisable:function(){r.setOptOut(!0),this.setState({optOutStateLoaded:!0,optOutState:{opt_out:!0}})},render:function(){var t=null;return this.state.optOutStateLoaded&&!0===this.state.pluginEnabled&&null===this.state.optOutState&&(t=i.default.createElement(o.Row,{className:"content"},i.default.createElement(o.Col,{md:12},i.default.createElement(o.Row,{className:"row-sm"},i.default.createElement(o.Col,{md:10},i.default.createElement("div",{style:{marginTop:8}},i.default.createElement("i",{className:"fa fa-info-circle"}),"  Graylog collects completely anonymous usage data to help us improve the product for you. Continuing means you are cool with sending us anonymous data. If this makes you unhappy, click ",i.default.createElement("em",null,"Don't send")," to disable.")),i.default.createElement(o.Col,{md:2},i.default.createElement("div",{className:"text-right"},i.default.createElement(o.Button,{bsSize:"small",bsStyle:"success",onClick:this._handleClickEnable,style:{width:this.state.buttonWidth}},"Ok")," ",i.default.createElement(o.Button,{ref:"dontSendButton",bsSize:"small",onClick:this._handleClickDisable},"Don't send"))))))),t}});exports.default=c,t.exports=exports.default},1379:function(t,exports,e){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(2),i=s(n),a=e(1),l=s(a),o=e(48),u=e(1249),d=s(u),r=e(1322),c=s(r),m=e(75),p=s(m),f=e(18),h=s(f),g=h.default.getStore("System"),y=i.default.createClass({displayName:"GettingStartedPage",propTypes:{location:n.PropTypes.object.isRequired,history:n.PropTypes.object.isRequired},mixins:[l.default.connect(g)],_isLoading:function(){return!this.state.system},_onDismiss:function(){this.props.history.pushState(null,p.default.STARTPAGE)},render:function(){return this._isLoading()?i.default.createElement(o.Spinner,null):i.default.createElement(o.DocumentTitle,{title:"Getting started"},i.default.createElement("div",null,i.default.createElement(o.IfPermitted,{permissions:"clusterconfigentry:edit:org.graylog.plugins.usagestatistics.UsageStatsOptOutState"},i.default.createElement(c.default,null)),i.default.createElement(d.default,{clusterId:this.state.system.cluster_id,masterOs:this.state.system.operating_system,masterVersion:this.state.system.version,gettingStartedUrl:"https://gettingstarted.graylog.org/",noDismissButton:Boolean(this.props.location.query.menu),onDismiss:this._onDismiss})))}});exports.default=y,t.exports=exports.default}});
//# sourceMappingURL=45.200197dca04f05abe3f2.js.map