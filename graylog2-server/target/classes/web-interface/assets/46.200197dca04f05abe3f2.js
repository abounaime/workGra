webpackJsonp([46],{1355:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var a={save:function(e,t,a,l){var o=document.createElement("a"),n=l?";charset="+l:"",s=l?""+a+n:a;if(void 0!==o.download)return o.download=t,o.href="data:"+s+","+encodeURIComponent(e),document.body.appendChild(o),o.click(),void document.body.removeChild(o);if(window.navigator&&"function"==typeof window.navigator.msSaveOrOpenBlob){var r=new Blob([e],{type:s});return void window.navigator.msSaveOrOpenBlob(r,t)}try{location.href="data:application/attachment"+n+","+encodeURIComponent(e)}catch(t){location.href="data:text/plain"+n+","+encodeURIComponent(e)}}};exports.default=a,e.exports=exports.default},1376:function(e,exports,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var l=t(2),o=a(l),n=t(1),s=a(n),r=t(15),c=t(1355),u=a(c),m=t(5),d=a(m),i=t(18),p=a(i),f=t(7),h=a(f),b=t(48),k=p.default.getStore("Dashboards"),E=p.default.getStore("GrokPatterns"),_=p.default.getStore("Inputs"),g=p.default.getStore("Outputs"),N=p.default.getStore("Streams"),y=p.default.getStore("LookupTables"),x=p.default.getStore("LookupTableCaches"),C=p.default.getStore("LookupTableDataAdapters"),v=(p.default.getStore("ConfigurationBundles"),h.default.getActions("Inputs")),S=h.default.getActions("ConfigurationBundles"),A=o.default.createClass({displayName:"ExportContentPackPage",mixins:[s.default.connect(_)],getInitialState:function(){return{}},componentDidMount:function(){var e=this;k.listDashboards().then(function(t){e.setState({dashboards:t})}),E.loadPatterns(function(t){e.setState({grok_patterns:t})}),v.list(),g.load(function(t){e.setState({outputs:t.outputs})}),N.listStreams().then(function(t){e.setState({streams:t})}),y.searchPaginated(1,1e4,null).then(function(t){e.setState({lookup_tables:t.lookup_tables})}),x.searchPaginated(1,1e4,null).then(function(t){e.setState({lookup_caches:t.caches})}),C.searchPaginated(1,1e4,null).then(function(t){e.setState({lookup_data_adapters:t.data_adapters})})},onSubmit:function(e){var t=this;e.preventDefault();var a={streams:[],inputs:[],outputs:[],dashboards:[],lookup_tables:[],lookup_caches:[],lookup_data_adapters:[],grok_patterns:[]};Object.keys(this.refs).forEach(function(e){if(-1===e.indexOf("."))a[e]=t.refs[e].value;else if(t.refs[e].checked){var l=e.split(".")[0],o=e.split(".")[1];a[l].push(o)}}),S.export.triggerPromise(a).then(function(e){d.default.success("Successfully export content pack. Starting download...","Success!"),u.default.save(e,"content_pack.json","application/json","utf-8")})},isEmpty:function(e){return void 0===e||("function"==typeof e.count?0===e.count():0===e.length)},inputDetails:function(e){var t=e.name;return e.attributes.bind_address&&(t+=" on "+e.attributes.bind_address,e.attributes.port&&(t+=" port "+e.attributes.port)),t},formatDashboard:function(e){return o.default.createElement("div",{className:"checkbox",key:"dashboard_checkbox-"+e.id},o.default.createElement("label",{className:"checkbox"},o.default.createElement("input",{ref:"dashboards."+e.id,type:"checkbox",name:"dashboards",id:"dashboard_"+e.id,value:e.id}),e.title))},formatGrokPattern:function(e){return o.default.createElement("div",{className:"checkbox",key:"grok_pattern_checkbox-"+e.id},o.default.createElement("label",{className:"checkbox"},o.default.createElement("input",{ref:"grok_patterns."+e.id,type:"checkbox",name:"grokPatterns",id:"grokPattern_"+e.id,value:e.id}),e.name),o.default.createElement("span",{className:"help-inline"},"Pattern: ",o.default.createElement("tt",null,e.pattern)))},formatInput:function(e){return o.default.createElement("div",{className:"checkbox",key:"input_checkbox-"+e.id},o.default.createElement("label",{className:"checkbox"},o.default.createElement("input",{ref:"inputs."+e.id,type:"checkbox",name:"inputs",id:"input_"+e.id,value:e.id}),e.title),o.default.createElement("span",{className:"help-inline"},"(",this.inputDetails(e),")"))},formatOutput:function(e){return o.default.createElement("div",{className:"checkbox",key:"output_checkbox-"+e.id},o.default.createElement("label",{className:"checkbox"},o.default.createElement("input",{ref:"outputs."+e.id,type:"checkbox",name:"outputs",id:"output_"+e.id,value:e.id}),e.title))},formatStream:function(e){return o.default.createElement("div",{className:"checkbox",key:"stream_checkbox-"+e.id},o.default.createElement("label",{className:"checkbox"},o.default.createElement("input",{ref:"streams."+e.id,type:"checkbox",name:"streams",id:"stream_"+e.id,value:e.id}),e.title))},formatLookupTable:function(e){return o.default.createElement("div",{className:"checkbox",key:"lookup_table_checkbox-"+e.id},o.default.createElement("label",{className:"checkbox"},o.default.createElement("input",{ref:"lookup_tables."+e.id,type:"checkbox",name:"lookup_tables",id:"lookup_table_"+e.id,value:e.id}),e.title))},formatLookupCache:function(e){return o.default.createElement("div",{className:"checkbox",key:"lookup_cache_checkbox-"+e.id},o.default.createElement("label",{className:"checkbox"},o.default.createElement("input",{ref:"lookup_caches."+e.id,type:"checkbox",name:"lookup_caches",id:"lookup_cache_"+e.id,value:e.id}),e.title))},formatLookupDataAdapter:function(e){return o.default.createElement("div",{className:"checkbox",key:"lookup_data_adapter_checkbox-"+e.id},o.default.createElement("label",{className:"checkbox"},o.default.createElement("input",{ref:"lookup_data_adapters."+e.id,type:"checkbox",name:"lookup_data_adapters",id:"lookup_data_adapter_"+e.id,value:e.id}),e.title))},selectAll:function(e){var t=this;Object.keys(this.refs).forEach(function(a){0===a.indexOf(e)&&(t.refs[a].checked=!0)})},selectAllInputs:function(){this.selectAll("input")},selectAllGrokPatterns:function(){this.selectAll("grok_pattern")},selectAllOutputs:function(){this.selectAll("output")},selectAllStreams:function(){this.selectAll("stream")},selectAllDashboards:function(){this.selectAll("dashboard")},selectAllLookupTables:function(){this.selectAll("lookup_table")},selectAllLookupCaches:function(){this.selectAll("lookup_cache")},selectAllLookupDataAdapters:function(){this.selectAll("lookup_data_adapter")},render:function(){return o.default.createElement(b.DocumentTitle,{title:"Create a content pack"},o.default.createElement("span",null,o.default.createElement(b.PageHeader,{title:"Create a content pack"},o.default.createElement("span",null,"Export your inputs, outputs, streams and dashboards as a content pack and share it with the community or other setups.")),o.default.createElement(r.Row,{className:"content"},o.default.createElement(r.Col,{md:6},o.default.createElement("form",{className:"form-horizontal build-content-pack",onSubmit:this.onSubmit},o.default.createElement("div",{className:"form-group"},o.default.createElement(r.Col,{sm:2},o.default.createElement("label",{className:"control-label",htmlFor:"name"},"Name")),o.default.createElement(r.Col,{sm:10},o.default.createElement("input",{ref:"name",type:"text",id:"name",className:"input-xlarge form-control",name:"name",required:!0}),o.default.createElement("span",{className:"help-block"},"The name of your configuration bundle."))),o.default.createElement("div",{className:"form-group"},o.default.createElement(r.Col,{sm:2},o.default.createElement("label",{className:"control-label",htmlFor:"description"},"Description")),o.default.createElement(r.Col,{sm:10},o.default.createElement("textarea",{ref:"description",rows:"6",id:"description",name:"description",className:"input-xlarge form-control",required:!0}),o.default.createElement("span",{className:"help-block"},"A description of what your bundle does and possible special instructions for the user. You can use ",o.default.createElement("a",{href:"http://daringfireball.net/projects/markdown/syntax",target:"_blank"},"Markdown")," syntax."))),o.default.createElement("div",{className:"form-group"},o.default.createElement(r.Col,{sm:2},o.default.createElement("label",{className:"control-label",htmlFor:"category"},"Category")),o.default.createElement(r.Col,{sm:10},o.default.createElement("input",{ref:"category",type:"text",id:"category",name:"category",className:"input-xlarge form-control",required:!0}),o.default.createElement("span",{className:"help-block"},"A category for your bundle, e.g. Operating Systems, Firewalls or Switches."))),o.default.createElement("div",{className:"form-group"},o.default.createElement(r.Col,{sm:2},o.default.createElement("label",{className:"control-label",htmlFor:"inputs"},"Inputs")),o.default.createElement(r.Col,{sm:10},this.isEmpty(this.state.inputs)?o.default.createElement("span",{className:"help-block help-standalone"},"There are no inputs to export."):o.default.createElement("span",null,o.default.createElement(r.Button,{className:"btn btn-sm btn-link select-all",onClick:this.selectAllInputs},"Select all"),this.state.inputs.sort(function(e,t){return e.title.localeCompare(t.title)}).map(this.formatInput)))),o.default.createElement("div",{className:"form-group"},o.default.createElement(r.Col,{sm:2},o.default.createElement("label",{className:"control-label",htmlFor:"grokPatterns"},"Grok Patterns")),o.default.createElement(r.Col,{sm:10},this.isEmpty(this.state.grok_patterns)?o.default.createElement("span",{className:"help-block help-standalone"},"There are no grok patterns to export."):o.default.createElement("span",null,o.default.createElement(r.Button,{className:"btn btn-sm btn-link select-all",onClick:this.selectAllGrokPatterns},"Select all"),this.state.grok_patterns.sort(function(e,t){return e.name.localeCompare(t.name)}).map(this.formatGrokPattern)))),o.default.createElement("div",{className:"form-group"},o.default.createElement(r.Col,{sm:2},o.default.createElement("label",{className:"control-label",htmlFor:"outputs"},"Outputs")),o.default.createElement(r.Col,{sm:10},this.isEmpty(this.state.outputs)?o.default.createElement("span",{className:"help-block help-standalone"},"There are no outputs to export."):o.default.createElement("span",null,o.default.createElement(r.Button,{className:"btn btn-sm btn-link select-all",onClick:this.selectAllOutputs},"Select all"),this.state.outputs.sort(function(e,t){return e.title.localeCompare(t.title)}).map(this.formatOutput)))),o.default.createElement("div",{className:"form-group"},o.default.createElement(r.Col,{sm:2},o.default.createElement("label",{className:"control-label",htmlFor:"streams"},"Streams")),o.default.createElement(r.Col,{sm:10},this.isEmpty(this.state.streams)?o.default.createElement("span",{className:"help-block help-standalone"},"There are no streams to export."):o.default.createElement("span",null,o.default.createElement(r.Button,{className:"btn btn-sm btn-link select-all",onClick:this.selectAllStreams},"Select all"),this.state.streams.sort(function(e,t){return e.title.localeCompare(t.title)}).map(this.formatStream)))),o.default.createElement("div",{className:"form-group"},o.default.createElement(r.Col,{sm:2},o.default.createElement("label",{className:"control-label",htmlFor:"dashboards"},"Dashboards")),o.default.createElement(r.Col,{sm:10},this.isEmpty(this.state.dashboards)?o.default.createElement("span",{className:"help-block help-standalone"},"There are no dashboards to export."):o.default.createElement("span",null,o.default.createElement(r.Button,{className:"btn btn-sm btn-link select-all",onClick:this.selectAllDashboards},"Select all"),this.state.dashboards.sort(function(e,t){return e.title.localeCompare(t.title)}).map(this.formatDashboard)))),o.default.createElement("div",{className:"form-group"},o.default.createElement(r.Col,{sm:2},o.default.createElement("label",{className:"control-label",htmlFor:"lookup_tables"},"Lookup Tables")),o.default.createElement(r.Col,{sm:10},this.isEmpty(this.state.lookup_tables)?o.default.createElement("span",{className:"help-block help-standalone"},"There are no lookup tables to export."):o.default.createElement("span",null,o.default.createElement(r.Button,{className:"btn btn-sm btn-link select-all",onClick:this.selectAllLookupTables},"Select all"),this.state.lookup_tables.sort(function(e,t){return e.title.localeCompare(t.title)}).map(this.formatLookupTable)))),o.default.createElement("div",{className:"form-group"},o.default.createElement(r.Col,{sm:2},o.default.createElement("label",{className:"control-label",htmlFor:"lookup_caches"},"Lookup Caches")),o.default.createElement(r.Col,{sm:10},this.isEmpty(this.state.lookup_caches)?o.default.createElement("span",{className:"help-block help-standalone"},"There are no lookup caches to export."):o.default.createElement("span",null,o.default.createElement(r.Button,{className:"btn btn-sm btn-link select-all",onClick:this.selectAllLookupCaches},"Select all"),this.state.lookup_caches.sort(function(e,t){return e.title.localeCompare(t.title)}).map(this.formatLookupCache)))),o.default.createElement("div",{className:"form-group"},o.default.createElement(r.Col,{sm:2},o.default.createElement("label",{className:"control-label",htmlFor:"lookup_data_adapters"},"Lookup Data Adapters")),o.default.createElement(r.Col,{sm:10},this.isEmpty(this.state.lookup_data_adapters)?o.default.createElement("span",{className:"help-block help-standalone"},"There are no lookup data adapters to export."):o.default.createElement("span",null,o.default.createElement(r.Button,{className:"btn btn-sm btn-link select-all",onClick:this.selectAllLookupDataAdapters},"Select all"),this.state.lookup_data_adapters.sort(function(e,t){return e.title.localeCompare(t.title)}).map(this.formatLookupDataAdapter)))),o.default.createElement("div",{className:"form-group"},o.default.createElement(r.Col,{smOffset:2,sm:10},o.default.createElement(r.Button,{bsStyle:"success",type:"submit"},o.default.createElement("i",{className:"fa fa-cloud-download"})," Download my content pack"),o.default.createElement("br",null),o.default.createElement("br",null),o.default.createElement("p",null,o.default.createElement("i",{className:"fa fa-lightbulb-o"}),"  Share your content pack with the community on the ",o.default.createElement("a",{href:"https://marketplace.graylog.org/",target:"_blank"},"Graylog Marketplace")," after you have downloaded it."))))))))}});exports.default=A,e.exports=exports.default}});
//# sourceMappingURL=46.200197dca04f05abe3f2.js.map