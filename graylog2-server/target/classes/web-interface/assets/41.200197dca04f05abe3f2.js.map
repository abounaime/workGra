{"version":3,"sources":["webpack:///41.200197dca04f05abe3f2.js","webpack:///./src/components/users/UserList.jsx","webpack:///./src/pages/UsersPage.jsx","webpack:///./src/components/users/UserList.css","webpack:///./src/components/users/UserList.css?9f71"],"names":["webpackJsonp","1330","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_react","_react2","_reactRouterBootstrap","_reactBootstrap","_PermissionsMixin","_PermissionsMixin2","_Routes","_Routes2","_StoreProvider","_StoreProvider2","_common","_UserList","_UserList2","UsersStore","getStore","RolesStore","UserList","createClass","displayName","propTypes","currentUsername","PropTypes","string","isRequired","currentUser","object","mixins","getInitialState","users","undefined","roles","componentDidMount","_this","this","loadUsers","loadRoles","done","setState","map","role","name","_this2","_hasAdminRole","user","isPermitted","permissions","deleteUser","username","_this3","_deleteUserFunction","_this4","window","confirm","_headerCellFormatter","header","formattedHeaderCell","toLocaleLowerCase","createElement","className","popover","Popover","id","sessionBadgeDetails","OverlayTrigger","trigger","rootClose","placement","overlay","Button","bsStyle","helpHeaderRow","_userInfoFormatter","rowClass","props","userBadge","session_active","title","Timestamp","dateTime","last_activity","relative","client_address","activeSession","roleBadges","key","roleBadgeFixes","actions","read_only","tooltip","Tooltip","help","bsSize","disabled","deleteAction","onClick","editAction","LinkContainer","to","SYSTEM","AUTHENTICATION","USERS","edit","encodeURIComponent","full_name","email","limitedWide","render","filterKeys","headers","state","DataTable","headerCellFormatter","sortByKey","rows","filterBy","filterSuggestions","dataRowFormatter","filterLabel","Spinner","1415","_reflux","_reflux2","CurrentUserStore","UsersPage","connect","DocumentTitle","PageHeader","subpage","IfPermitted","CREATE","Row","Col","md","1430","push","i","locals","1497","content"],"mappings":"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","file":"41.200197dca04f05abe3f2.js","sourcesContent":["webpackJsonp([41],{\n\n/***/ 1330:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = __webpack_require__(2);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRouterBootstrap = __webpack_require__(949);\n\nvar _reactBootstrap = __webpack_require__(15);\n\nvar _PermissionsMixin = __webpack_require__(165);\n\nvar _PermissionsMixin2 = _interopRequireDefault(_PermissionsMixin);\n\nvar _Routes = __webpack_require__(75);\n\nvar _Routes2 = _interopRequireDefault(_Routes);\n\nvar _StoreProvider = __webpack_require__(18);\n\nvar _StoreProvider2 = _interopRequireDefault(_StoreProvider);\n\nvar _common = __webpack_require__(48);\n\nvar _UserList = __webpack_require__(1497);\n\nvar _UserList2 = _interopRequireDefault(_UserList);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar UsersStore = _StoreProvider2.default.getStore('Users');\nvar RolesStore = _StoreProvider2.default.getStore('Roles');\n\nvar UserList = _react2.default.createClass({\n  displayName: 'UserList',\n\n  propTypes: {\n    currentUsername: _react2.default.PropTypes.string.isRequired,\n    currentUser: _react2.default.PropTypes.object.isRequired\n  },\n\n  mixins: [_PermissionsMixin2.default],\n\n  getInitialState: function getInitialState() {\n    return {\n      users: undefined,\n      roles: undefined\n    };\n  },\n  componentDidMount: function componentDidMount() {\n    var _this = this;\n\n    this.loadUsers();\n    RolesStore.loadRoles().done(function (roles) {\n      _this.setState({ roles: roles.map(function (role) {\n          return role.name;\n        }) });\n    });\n  },\n  loadUsers: function loadUsers() {\n    var _this2 = this;\n\n    var promise = UsersStore.loadUsers();\n    promise.done(function (users) {\n      _this2.setState({\n        users: users\n      });\n    });\n  },\n  _hasAdminRole: function _hasAdminRole(user) {\n    return this.isPermitted(user.permissions, ['*']);\n  },\n  deleteUser: function deleteUser(username) {\n    var _this3 = this;\n\n    var promise = UsersStore.deleteUser(username);\n\n    promise.done(function () {\n      _this3.loadUsers();\n    });\n  },\n  _deleteUserFunction: function _deleteUserFunction(username) {\n    var _this4 = this;\n\n    return function () {\n      if (window.confirm('Do you really want to delete user ' + username + '?')) {\n        _this4.deleteUser(username);\n      }\n    };\n  },\n  _headerCellFormatter: function _headerCellFormatter(header) {\n    var formattedHeaderCell = void 0;\n\n    switch (header.toLocaleLowerCase()) {\n      case '':\n        formattedHeaderCell = _react2.default.createElement(\n          'th',\n          { className: 'user-type' },\n          header\n        );\n        break;\n      case 'client address':\n        {\n          var popover = _react2.default.createElement(\n            _reactBootstrap.Popover,\n            { id: 'decorators-help', className: _UserList2.default.sessionBadgeDetails },\n            _react2.default.createElement(\n              'p',\n              { className: 'description' },\n              'The address of the client used to initially establish the session, not necessarily its current address.'\n            )\n          );\n\n          formattedHeaderCell = _react2.default.createElement(\n            'th',\n            null,\n            header,\n            _react2.default.createElement(\n              _reactBootstrap.OverlayTrigger,\n              { trigger: 'click', rootClose: true, placement: 'top', overlay: popover },\n              _react2.default.createElement(\n                _reactBootstrap.Button,\n                { bsStyle: 'link', className: _UserList2.default.helpHeaderRow },\n                _react2.default.createElement('i', { className: 'fa fa-fw fa-question-circle' })\n              )\n            )\n          );\n          break;\n        }\n      case 'actions':\n        formattedHeaderCell = _react2.default.createElement(\n          'th',\n          { className: 'actions' },\n          header\n        );\n        break;\n      default:\n        formattedHeaderCell = _react2.default.createElement(\n          'th',\n          null,\n          header\n        );\n    }\n\n    return formattedHeaderCell;\n  },\n  _userInfoFormatter: function _userInfoFormatter(user) {\n    var rowClass = user.username === this.props.currentUsername ? 'active' : null;\n    var userBadge = null;\n    if (user.session_active) {\n      var popover = _react2.default.createElement(\n        _reactBootstrap.Popover,\n        { id: 'session-badge-details', title: 'Logged in', className: _UserList2.default.sessionBadgeDetails },\n        _react2.default.createElement(\n          'div',\n          null,\n          'Last activity: ',\n          _react2.default.createElement(_common.Timestamp, { dateTime: user.last_activity, relative: true })\n        ),\n        _react2.default.createElement(\n          'div',\n          null,\n          'Client address: ',\n          user.client_address\n        )\n      );\n      userBadge = _react2.default.createElement(\n        _reactBootstrap.OverlayTrigger,\n        { trigger: ['hover', 'focus'], placement: 'left', overlay: popover, rootClose: true },\n        _react2.default.createElement('i', { className: 'fa fa-circle ' + _UserList2.default.activeSession })\n      );\n    }\n\n    var roleBadges = user.roles.map(function (role) {\n      return _react2.default.createElement(\n        'span',\n        { key: role, className: _UserList2.default.roleBadgeFixes + ' label label-' + (role === 'Admin' ? 'info' : 'default') },\n        role\n      );\n    });\n\n    var actions = null;\n    if (user.read_only) {\n      var tooltip = _react2.default.createElement(\n        _reactBootstrap.Tooltip,\n        { id: 'system-user' },\n        'System users can only be modified in the Graylog configuration file.'\n      );\n      actions = _react2.default.createElement(\n        _reactBootstrap.OverlayTrigger,\n        { placement: 'left', overlay: tooltip },\n        _react2.default.createElement(\n          'span',\n          { className: _UserList2.default.help },\n          _react2.default.createElement(\n            _reactBootstrap.Button,\n            { bsSize: 'xs', bsStyle: 'info', disabled: true },\n            'System user'\n          )\n        )\n      );\n    } else {\n      var deleteAction = _react2.default.createElement(\n        _reactBootstrap.Button,\n        { id: 'delete-user-' + user.username, bsStyle: 'primary', bsSize: 'xs', title: 'Delete user',\n          onClick: this._deleteUserFunction(user.username) },\n        'Delete'\n      );\n\n      var editAction = _react2.default.createElement(\n        _reactRouterBootstrap.LinkContainer,\n        { to: _Routes2.default.SYSTEM.AUTHENTICATION.USERS.edit(encodeURIComponent(user.username)) },\n        _react2.default.createElement(\n          _reactBootstrap.Button,\n          { id: 'edit-user-' + user.username, bsStyle: 'info', bsSize: 'xs', title: 'Edit user ' + user.username },\n          'Edit'\n        )\n      );\n\n      actions = _react2.default.createElement(\n        'div',\n        null,\n        this.isPermitted(this.props.currentUser.permissions, ['users:edit']) ? deleteAction : null,\n        '\\xA0',\n        this.isPermitted(this.props.currentUser.permissions, ['users:edit:' + user.username]) ? editAction : null\n      );\n    }\n\n    return _react2.default.createElement(\n      'tr',\n      { key: user.username, className: rowClass },\n      _react2.default.createElement(\n        'td',\n        { className: 'centered' },\n        userBadge\n      ),\n      _react2.default.createElement(\n        'td',\n        { className: 'limited' },\n        user.full_name\n      ),\n      _react2.default.createElement(\n        'td',\n        { className: 'limited' },\n        user.username\n      ),\n      _react2.default.createElement(\n        'td',\n        { className: 'limited' },\n        user.email\n      ),\n      _react2.default.createElement(\n        'td',\n        { className: 'limited' },\n        user.client_address\n      ),\n      _react2.default.createElement(\n        'td',\n        { className: _UserList2.default.limitedWide },\n        roleBadges\n      ),\n      _react2.default.createElement(\n        'td',\n        null,\n        actions\n      )\n    );\n  },\n  render: function render() {\n    var filterKeys = ['username', 'full_name', 'email', 'client_address'];\n    var headers = ['', 'Name', 'Username', 'Email Address', 'Client Address', 'Role', 'Actions'];\n\n    if (this.state.users && this.state.roles) {\n      return _react2.default.createElement(\n        'div',\n        null,\n        _react2.default.createElement(_common.DataTable, { id: 'user-list',\n          className: 'table-hover',\n          headers: headers,\n          headerCellFormatter: this._headerCellFormatter,\n          sortByKey: 'full_name',\n          rows: this.state.users,\n          filterBy: 'role',\n          filterSuggestions: this.state.roles,\n          dataRowFormatter: this._userInfoFormatter,\n          filterLabel: 'Filter Users',\n          filterKeys: filterKeys })\n      );\n    }\n\n    return _react2.default.createElement(_common.Spinner, null);\n  }\n});\n\nexports.default = UserList;\nmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ 1415:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = __webpack_require__(2);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reflux = __webpack_require__(1);\n\nvar _reflux2 = _interopRequireDefault(_reflux);\n\nvar _reactBootstrap = __webpack_require__(15);\n\nvar _reactRouterBootstrap = __webpack_require__(949);\n\nvar _PermissionsMixin = __webpack_require__(165);\n\nvar _PermissionsMixin2 = _interopRequireDefault(_PermissionsMixin);\n\nvar _Routes = __webpack_require__(75);\n\nvar _Routes2 = _interopRequireDefault(_Routes);\n\nvar _StoreProvider = __webpack_require__(18);\n\nvar _StoreProvider2 = _interopRequireDefault(_StoreProvider);\n\nvar _common = __webpack_require__(48);\n\nvar _UserList = __webpack_require__(1330);\n\nvar _UserList2 = _interopRequireDefault(_UserList);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar CurrentUserStore = _StoreProvider2.default.getStore('CurrentUser');\n\nvar UsersPage = _react2.default.createClass({\n  displayName: 'UsersPage',\n\n  mixins: [_reflux2.default.connect(CurrentUserStore), _PermissionsMixin2.default],\n  render: function render() {\n    return _react2.default.createElement(\n      _common.DocumentTitle,\n      { title: 'Users' },\n      _react2.default.createElement(\n        'span',\n        null,\n        _react2.default.createElement(\n          _common.PageHeader,\n          { title: 'User accounts', subpage: true },\n          _react2.default.createElement(\n            'span',\n            null,\n            'Create as many users as you want next to the default administrator user here. You can also make changes to already existing users.'\n          ),\n          null,\n          _react2.default.createElement(\n            'span',\n            null,\n            _react2.default.createElement(\n              _common.IfPermitted,\n              { permissions: 'users:edit' },\n              _react2.default.createElement(\n                _reactRouterBootstrap.LinkContainer,\n                { to: _Routes2.default.SYSTEM.AUTHENTICATION.USERS.CREATE },\n                _react2.default.createElement(\n                  _reactBootstrap.Button,\n                  { bsStyle: 'success' },\n                  'Add new user'\n                )\n              )\n            )\n          )\n        ),\n        _react2.default.createElement(\n          _reactBootstrap.Row,\n          null,\n          _react2.default.createElement(\n            _reactBootstrap.Col,\n            { md: 12 },\n            _react2.default.createElement(_UserList2.default, { currentUsername: this.state.currentUser.username, currentUser: this.state.currentUser })\n          )\n        )\n      )\n    );\n  }\n});\n\nexports.default = UsersPage;\nmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ 1430:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(19)();\n// imports\n\n\n// module\nexports.push([module.i, \"._1nMuMHVw4CwQEsDB2ZIcxA{font-size:12px}._1jzOFTX6rcaHioqDrbefXj{color:#72a230}._2SzIWOlWbzCZsyFhwXvIMJ{margin-right:5px;margin-bottom:5px;display:inline-block;line-height:15px}.kC2umW87uww30Z_H44wv1{max-width:300px}._1z326CnBfOJTcXiFkdkWyZ{cursor:help}._3jtB0mSKD0gEANdY1uXjBe{cursor:help;padding:0 0 0 2px;display:inline-flex}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"sessionBadgeDetails\": \"_1nMuMHVw4CwQEsDB2ZIcxA\",\n\t\"activeSession\": \"_1jzOFTX6rcaHioqDrbefXj\",\n\t\"roleBadgeFixes\": \"_2SzIWOlWbzCZsyFhwXvIMJ\",\n\t\"limitedWide\": \"kC2umW87uww30Z_H44wv1\",\n\t\"help\": \"_1z326CnBfOJTcXiFkdkWyZ\",\n\t\"helpHeaderRow\": \"_3jtB0mSKD0gEANdY1uXjBe\"\n};\n\n/***/ }),\n\n/***/ 1497:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(1430);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(20)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!./UserList.css\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!./UserList.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 41.200197dca04f05abe3f2.js","import React from 'react';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport { Button, OverlayTrigger, Popover, Tooltip } from 'react-bootstrap';\n\nimport PermissionsMixin from 'util/PermissionsMixin';\nimport Routes from 'routing/Routes';\n\nimport StoreProvider from 'injection/StoreProvider';\nconst UsersStore = StoreProvider.getStore('Users');\nconst RolesStore = StoreProvider.getStore('Roles');\n\nimport { DataTable, Spinner, Timestamp } from 'components/common';\n\nimport UserListStyle from '!style!css!./UserList.css';\n\nconst UserList = React.createClass({\n  propTypes: {\n    currentUsername: React.PropTypes.string.isRequired,\n    currentUser: React.PropTypes.object.isRequired,\n  },\n\n  mixins: [PermissionsMixin],\n\n  getInitialState() {\n    return {\n      users: undefined,\n      roles: undefined,\n    };\n  },\n  componentDidMount() {\n    this.loadUsers();\n    RolesStore.loadRoles().done((roles) => {\n      this.setState({ roles: roles.map(role => role.name) });\n    });\n  },\n\n  loadUsers() {\n    const promise = UsersStore.loadUsers();\n    promise.done((users) => {\n      this.setState({\n        users: users,\n      });\n    });\n  },\n  _hasAdminRole(user) {\n    return this.isPermitted(user.permissions, ['*']);\n  },\n  deleteUser(username) {\n    const promise = UsersStore.deleteUser(username);\n\n    promise.done(() => {\n      this.loadUsers();\n    });\n  },\n  _deleteUserFunction(username) {\n    return () => {\n      if (window.confirm(`Do you really want to delete user ${username}?`)) {\n        this.deleteUser(username);\n      }\n    };\n  },\n  _headerCellFormatter(header) {\n    let formattedHeaderCell;\n\n    switch (header.toLocaleLowerCase()) {\n      case '':\n        formattedHeaderCell = <th className=\"user-type\">{header}</th>;\n        break;\n      case 'client address': {\n        const popover = (<Popover id=\"decorators-help\" className={UserListStyle.sessionBadgeDetails}>\n          <p className=\"description\">\n            The address of the client used to initially establish the session, not necessarily its current address.\n          </p>\n        </Popover>);\n\n        formattedHeaderCell = (<th>\n          {header}\n          <OverlayTrigger trigger=\"click\" rootClose placement=\"top\" overlay={popover}>\n            <Button bsStyle=\"link\" className={UserListStyle.helpHeaderRow}><i className=\"fa fa-fw fa-question-circle\" /></Button>\n          </OverlayTrigger>\n        </th>);\n        break;\n      }\n      case 'actions':\n        formattedHeaderCell = <th className=\"actions\">{header}</th>;\n        break;\n      default:\n        formattedHeaderCell = <th>{header}</th>;\n    }\n\n    return formattedHeaderCell;\n  },\n  _userInfoFormatter(user) {\n    const rowClass = user.username === this.props.currentUsername ? 'active' : null;\n    let userBadge = null;\n    if (user.session_active) {\n      const popover = (\n        <Popover id=\"session-badge-details\" title=\"Logged in\" className={UserListStyle.sessionBadgeDetails}>\n          <div>Last activity: <Timestamp dateTime={user.last_activity} relative /></div>\n          <div>Client address: {user.client_address}</div>\n        </Popover>\n      );\n      userBadge = (<OverlayTrigger trigger={['hover', 'focus']} placement=\"left\" overlay={popover} rootClose>\n        <i className={`fa fa-circle ${UserListStyle.activeSession}`} />\n      </OverlayTrigger>);\n    }\n\n    const roleBadges = user.roles.map(role => <span key={role} className={`${UserListStyle.roleBadgeFixes} label label-${role === 'Admin' ? 'info' : 'default'}`}>{role}</span>);\n\n    let actions = null;\n    if (user.read_only) {\n      const tooltip = <Tooltip id=\"system-user\">System users can only be modified in the Graylog configuration file.</Tooltip>;\n      actions = (\n        <OverlayTrigger placement=\"left\" overlay={tooltip}>\n          <span className={UserListStyle.help}>\n            <Button bsSize=\"xs\" bsStyle=\"info\" disabled>System user</Button>\n          </span>\n        </OverlayTrigger>\n      );\n    } else {\n      const deleteAction = (\n        <Button id={`delete-user-${user.username}`} bsStyle=\"primary\" bsSize=\"xs\" title=\"Delete user\"\n                onClick={this._deleteUserFunction(user.username)}>\n          Delete\n        </Button>\n      );\n\n      const editAction = (\n        <LinkContainer to={Routes.SYSTEM.AUTHENTICATION.USERS.edit(encodeURIComponent(user.username))}>\n          <Button id={`edit-user-${user.username}`} bsStyle=\"info\" bsSize=\"xs\" title={`Edit user ${user.username}`}>\n            Edit\n          </Button>\n        </LinkContainer>\n      );\n\n      actions = (\n        <div>\n          {this.isPermitted(this.props.currentUser.permissions, ['users:edit']) ? deleteAction : null}\n          &nbsp;\n          {this.isPermitted(this.props.currentUser.permissions, [`users:edit:${user.username}`]) ? editAction : null}\n        </div>\n      );\n    }\n\n    return (\n      <tr key={user.username} className={rowClass}>\n        <td className=\"centered\">{userBadge}</td>\n        <td className=\"limited\">{user.full_name}</td>\n        <td className=\"limited\">{user.username}</td>\n        <td className=\"limited\">{user.email}</td>\n        <td className=\"limited\">{user.client_address}</td>\n        <td className={UserListStyle.limitedWide}>{roleBadges}</td>\n        <td>{actions}</td>\n      </tr>\n    );\n  },\n  render() {\n    const filterKeys = ['username', 'full_name', 'email', 'client_address'];\n    const headers = ['', 'Name', 'Username', 'Email Address', 'Client Address', 'Role', 'Actions'];\n\n    if (this.state.users && this.state.roles) {\n      return (\n        <div>\n          <DataTable id=\"user-list\"\n                     className=\"table-hover\"\n                     headers={headers}\n                     headerCellFormatter={this._headerCellFormatter}\n                     sortByKey={'full_name'}\n                     rows={this.state.users}\n                     filterBy=\"role\"\n                     filterSuggestions={this.state.roles}\n                     dataRowFormatter={this._userInfoFormatter}\n                     filterLabel=\"Filter Users\"\n                     filterKeys={filterKeys} />\n        </div>\n      );\n    }\n\n    return <Spinner />;\n  },\n});\n\nexport default UserList;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/users/UserList.jsx","import React from 'react';\nimport Reflux from 'reflux';\nimport { Row, Col, Button } from 'react-bootstrap';\nimport { LinkContainer } from 'react-router-bootstrap';\n\nimport PermissionsMixin from 'util/PermissionsMixin';\nimport Routes from 'routing/Routes';\n\nimport StoreProvider from 'injection/StoreProvider';\nconst CurrentUserStore = StoreProvider.getStore('CurrentUser');\n\nimport { DocumentTitle, IfPermitted, PageHeader } from 'components/common';\nimport UserList from 'components/users/UserList';\n\nconst UsersPage = React.createClass({\n  mixins: [Reflux.connect(CurrentUserStore), PermissionsMixin],\n  render() {\n    return (\n      <DocumentTitle title=\"Users\">\n        <span>\n          <PageHeader title=\"User accounts\" subpage>\n            <span>Create as many users as you want next to the default administrator user here. You can also make changes to already existing users.</span>\n            {null}\n            <span>\n              <IfPermitted permissions=\"users:edit\">\n                <LinkContainer to={Routes.SYSTEM.AUTHENTICATION.USERS.CREATE}>\n                  <Button bsStyle=\"success\">Add new user</Button>\n                </LinkContainer>\n              </IfPermitted>\n            </span>\n          </PageHeader>\n\n          <Row>\n            <Col md={12}>\n              <UserList currentUsername={this.state.currentUser.username} currentUser={this.state.currentUser} />\n            </Col>\n          </Row>\n        </span>\n      </DocumentTitle>\n    );\n  },\n});\n\nexport default UsersPage;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/UsersPage.jsx","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"._1nMuMHVw4CwQEsDB2ZIcxA{font-size:12px}._1jzOFTX6rcaHioqDrbefXj{color:#72a230}._2SzIWOlWbzCZsyFhwXvIMJ{margin-right:5px;margin-bottom:5px;display:inline-block;line-height:15px}.kC2umW87uww30Z_H44wv1{max-width:300px}._1z326CnBfOJTcXiFkdkWyZ{cursor:help}._3jtB0mSKD0gEANdY1uXjBe{cursor:help;padding:0 0 0 2px;display:inline-flex}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"sessionBadgeDetails\": \"_1nMuMHVw4CwQEsDB2ZIcxA\",\n\t\"activeSession\": \"_1jzOFTX6rcaHioqDrbefXj\",\n\t\"roleBadgeFixes\": \"_2SzIWOlWbzCZsyFhwXvIMJ\",\n\t\"limitedWide\": \"kC2umW87uww30Z_H44wv1\",\n\t\"help\": \"_1z326CnBfOJTcXiFkdkWyZ\",\n\t\"helpHeaderRow\": \"_3jtB0mSKD0gEANdY1uXjBe\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./src/components/users/UserList.css\n// module id = 1430\n// module chunks = 41","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!./UserList.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!./UserList.css\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!./UserList.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader!./~/css-loader!./src/components/users/UserList.css\n// module id = 1497\n// module chunks = 41"],"sourceRoot":""}